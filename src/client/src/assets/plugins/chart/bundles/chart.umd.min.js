!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@angular/common"),require("uilib"),require("@angular/forms"),require("common"),require("lodash"),require("ngx-perfect-scrollbar"),require("primeng"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("chart",["exports","@angular/core","@angular/router","@angular/common","uilib","@angular/forms","common","lodash","ngx-perfect-scrollbar","primeng","rxjs","rxjs/operators"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).chart={},e.ng.core,e.ng.router,e.ng.common,e.uilib,e.ng.forms,e.common,e._,e.i5,e.i3,e.rxjs,e.rxjs.operators)}(this,(function(e,t,n,o,r,i,a,l,d,s,c,u){"use strict";var p=function(){function e(){}return e.prototype.ngOnInit=function(){console.log("create GeneralEditorComponent")},e.prototype.ngOnDestroy=function(){console.log("detroy GeneralEditorComponent")},e}();p.ɵfac=function(e){return new(e||p)},p.ɵcmp=t.ɵɵdefineComponent({type:p,selectors:[["editor-general"]],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"general will be here")},encapsulation:2});var g,h="panel";!function(e){e.Linear="linear",e.Log2="log2",e.Log10="log10",e.Log32="log32",e.Log1024="log1024"}(g||(g={}));var m,f,v,b,y,x,C=function(){this.operator=b.Gt,this.colorType=y.Critical,this.fill=!0,this.line=!0,this.axis=x.Left};!function(e){e.All="all",e.Single="single"}(m||(m={})),function(e){e.None="none",e.Increasing="increasing",e.Decreasing="decreasing"}(f||(f={})),function(e){e.Connected="connected",e.Null="null",e.NullAsZero="nullAsZero"}(v||(v={})),function(e){e.Gt="gt",e.Lt="lt"}(b||(b={})),function(e){e.Custom="custom",e.Critical="critical",e.Warning="warning",e.Ok="ok"}(y||(y={})),function(e){e.Left="left",e.Right="right"}(x||(x={}));var _=function(){function e(e){this.panel=e}return e.prototype.ngOnInit=function(){console.log("create MetricsComponent"),console.log(this.panel)},e.prototype.ngOnDestroy=function(){console.log("detroy MetricsComponent")},e}();_.ɵfac=function(e){return new(e||_)(t.ɵɵdirectiveInject(h))},_.ɵcmp=t.ɵɵdefineComponent({type:_,selectors:[["editor-metrics"]],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"metrics will be here")},encapsulation:2});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function M(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function S(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function E(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(S(arguments[t]));return e}var D,P=function(){function e(e){this.panel=e}return Object.defineProperty(e.prototype,"widget",{get:function(){return this.panel.widget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.axes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"legend",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.legend},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thresholds",{get:function(){return this.display.thresholds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.widget.component.control.chart.options},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.widget.component.control.refresh()},e.prototype.update=function(){var e=this.widget.component;e.datasets.forEach((function(t){return e.display.setup(t)})),this.refresh()},e}();P.ɵfac=function(e){t.ɵɵinvalidFactory()},P.ɵdir=t.ɵɵdefineDirective({type:P}),function(e){e[e.None=0]="None",e[e.Common_Short=1]="Common_Short",e[e.Common_Percent=2]="Common_Percent",e[e.Common_Percent01=3]="Common_Percent01",e[e.Common_Humidity=4]="Common_Humidity",e[e.Common_Decibel=5]="Common_Decibel",e[e.Common_Hex0x=6]="Common_Hex0x",e[e.Common_Hex=7]="Common_Hex",e[e.Common_SciNotation=8]="Common_SciNotation",e[e.Common_LocaleString=9]="Common_LocaleString",e[e.Length_Millimetre=10]="Length_Millimetre",e[e.Length_Meter=11]="Length_Meter",e[e.Length_Feet=12]="Length_Feet",e[e.Length_Kilometer=13]="Length_Kilometer",e[e.Length_Mile=14]="Length_Mile",e[e.Area_SquareMeters=15]="Area_SquareMeters",e[e.Area_SquareFeet=16]="Area_SquareFeet",e[e.Area_SquareMiles=17]="Area_SquareMiles",e[e.Mass_Milligram=18]="Mass_Milligram",e[e.Mass_Gram=19]="Mass_Gram",e[e.Mass_Kilogram=20]="Mass_Kilogram",e[e.Mass_MetricTon=21]="Mass_MetricTon"}(D||(D={}));var I=function(e,t,n,o){this.type=e,this.label=t,this.unit=n,this.command=o},O=function(){function e(){}return e.getData=function(e){switch(+e){case D.Common_Short:return new I(D.Common_Short,"short","");case D.Common_Percent:return new I(D.Common_Percent,"percent (0-100)","%");case D.Common_Percent01:return new I(D.Common_Percent01,"percent (0.0-1.0)","%");case D.Common_Humidity:return new I(D.Common_Humidity,"humidity (%H)","%H");case D.Common_Decibel:return new I(D.Common_Decibel,"decibel","dB");case D.Common_Hex0x:return new I(D.Common_Hex0x,"hexadecimal (0x)","");case D.Common_Hex:return new I(D.Common_Hex,"hexadecimal","");case D.Common_SciNotation:return new I(D.Common_SciNotation,"scientific notation","");case D.Common_LocaleString:return new I(D.Common_LocaleString,"locale string","");case D.Length_Millimetre:return new I(D.Length_Millimetre,"millimetre (mm)","mm");case D.Length_Meter:return new I(D.Length_Meter,"meter (m)","m");case D.Length_Feet:return new I(D.Length_Feet,"feet (ft)","ft");case D.Length_Kilometer:return new I(D.Length_Kilometer,"kilometer (km)","km");case D.Length_Mile:return new I(D.Length_Mile,"mile (mi)","mi");case D.Area_SquareMeters:return new I(D.Area_SquareMeters,"Square Meters (m²)","m²");case D.Area_SquareFeet:return new I(D.Area_SquareFeet,"Square Feet (ft²)","ft²");case D.Area_SquareMiles:return new I(D.Area_SquareMiles,"Square Miles (mi²)","mi²");case D.Mass_Milligram:return new I(D.Mass_Milligram,"milligram (mg)","mg");case D.Mass_Gram:return new I(D.Mass_Gram,"gram (g)","g");case D.Mass_Kilogram:return new I(D.Mass_Kilogram,"kilogram (kg)","kg");case D.Mass_MetricTon:return new I(D.Mass_MetricTon,"metric ton (t)","t")}return new I(D.None,"none","")},e.getFormattedValue=function(t,n,o){var r=t.toFixed(o),i=e.getData(n);switch(i.type){case D.Common_Hex:return t.toString(16);case D.Common_Hex0x:return"0x"+t.toString(16);case D.Common_Percent01:return(100*t).toFixed(o)+" %";case D.Common_SciNotation:return t.toExponential(o);case D.Common_LocaleString:return t.toLocaleString();case D.Common_Short:return e.getShortFormattedValue(t,n,o);case D.None:return r;default:return r+" "+i.unit}},e.getShortFormattedValue=function(e,t,n){var o=1,r="";return e>=1e3&&e<1e6?(r="K",o=1e3):e>=1e6&&e<1e9?(r="Mil",o=1e6):e>=1e9&&e<1e12?(r="Bil",o=1e9):e>=1e12&&e<1e15?(r="Tri",o=1e12):e>=1e15&&e<1e18&&(r="Qdr",o=1e15),(e/o).toFixed(n)+" "+r},e}(),A=[{label:"none",items:[O.getData(D.None),O.getData(D.Common_Short),O.getData(D.Common_Percent),O.getData(D.Common_Percent01),O.getData(D.Common_Humidity),O.getData(D.Common_Decibel),O.getData(D.Common_Hex0x),O.getData(D.Common_Hex),O.getData(D.Common_SciNotation),O.getData(D.Common_LocaleString)]},{label:"length",items:[O.getData(D.Length_Millimetre),O.getData(D.Length_Meter),O.getData(D.Length_Feet),O.getData(D.Length_Kilometer),O.getData(D.Length_Mile)]},{label:"area",items:[O.getData(D.Area_SquareMeters),O.getData(D.Area_SquareFeet),O.getData(D.Area_SquareMiles)]},{label:"mass",items:[O.getData(D.Mass_Milligram),O.getData(D.Mass_Gram),O.getData(D.Mass_Kilogram),O.getData(D.Mass_MetricTon)]}],F=function(e){function t(t){var n=e.call(this,t)||this;return n.left=!0,n.units=l.cloneDeep(A),n.scales=r.DropDownComponent.wrapEnum(g),n}return M(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this.left?this.axes.leftY:this.axes.rightY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartAxis",{get:function(){return this.options.scales.yAxes[this.left?0:1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.axis.show},set:function(e){this.axis.show=this.chartAxis.display=e,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){return this.axis.unit},set:function(e){this.axis.unit=e,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.axis.scale},set:function(e){this.axis.scale=e,this.chartAxis.type=e==g.Linear?"linear":"logarithmic",this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.axis.label},set:function(e){this.axis.label=e;var t=this.chartAxis.scaleLabel;e?(t.display=!0,t.labelString=e):(t.display=!1,t.labelString=void 0),this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decimals",{get:function(){return this.axis.decimals},set:function(e){this.axis.decimals=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.axis.min},set:function(e){this.axis.min=this.chartAxis.ticks.min=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.axis.max},set:function(e){this.axis.max=this.chartAxis.ticks.max=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),t}(P);F.ɵfac=function(e){return new(e||F)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},F.ɵcmp=t.ɵɵdefineComponent({type:F,selectors:[["editor-axis-y"]],inputs:{left:"left"},features:[t.ɵɵInheritDefinitionFeature],decls:11,vars:11,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","6","label","Show",3,"ngModel","ngModelChange"],["label","Unit","width","16","labelWidth","6",3,"valueProperty","ngModel","data","ngModelChange"],["label","Scale","labelWidth","6","width","16",3,"ngModel","data","ngModelChange"],[1,"gf-form-inline"],["type","number","labelWidth","6","label","Y-Min","width","5","placeholder","auto",3,"ngModel","ngModelChange"],["type","number","labelWidth","6","label","Y-Max","width","5","placeholder","auto",3,"ngModel","ngModelChange"],["type","text","labelWidth","6","label","Decimals","width","16","placeholder","auto",3,"ngModel","ngModelChange"],["labelWidth","6","label","Label","width","16",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.show=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-hierarchical-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.unit=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-dropdown",4),t.ɵɵlistener("ngModelChange",(function(e){return n.scale=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",5),t.ɵɵelementStart(7,"ed-textbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.min=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-textbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.max=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-textbox",8),t.ɵɵlistener("ngModelChange",(function(e){return n.decimals=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"ed-textbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.label=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵtextInterpolate(n.left?"Left Y":"Right Y"),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.show),t.ɵɵadvance(1),t.ɵɵproperty("valueProperty","type")("ngModel",n.unit)("data",n.units),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.scale)("data",n.scales),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.min),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.max),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.decimals),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.label))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.HierarchicalDropDownComponent,r.DropDownComponent,r.TextBoxComponent],encapsulation:2});var L=function(e){function t(t){return e.call(this,t)||this}return M(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this.axes.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartAxis",{get:function(){return this.options.scales.xAxes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.axis.show},set:function(e){this.axis.show=this.chartAxis.display=e,this.refresh()},enumerable:!1,configurable:!0}),t}(P);L.ɵfac=function(e){return new(e||L)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},L.ɵcmp=t.ɵɵdefineComponent({type:L,selectors:[["editor-axis-x"]],features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:1,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","6","label","Show",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"X-Axis"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.show=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.show))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel],encapsulation:2});var k=function(e){function t(t){return e.call(this,t)||this}return M(t,e),t}(P);k.ɵfac=function(e){return new(e||k)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},k.ɵcmp=t.ɵɵdefineComponent({type:k,selectors:[["editor-axes"]],features:[t.ɵɵInheritDefinitionFeature],decls:3,vars:1,consts:[[3,"left"]],template:function(e,n){1&e&&(t.ɵɵelement(0,"editor-axis-y"),t.ɵɵelement(1,"editor-axis-y",0),t.ɵɵelement(2,"editor-axis-x")),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("left",!1))},directives:[F,L],encapsulation:2});var T=function(e){function t(t){return e.call(this,t)||this}return M(t,e),t}(P);T.ɵfac=function(e){return new(e||T)(t.ɵɵdirectiveInject(h))},T.ɵcmp=t.ɵɵdefineComponent({type:T,selectors:[["editor-legend"]],features:[t.ɵɵInheritDefinitionFeature],decls:23,vars:11,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","7","label","Show",3,"ngModel","ngModelChange"],["labelWidth","7","label","As Table",3,"ngModel","ngModelChange"],["labelWidth","7","label","To the right",3,"ngModel","ngModelChange"],[1,"gf-form-inline"],["labelWidth","4","label","Min",3,"ngModel","ngModelChange"],["labelWidth","6","label","Min",3,"ngModel","ngModelChange"],["labelWidth","4","label","Avg",3,"ngModel","ngModelChange"],["labelWidth","6","label","Current",3,"ngModel","ngModelChange"],["labelWidth","4","label","Total",3,"ngModel","ngModelChange"],["type","number","labelWidth","6","label","Decimals","width","4","placeholder","auto",3,"ngModel","ngModelChange"],["labelWidth","10","label","With only nulls",3,"ngModel","ngModelChange"],["labelWidth","10","label","With only zeros",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Options"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.show=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-checkbox",3),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.table=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.right=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",0),t.ɵɵelementStart(7,"h5",1),t.ɵɵtext(8,"Values"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",5),t.ɵɵelementStart(10,"ed-checkbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.min=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.max=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"div",5),t.ɵɵelementStart(13,"ed-checkbox",8),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.avg=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"ed-checkbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.current=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(15,"div",5),t.ɵɵelementStart(16,"ed-checkbox",10),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.total=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"ed-textbox",11),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.decimals=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",0),t.ɵɵelementStart(19,"h5",1),t.ɵɵtext(20,"Hide series"),t.ɵɵelementEnd(),t.ɵɵelementStart(21,"ed-checkbox",12),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.hideOnlyNulls=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(22,"ed-checkbox",13),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.hideOnlyZeroes=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.legend.show),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.table),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.right),t.ɵɵadvance(5),t.ɵɵproperty("ngModel",n.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.max),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.current),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.legend.total),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.decimals),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.legend.hideOnlyNulls),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.hideOnlyZeroes))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent],encapsulation:2});var N=function(e){function t(t){var n=e.call(this,t)||this;return n.availableWidth=r.DropDownComponent.wrapArray([0,1,2,3,4,5,6,7,8,9,10]),n.availableTooltipModes=r.DropDownComponent.wrapEnum(m),n.availableTooltipSortOrders=r.DropDownComponent.wrapEnum(f),n.availableNullValueOptions=r.DropDownComponent.wrapEnum(v),n}return M(t,e),Object.defineProperty(t.prototype,"stack",{get:function(){return this.display.stack},set:function(e){this.display.stack=e,this.options.scales.yAxes[0].stacked=e,this.refresh()},enumerable:!1,configurable:!0}),t}(P);N.ɵfac=function(e){return new(e||N)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},N.ɵcmp=t.ɵɵdefineComponent({type:N,selectors:[["editor-draw-options"]],features:[t.ɵɵInheritDefinitionFeature],decls:23,vars:19,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","5","label","Bars"],["labelWidth","5","label","Lines",3,"ngModel","ngModelChange","checked"],["labelWidth","5","label","Points",3,"ngModel","ngModelChange","checked"],["label","Fill","labelWidth","8","width","5",3,"ngModel","data","ngModelChange","selectionChange"],["label","Line Width","labelWidth","8","width","5",3,"ngModel","data","disabled","ngModelChange","selectionChange"],["label","Staircase","labelWidth","8","width","5",3,"ngModel","ngModelChange","checked"],["label","Point Radius","labelWidth","8","width","5",3,"ngModel","data","disabled","ngModelChange","selectionChange"],["label","Mode","labelWidth","9","width","9",3,"data","ngModel","ngModelChange"],["label","Sort Order","labelWidth","9","width","9",3,"data","ngModel","ngModelChange"],["labelWidth","7","label","Stack",3,"ngModel","ngModelChange"],["label","Null Value",3,"ngModel","data","labelWidth","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Draw Modes"),t.ɵɵelementEnd(),t.ɵɵelement(3,"ed-checkbox",2),t.ɵɵelementStart(4,"ed-checkbox",3),t.ɵɵlistener("ngModelChange",(function(e){return n.display.showLines=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.display.showPoints=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",0),t.ɵɵelementStart(7,"h5",1),t.ɵɵtext(8,"Mode Options"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-dropdown",5),t.ɵɵlistener("ngModelChange",(function(e){return n.display.fill=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"ed-dropdown",6),t.ɵɵlistener("ngModelChange",(function(e){return n.display.lineWidth=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.display.staircase=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"ed-dropdown",8),t.ɵɵlistener("ngModelChange",(function(e){return n.display.pointRadius=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"div",0),t.ɵɵelementStart(14,"h5",1),t.ɵɵtext(15,"Hover tooltip"),t.ɵɵelementEnd(),t.ɵɵelementStart(16,"ed-dropdown",9),t.ɵɵlistener("ngModelChange",(function(e){return n.display.tooltipMode=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"ed-dropdown",10),t.ɵɵlistener("ngModelChange",(function(e){return n.display.tooltipSortOrder=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",0),t.ɵɵelementStart(19,"h5",1),t.ɵɵtext(20,"Stacking & Null value"),t.ɵɵelementEnd(),t.ɵɵelementStart(21,"ed-checkbox",11),t.ɵɵlistener("ngModelChange",(function(e){return n.stack=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(22,"ed-dropdown",12),t.ɵɵlistener("ngModelChange",(function(e){return n.display.nullValue=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.display.showLines),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.showPoints),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.display.fill)("data",n.availableWidth),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.lineWidth)("data",n.availableWidth)("disabled",!n.display.showLines),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.staircase),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.pointRadius)("data",n.availableWidth)("disabled",!n.display.showPoints),t.ɵɵadvance(4),t.ɵɵproperty("data",n.availableTooltipModes)("ngModel",n.display.tooltipMode),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableTooltipSortOrders)("ngModel",n.display.tooltipSortOrder),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.stack),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.nullValue)("data",n.availableNullValueOptions)("labelWidth",7))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.DropDownComponent],encapsulation:2});var j=function(e){function t(t){return e.call(this,t)||this}return M(t,e),t.prototype.ngOnInit=function(){console.log("create SeriesOverridesEditorComponent")},t.prototype.ngOnDestroy=function(){console.log("detroy SeriesOverridesEditorComponent")},t}(P);j.ɵfac=function(e){return new(e||j)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},j.ɵcmp=t.ɵɵdefineComponent({type:j,selectors:[["editor-series-overrides"]],features:[t.ɵɵInheritDefinitionFeature],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"series overrides will be here")},encapsulation:2});var R=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.availableOperatorValues=r.DropDownComponent.wrapEnum(b),o.availableColorValues=r.DropDownComponent.wrapEnum(y),o.availableAxisValues=r.DropDownComponent.wrapEnum(x),o}return M(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.threshold.value},set:function(e){var t=+e;this.threshold.value=isNaN(t)||!e?void 0:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomColors",{get:function(){return y.Custom==this.threshold.colorType},enumerable:!1,configurable:!0}),n}(P);function W(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-threshold",6),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("threshold",r)("index",i)}}R.ɵfac=function(e){return new(e||R)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},R.ɵcmp=t.ɵɵdefineComponent({type:R,selectors:[["editor-threshold"]],inputs:{threshold:"threshold",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:12,vars:11,consts:[[1,"gf-form-inline"],["width","6","remove-host","",3,"data","ngModel","label","ngModelChange"],["placeholder","value","type","number","width","8","remove-host","",3,"ngModel","ngModelChange","changed"],["label","Color","remove-host","",3,"data","ngModel","ngModelChange","selectionChange"],["label","Fill","remove-host","",3,"ngModel","ngModelChange","checked"],["label","Line","remove-host","",3,"ngModel","ngModelChange","checked"],["label","Line color",3,"ngModel","ngModelChange"],["label","Y-Axis","remove-host","",3,"data","ngModel","ngModelChange"],[1,"gf-form"],[1,"gf-form-label"],[1,"pointer",3,"click"],[1,"fa","fa-trash"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"ed-dropdown",1),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.operator=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"ed-textbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.value=e}))("changed",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.colorType=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.fill=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",5),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.line=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-color-picker",6),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.lineColor=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"ed-dropdown",7),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.axis=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"div",8),t.ɵɵelementStart(9,"label",9),t.ɵɵelementStart(10,"a",10),t.ɵɵlistener("click",(function(){return n.removed.emit(n.threshold)})),t.ɵɵelement(11,"i",11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵpropertyInterpolate1("label","T",n.index+1,""),t.ɵɵproperty("data",n.availableOperatorValues)("ngModel",n.threshold.operator),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.value),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableColorValues)("ngModel",n.threshold.colorType),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.fill),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.line),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.lineColor),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableAxisValues)("ngModel",n.threshold.axis))},directives:[r.DropDownComponent,r.RemoveHostDirective,i.NgControlStatus,i.NgModel,r.TextBoxComponent,r.CheckBoxComponent,r.ColorPickerComponent],encapsulation:2});var V=function(e){function t(t){return e.call(this,t)||this}return M(t,e),t.prototype.onAdd=function(){this.thresholds.push(new C)},t.prototype.onRemove=function(e){var t=this.thresholds.indexOf(e);-1!==t&&this.thresholds.splice(t,1)},t}(P);V.ɵfac=function(e){return new(e||V)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},V.ɵcmp=t.ɵɵdefineComponent({type:V,selectors:[["editor-thresholds"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],["ng-class","{'thresholds-form-disabled': ctrl.disabled}"],[3,"threshold","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],["ng-disabled","ctrl.disabled",1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"threshold","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Thresholds"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",1),t.ɵɵtemplate(4,W,1,2,"editor-threshold",2),t.ɵɵelementStart(5,"div",3),t.ɵɵelementStart(6,"button",4),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",5),t.ɵɵtext(8," Add Threshold "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.thresholds))},directives:[o.NgForOf,R],encapsulation:2});var B=function(e){function t(t){return e.call(this,t)||this}return M(t,e),t.prototype.ngOnInit=function(){console.log("create TimeRegionsEditorComponent")},t.prototype.ngOnDestroy=function(){console.log("detroy TimeRegionsEditorComponent")},t}(P);function H(e,n){1&e&&t.ɵɵelement(0,"editor-draw-options")}function q(e,n){1&e&&(t.ɵɵtext(0," Series overrides"),t.ɵɵelementStart(1,"span",6),t.ɵɵtext(2,"(5)"),t.ɵɵelementEnd())}function Y(e,n){1&e&&t.ɵɵelement(0,"editor-series-overrides")}function G(e,n){1&e&&t.ɵɵelement(0,"editor-thresholds")}function K(e,n){1&e&&t.ɵɵelement(0,"editor-time-regions")}B.ɵfac=function(e){return new(e||B)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},B.ɵcmp=t.ɵɵdefineComponent({type:B,selectors:[["editor-time-regions"]],features:[t.ɵɵInheritDefinitionFeature],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"time regions will be here")},encapsulation:2});var $=function(e){function t(t){var n=e.call(this,t)||this;return n.index=2,n}return M(t,e),t}(P);function X(e,n){1&e&&t.ɵɵelement(0,"editor-general")}function z(e,n){1&e&&t.ɵɵelement(0,"editor-metrics")}function U(e,n){1&e&&t.ɵɵelement(0,"editor-axes")}function Z(e,n){1&e&&t.ɵɵelement(0,"editor-legend")}function Q(e,n){1&e&&t.ɵɵelement(0,"editor-display")}function J(e,n){1&e&&t.ɵɵtext(0," alert will be here ")}function ee(e,n){1&e&&t.ɵɵtext(0," time range will be here ")}$.ɵfac=function(e){return new(e||$)(t.ɵɵdirectiveInject(a.PANEL_TOKEN))},$.ɵcmp=t.ɵɵdefineComponent({type:$,selectors:[["editor-display"]],features:[t.ɵɵInheritDefinitionFeature],decls:10,vars:1,consts:[[3,"ngModel","ngModelChange"],["header","Draw options"],["edTabContent",""],["edTabTitle",""],["header","Thresholds"],["header","Time regions"],[1,"muted","ml-1"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ed-side-tabstrip",0),t.ɵɵlistener("ngModelChange",(function(e){return n.index=e})),t.ɵɵelementStart(1,"ed-tab",1),t.ɵɵtemplate(2,H,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab"),t.ɵɵtemplate(4,q,3,0,"ng-template",3),t.ɵɵtemplate(5,Y,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-tab",4),t.ɵɵtemplate(7,G,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-tab",5),t.ɵɵtemplate(9,K,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngModel",n.index)},directives:[r.SideTabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,r.TabTitleTemplate,N,j,V,B],encapsulation:2});var te=function(){function e(e,t,n){var o=this;this.router=e,this.activatedRoute=t,this.location=n,this.index=0,this.activatedRoute.queryParamMap.subscribe((function(e){var t=e.get("tab");Number.isInteger(+t)&&(o.index=+t)}))}return e.prototype.onTabSelected=function(e){var t=this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{tab:e},queryParamsHandling:"merge"}).toString();this.location.go(t)},e}();te.ɵfac=function(e){return new(e||te)(t.ɵɵdirectiveInject(n.Router),t.ɵɵdirectiveInject(n.ActivatedRoute),t.ɵɵdirectiveInject(o.Location))},te.ɵcmp=t.ɵɵdefineComponent({type:te,selectors:[["widget-editor"]],decls:15,vars:1,consts:[["header","Graph",3,"ngModel","ngModelChange","selected"],["header","General"],["edTabContent",""],["header","Metrics"],["header","Axes"],["header","Legend"],["header","Display"],["header","Alert"],["header","Time range"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ed-tabstrip",0),t.ɵɵlistener("ngModelChange",(function(e){return n.index=e}))("selected",(function(e){return n.onTabSelected(e)})),t.ɵɵelementStart(1,"ed-tab",1),t.ɵɵtemplate(2,X,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab",3),t.ɵɵtemplate(4,z,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-tab",4),t.ɵɵtemplate(6,U,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"ed-tab",5),t.ɵɵtemplate(8,Z,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-tab",6),t.ɵɵtemplate(10,Q,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-tab",7),t.ɵɵtemplate(12,J,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"ed-tab",8),t.ɵɵtemplate(14,ee,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngModel",n.index)},directives:[r.TabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,p,_,k,T,$],encapsulation:2});!function(){function e(){}e.alignPixel=function(e,t,n){var o=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*o)/o+r}}();var ne=function(){function e(){}return e.getColor=function(e){var t=this.palette[e.index%this.palette.length];return this.hexToRgb(t)},e.getColorAsArgbFunc=function(e,t){void 0===t&&(t=1);var n=this.getColor(e);return"rgba("+n.r+","+n.g+","+n.b+", "+t+")"},e.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},e.parse=function(e){var t=[];if("#"==e.substr(0,1)){var n=(e.length-1)/3,o=[17,1,.062272][n-1];t=[Math.round(parseInt(e.substr(1,n),16)*o),Math.round(parseInt(e.substr(1+n,n),16)*o),Math.round(parseInt(e.substr(1+2*n,n),16)*o)]}else t=e.split("(")[1].split(")")[0].split(",").map(Math.round);return{r:t[0],g:t[1],b:t[2]}},e.rgbToHex=function(t){var n=e.parse(t);return"#"+n.r.toString(16).padStart(2,"0")+n.g.toString(16).padStart(2,"0")+n.b.toString(16).padStart(2,"0")},e}();ne.palette=["7eb26d","cca300","6ed0e0","EF843C","E24D42","1F78C1","BA43A9","705DA0","508642","CCA300","447EBC","C15C17","890F02","0A437C","6D1F62","584477","B7DBAB","F4D598","70DBED","F9BA8F","F29191","82B5D8","E5A8E2","AEA2E0","629E51","E5AC0E","64B0C8","E0752D","BF1B00","0A50A1","962D82","614D93","9AC48A","F2C96D","65C5DB","F9934E","5195CE","D683CE","806EB7","3F6833","967302","2F575E","99440A","58140C","052B51","511749","3F2B5B","E0F9D7","FCEACA","CFFAFF","F9E2D2","FCE2DE","BADFF4","F9D9F9","DEDAF7","EA6460"];var oe=function(){function e(e){this.panel=e}return Object.defineProperty(e.prototype,"display",{get:function(){return this.panel.widget.display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.panel.widget.component.control.chart.options},enumerable:!1,configurable:!0}),e.prototype.setup=function(e){this.setupLines(e),this.setupPoints(e),this.setupNullValue(e)},e.prototype.setupLines=function(e){var t=this.getShowLines(e),n=this.getLineWidth(e),o=this.getFill(e),r=o/10;if(e.fill=o>0,e.backgroundColor=this.getLineColor(e,r),r=t&&n?1:0,e.borderColor=this.getLineColor(e,r),e.borderWidth=n,e.steppedLine=this.getStaircase(e),this.getDashes(e)){var i=this.getDashLength(e),a=this.getDashSpace(e);e.borderDash=[i,a]}else e.borderDash=void 0;e.order=this.getZIndex(e),e.legend=this.getLegend(e)},e.prototype.setupPoints=function(e){var t=this.getShowPoints(e),n=t?1:0,o=this.getLineColor(e,n);e.pointBorderColor=""+o,e.pointBackgroundColor=""+o,e.pointRadius=t?this.getPointRadius(e):0},e.prototype.setupNullValue=function(e){switch(this.display.nullValue){case v.Connected:this.options.spanGaps=!0,e.data.forEach((function(e){return e.y=e.isNull?null:e.y}));break;case v.Null:this.options.spanGaps=!1,e.data.forEach((function(e){return e.y=e.isNull?null:e.y}));break;case v.NullAsZero:this.options.spanGaps=!1,e.data.forEach((function(e){return e.y=e.isNull?0:e.y}))}},e.prototype.setupOverrides=function(){},e.prototype.getShowLines=function(e){var t=this.getOverride(e);return t&&null!=t.lines?t.lines:this.display.showLines},e.prototype.getLineWidth=function(e){var t=this.getOverride(e);return t&&null!=t.lineWidth?t.lineWidth:this.display.lineWidth},e.prototype.getLineColor=function(e,t){var n,o=this.getOverride(e),r=ne.getColorAsArgbFunc(e,t),i=o&&null!=o.color;if(i){var a=ne.parse(o.color);n="rgba("+a.r+","+a.g+","+a.b+","+t+")"}return i?n:r},e.prototype.getFill=function(e){var t=this.getOverride(e);return t&&null!=t.lineFill?t.lineFill:this.display.fill},e.prototype.getStaircase=function(e){var t=this.getOverride(e);return t&&null!=t.staircase?t.staircase:this.display.staircase},e.prototype.getDashes=function(e){var t=this.getOverride(e);return!(!t||null==t.dashes)&&t.dashes},e.prototype.getDashLength=function(e){var t=this.getOverride(e);return t&&null!=t.dashLength?t.dashLength:1},e.prototype.getDashSpace=function(e){var t=this.getOverride(e);return t&&null!=t.dashSpace?t.dashSpace:1},e.prototype.getShowPoints=function(e){var t=this.getOverride(e);return t&&null!=t.points?t.points:this.display.showPoints},e.prototype.getPointRadius=function(e){var t=this.getOverride(e);return t&&null!=t.pointRadius?t.pointRadius:this.display.pointRadius},e.prototype.getLegend=function(e){var t=this.getOverride(e);return!t||null==t.legend||t.legend},e.prototype.getZIndex=function(e){var t=this.getOverride(e);return t&&null!=t.zIndex?t.zIndex:0},e.prototype.getYAxis=function(e){var t=this.getOverride(e);return t&&null!=t.yAxis?t.yAxis:1},e.prototype.getOverride=function(e){return this.display.overrides.find((function(t){return t.alias&&new RegExp(t.alias).test(e.label)}))},e}();oe.ɵfac=function(e){return new(e||oe)(t.ɵɵinject(h))},oe.ɵprov=t.ɵɵdefineInjectable({token:oe,factory:oe.ɵfac});var re=function(){function e(e){this.dispay=e}return e.prototype.toDataSets=function(e){var t=this;if(!e||0===e.length)return[];var n=[],o=0;return e.forEach((function(e){var r=E(e.columns.slice(1).map((function(n,r){return t.toDataSet(e,r+1,o++)}))).filter((function(e){return e}));(n=E(n,r)).forEach((function(e){return t.dispay.setup(e)}))})),n},e.prototype.toDataSet=function(e,t,n){var o=e.values.map((function(e){var n=null==e[t];return{x:a.Moment.valueOf(e[0]),y:e[t],isNull:n}})),r=o.map((function(e){return e.y})).filter((function(e){return null!=e})).map((function(e){return parseFloat(e)}));if(0!=r.length){var i=r.reduce((function(e,t){return e+t}))/r.length,l=r.every((function(e){return null==e})),d=r.every((function(e){return 0==e}));return{label:this.generateDataSetName(e,t),data:o,lineTension:0,min:Math.min.apply(Math,E(r)),max:Math.max.apply(Math,E(r)),avg:i,current:r.slice(-1)[0],allNulls:l,allZeros:d,index:n,pointRadius:0,borderColor:"#ff0000"}}},e.prototype.generateDataSetName=function(e,t){var n=e.name+"."+e.columns[t],o="",r=(Object.keys(e.tags),0);for(var i in e.tags)o+=(r>0?", ":"")+i+": "+e.tags[i],r++;return o&&(n=n+" {"+o+"}"),n},e}();re.ɵfac=function(e){return new(e||re)(t.ɵɵinject(oe))},re.ɵprov=t.ɵɵdefineInjectable({token:re,factory:re.ɵfac});var ie=function(){function e(e,n,o,r,i){var a=this;this.pluginActivator=e,this.dsService=n,this.converter=o,this.time=r,this.panel=i,this.data$=new t.EventEmitter,this.timeSubs=this.time.range$.pipe(u.tap((function(e){return a.request=""})),u.mergeMap((function(e){return a.pluginActivator.createDataSourceMetricsBuilder(i)})),u.mergeMap((function(e){return e.build(a.metrics,r.range)}))).subscribe((function(e){return a.pull(e)}))}return Object.defineProperty(e.prototype,"metrics",{get:function(){var e,t;return null===(t=null===(e=this.panel)||void 0===e?void 0:e.widget)||void 0===t?void 0:t.metrics},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;null===(e=this.timeSubs)||void 0===e||e.unsubscribe()},e.prototype.pull=function(e){var t=this;this.request!==e&&(this.request=e,console.log("pull: "+e),e?(this.panel.loading=!0,this.dsService.proxy(6,e).pipe(u.finalize((function(){return t.panel.loading=!1}))).subscribe((function(e){return t.onData(e)}),(function(e){return t.onError(e.error)}))):this.onData([]))},e.prototype.onData=function(e){this.data$.emit({datasets:this.converter.toDataSets(e)})},e.prototype.onError=function(e){},e}();ie.ɵfac=function(e){return new(e||ie)(t.ɵɵinject(a.PluginActivator),t.ɵɵinject(a.DataSourceService),t.ɵɵinject(re),t.ɵɵinject(a.TimeRangeStore),t.ɵɵinject(h))},ie.ɵprov=t.ɵɵdefineInjectable({token:ie,factory:ie.ɵfac});var ae=function(){function e(e,t,n){var o=this;this.dataProvider=e,this.display=t,this.panel=n,this.widget=new c.BehaviorSubject(null),this.widget$=this.widget.asObservable(),this.data=new c.BehaviorSubject(null),this.data$=this.data.asObservable(),e.data$.subscribe((function(e){var t;return o.data.next(null!==(t=null==e?void 0:e.datasets)&&void 0!==t?t:[])})),this.widget.next(n.widget)}return e.prototype.destroy=function(){this.dataProvider.destroy(),this.widget.value.component=void 0},e}();ae.ɵfac=function(e){return new(e||ae)(t.ɵɵinject(ie),t.ɵɵinject(oe),t.ɵɵinject(a.PANEL_TOKEN))},ae.ɵprov=t.ɵɵdefineInjectable({token:ae,factory:ae.ɵfac});var le=function(){function e(e){this.store=e}return e.prototype.afterDatasetsDraw=function(e,t){},e.prototype.getMousePos=function(e,t){if(t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}},e}();le.ɵfac=function(e){return new(e||le)(t.ɵɵinject(ae))},le.ɵprov=t.ɵɵdefineInjectable({token:le,factory:le.ɵfac});var de=function(){function e(e,t){this.model=e,this.component=t,this.ID="chartjs-tooltip",this.TOOLTIP_SELECTOR="ed-tooltip"}return e.build=function(t){return Chart.Tooltip.positioners.custom=function(e,t){return{x:t.x,y:t.y}},{mode:"index",position:"custom",axis:"x",intersect:!1,caretSize:0,xPadding:10,bodySpacing:5,titleAlign:"right",enabled:!1,custom:function(n){return new e(n,t).create()}}},Object.defineProperty(e.prototype,"root",{get:function(){var e=document.getElementById(this.ID);return e||((e=document.createElement("div")).id=this.ID,e.innerHTML="<div class='graph-tooltip grafana-tooltip "+this.TOOLTIP_SELECTOR+"'></div>",document.body.appendChild(e)),e},enumerable:!1,configurable:!0}),e.prototype.create=function(){var e=this.root;0!==this.model.opacity?(e.classList.remove("above","below","no-transform"),this.model.yAlign?e.classList.add(this.model.yAlign):e.classList.add("no-transform"),this.model.body&&this.createBody(),this.setPosition()):e.style.opacity="0"},e.prototype.setPosition=function(){var e=this.root,t=this.component.control.chart.canvas.getBoundingClientRect(),n=document.getElementsByClassName(this.TOOLTIP_SELECTOR)[0].getBoundingClientRect().width,o=this.model.caretX+n>t.width?n+2*this.model.xPadding:0;e.style.opacity="1",e.style.position="absolute",e.style.left=t.left+window.pageXOffset+this.model.caretX-o+"px",e.style.top=t.top+window.pageYOffset+this.model.caretY+"px",e.style.fontFamily=this.model._bodyFontFamily,e.style.padding=this.model.yPadding+"px "+this.model.xPadding+"px",e.style.pointerEvents="none"},e.prototype.createBody=function(){var e=this.root,t=this.component,n=this.component.store.panel.widget,o=this.model.title||[],r="";o.forEach((function(e){var t=Date.parse(e),n=a.Moment.format(t);r+='<div class="graph-tooltip-time">'+n+"</div>"})),this.sort().forEach((function(e,o){var i=e.seriesName,a=e.value,l='\n\t\t\t\t<div class="graph-tooltip-series-name">\n\t\t\t\t\t<i class="fa fa-minus" style="color:'+e.colorFunc+';"></i> '+i+":\n\t\t\t\t</div>",d=(t.data.datasets.find((function(e){return e.label==i})),n.axes.leftY),s=n.legend.decimals?n.legend.decimals:1,c=O.getFormattedValue(a,d.unit,s);r+='\n\t\t\t\t<div class="graph-tooltip-list-item">\n\t\t\t\t\t'+l+"\n\t\t\t\t\t"+('<div class="graph-tooltip-value ">'+c+"</div>")+"\n\t\t\t\t</div>"})),e.querySelector("."+this.TOOLTIP_SELECTOR).innerHTML=r},e.prototype.sort=function(){var e=this;var t=this.model.body.map((function(e){return e.lines})),n=this.component.widget.display.tooltipSortOrder,o=[];switch(t.forEach((function(t,n){var r=e.model.labelColors[n],i=ne.parse(r.backgroundColor),a="rgba("+i.r+","+i.g+","+i.b+",1)",l=t[0].lastIndexOf(":"),d=t[0].substring(0,l),s=parseFloat(e.model.dataPoints[n].value);o.push({seriesName:d,value:s,colorFunc:a})})),n){case f.Increasing:o.sort((function(e,t){return e.value-t.value}));break;case f.Decreasing:o.sort((function(e,t){return t.value-e.value}))}return o},e}(),se=function(){function e(){}return e.getOptions=function(e){Chart.defaults.global.defaultFontColor="#e3e3e3",Chart.defaults.global.defaultFontFamily="Roboto",Chart.defaults.global.defaultFontSize=11;var t=e.widget;return{maintainAspectRatio:!1,animation:!1,tooltips:de.build(e),legend:{display:!1},spanGaps:!0,scales:{xAxes:[this.getAxisX(t)],yAxes:[this.getAxisY(t,!0),this.getAxisY(t,!1)]
/*!AxesManager.needSecondaryYAxis(widget) true ? [axisYa] : [axisYa, axisYb]				*/}}},e.getAxisX=function(e){return{type:"time",gridLines:{color:"rgba( 255,255,255, 0.1)"},ticks:{autoSkip:!0,autoSkipPadding:50,maxRotation:0,minRotation:0},time:{displayFormats:{second:"HH:mm:ss",minute:"HH:mm",hour:"HH:mm",day:"M/D HH:mm",week:"M/D",month:"M/D",year:"YYYY-M"}},display:e.axes.x.show}},e.getAxisY=function(e,t){var n=t?e.axes.leftY:e.axes.rightY,o=t?this.AXIS_Y_LEFT:this.AXIS_Y_RIGHT;return console.log(),{id:o,display:n.show,type:n.scale&&n.scale!=g.Linear?"logarithmic":"linear",gridLines:{color:"rgba( 255,255,255, 0.1)",zeroLineWidth:3},position:t?"left":"right",scaleLabel:{display:n.label,labelString:n.label},ticks:{min:n.min,max:n.max,userCallback:function(e,t,o){if(!(o.length>8)||t%2)return O.getFormattedValue(e,n.unit,n.decimals)}},stacked:e.display.stack}},e}();se.AXIS_X="xAxis",se.AXIS_Y_LEFT="yAxisL",se.AXIS_Y_RIGHT="yAxisR";var ce=function(){function e(e){var t=this;this.store=e,this.dataSubs=e.data$.subscribe((function(e){return t.data={datasets:e}})),this.widgetSubs=e.widget$.subscribe((function(e){t.widget=e,e&&t.onWidgetReady()}))}return Object.defineProperty(e.prototype,"datasets",{get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.datasets},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.widget.component},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this.store.display},enumerable:!1,configurable:!0}),e.prototype.onWidgetReady=function(){},e.prototype.ngOnDestroy=function(){var e,t;null===(e=this.dataSubs)||void 0===e||e.unsubscribe(),null===(t=this.widgetSubs)||void 0===t||t.unsubscribe()},e}();ce.ɵfac=function(e){return new(e||ce)(t.ɵɵdirectiveInject(ae))},ce.ɵdir=t.ɵɵdefineDirective({type:ce});var ue=function(){function e(e){var t=this;this.store=e,this.widgetSubs=e.widget$.subscribe((function(e){return t.widget=e}))}return e.prototype.destroy=function(){var e;null===(e=this.widgetSubs)||void 0===e||e.unsubscribe()},e}();ue.ɵfac=function(e){return new(e||ue)(t.ɵɵdirectiveInject(ae))},ue.ɵdir=t.ɵɵdefineDirective({type:ue});var pe=function(e){function t(t){return e.call(this,t)||this}return M(t,e),Object.defineProperty(t.prototype,"thresholds",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.display.thresholds},enumerable:!1,configurable:!0}),t.prototype.afterDatasetsDraw=function(e,t){this.thresholds.forEach((function(t){return new ge(e,t).draw()}))},t}(ue);pe.ɵfac=function(e){return new(e||pe)(t.ɵɵinject(ae))},pe.ɵprov=t.ɵɵdefineInjectable({token:pe,factory:pe.ɵfac});var ge=function(){function e(e,t){this.chart=e,this.threshold=t}return Object.defineProperty(e.prototype,"context",{get:function(){return this.chart.chart.ctx},enumerable:!1,configurable:!0}),e.prototype.draw=function(){if(null!=this.threshold.value){var e=this.chart.scales[se.AXIS_Y_LEFT],t=this.chart.scales[se.AXIS_Y_RIGHT],n=this.chart.scales["x-axis-0"],o=this.threshold.axis==x.Right&&t?t:e,r=o.getPixelForValue(this.threshold.value),i=this.threshold.operator==b.Gt;if(!(!i&&this.threshold.value<o.min||i&&this.threshold.value>o.max||!this.chart.data.datasets.length)){if(this.threshold.line){var a=this.getColor(!1);this.renderLine(n,a,r)}this.threshold.fill&&this.renderRectangle(n,o,r)}}},e.prototype.renderLine=function(e,t,n){this.context.beginPath(),this.context.strokeStyle=t+"99",this.context.lineWidth=2,this.context.moveTo(e.left,n),this.context.lineTo(e.right,n),this.context.stroke()},e.prototype.renderRectangle=function(e,t,n){var o=this.getColor(!0),r=this.threshold.operator==b.Gt;this.context.fillStyle=o+"22";var i=e.left,a=e.width,l=t.getPixelForValue(t.max),d=t.getPixelForValue(t.min),s=r?l:Math.max(l,n),c=r?n-t.top:t.bottom-n;c=Math.min(d-l,c),this.context.fillRect(i,s,a,c)},e.prototype.getColor=function(e){switch(this.threshold.colorType){case y.Critical:return"#ED2E18";case y.Ok:return"#10a345";case y.Warning:return"#f79520"}var t="#ffffff";return e?this.threshold.fillColor?this.threshold.fillColor:t:this.threshold.lineColor?this.threshold.lineColor:t},e}(),he=function(){function e(e,t){this.thresholds=e,this.trackball=t}return Object.defineProperty(e.prototype,"list",{get:function(){return[this.thresholds]},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.list.forEach((function(e){return e.destroy()}))},e}();function me(e,n){1&e&&t.ɵɵelement(0,"chart-legend",7)}function fe(e,n){1&e&&t.ɵɵelement(0,"chart-legend",8)}he.ɵfac=function(e){return new(e||he)(t.ɵɵinject(pe),t.ɵɵinject(le))},he.ɵprov=t.ɵɵdefineInjectable({token:he,factory:he.ɵfac});var ve=function(e){function t(t,n){var o=e.call(this,t)||this;return o.extensions=n,o.options=se.getOptions(o),o.plugins=n.list,o}return M(t,e),Object.defineProperty(t.prototype,"legend",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.legend},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.widget.component=this},t.prototype.ngOnDestroy=function(){this.store.destroy(),this.extensions.destroy()},t}(ce);function be(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",17),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.min(o))}}function ye(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",18),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.max(o))}}function xe(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",19),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.avg(o))}}function Ce(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",20),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.current(o))}}ve.ɵfac=function(e){return new(e||ve)(t.ɵɵdirectiveInject(ae),t.ɵɵdirectiveInject(he))},ve.ɵcmp=t.ɵɵdefineComponent({type:ve,selectors:[["widget"]],viewQuery:function(e,n){var o;(1&e&&t.ɵɵviewQuery(s.UIChart,!0),2&e)&&(t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.control=o.first))},features:[t.ɵɵProvidersFeature([ie,re,oe,ae,he,le,pe]),t.ɵɵInheritDefinitionFeature],decls:7,vars:5,consts:[[1,"chart__wrapper"],[1,"chart__right-legend-cont"],[1,"chart__canvas-cont"],["type","line","height","100%",3,"data","options","plugins"],["chart",""],["class","chart__legend-right",4,"ngIf"],["class","chart__legend-bottom",4,"ngIf"],[1,"chart__legend-right"],[1,"chart__legend-bottom"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelement(3,"p-chart",3,4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,me,1,0,"chart-legend",5),t.ɵɵelementEnd(),t.ɵɵtemplate(6,fe,1,0,"chart-legend",6),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("data",n.data)("options",n.options)("plugins",n.plugins),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.legend.show&&(null==n.legend?null:n.legend.right)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.legend.show&&!(null!=n.legend&&n.legend.right)))},styles:[".hide-text{background-color:transparent;border:0;color:transparent;font:0/0 a;text-shadow:none}.input-block-level{box-sizing:border-box;display:block;min-height:18px;width:100%}.animate-height{max-height:0;overflow:hidden}.animate-height--open{max-height:1000px;overflow:auto;transition:max-height .25s ease-in-out}.chart__wrapper{display:flex;flex-direction:column;height:100%;min-height:0;position:relative}.chart__right-legend-cont{cursor:crosshair;display:flex;flex:1;min-height:0;min-width:0}.chart__canvas-cont{flex:1;min-height:0;min-width:0;padding-left:5px}.chart__legend-bottom{flex:0 1 auto;flex-wrap:wrap;max-height:35%;overflow:hidden;padding-top:6px;position:relative}.chart__legend-right{flex:0 1 10px}.graph-tooltip{background-color:#141414;color:#d8d9da;font-size:12px;white-space:nowrap}.graph-tooltip .graph-tooltip-time{color:#d8d9da;font-weight:700;padding:.2rem;position:relative;text-align:center;top:-3px}.graph-tooltip .graph-tooltip-list-item{display:table-row}.graph-tooltip .graph-tooltip-list-item--highlight{color:#ececec;font-weight:700}.graph-tooltip .graph-tooltip-series-name{display:table-cell;max-width:650px;overflow:hidden;padding:.15rem;text-overflow:ellipsis}.graph-tooltip .graph-tooltip-value{display:table-cell;font-weight:700;padding-left:15px;text-align:right}.grafana-tooltip{border-radius:5px;font-weight:200;line-height:14px;max-height:600px;max-width:800px;overflow:hidden;padding:10px;position:absolute;z-index:9999}.grafana-tooltip a{color:#e3e3e3}"],encapsulation:2});var _e=function(e){return{hidden:e}};function we(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",9),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onSeriesClicked(r,e)})),t.ɵɵelementStart(1,"div",10),t.ɵɵelement(2,"i",11),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"a",12),t.ɵɵtext(4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,be,2,1,"div",13),t.ɵɵtemplate(6,ye,2,1,"div",14),t.ɵɵtemplate(7,xe,2,1,"div",15),t.ɵɵtemplate(8,Ce,2,1,"div",16),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(9,_e,r.hidden)),t.ɵɵadvance(1),t.ɵɵstyleProp("color",i.color(r)),t.ɵɵadvance(2),t.ɵɵproperty("title",r.label),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.current)}}function Me(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",7),t.ɵɵtemplate(1,we,9,11,"div",8),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵproperty("@fadeInOut",void 0),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o.datasets)}}function Se(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",3),t.ɵɵelementStart(1,"perfect-scrollbar"),t.ɵɵelementStart(2,"div",4),t.ɵɵtemplate(3,Me,2,2,"div",5),t.ɵɵelement(4,"div",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(3),t.ɵɵproperty("ngIf",null==o.datasets?null:o.datasets.length)}}function Ee(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"min"),t.ɵɵelementEnd())}function De(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"max"),t.ɵɵelementEnd())}function Pe(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"avg"),t.ɵɵelementEnd())}function Ie(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"current"),t.ɵɵelementEnd())}function Oe(e,n){if(1&e&&(t.ɵɵelementStart(0,"thead"),t.ɵɵelementStart(1,"tr"),t.ɵɵelement(2,"th",27),t.ɵɵtemplate(3,Ee,2,0,"th",28),t.ɵɵtemplate(4,De,2,0,"th",28),t.ɵɵtemplate(5,Pe,2,0,"th",28),t.ɵɵtemplate(6,Ie,2,0,"th",28),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(3);t.ɵɵadvance(3),t.ɵɵproperty("ngIf",o.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.current)}}function Ae(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.min(o))}}function Fe(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.max(o))}}function Le(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.avg(o))}}function ke(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.current(o))}}function Te(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"tr",30),t.ɵɵelementStart(1,"td",31),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onSeriesClicked(r,e)})),t.ɵɵelementStart(2,"div",10),t.ɵɵelement(3,"i",11),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",12),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵtemplate(6,Ae,2,1,"td",32),t.ɵɵtemplate(7,Fe,2,1,"td",32),t.ɵɵtemplate(8,Le,2,1,"td",32),t.ɵɵtemplate(9,ke,2,1,"td",32),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(9,_e,r.hidden)),t.ɵɵadvance(2),t.ɵɵstyleProp("color",i.color(r)),t.ɵɵadvance(2),t.ɵɵproperty("title",r.label),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.current)}}function Ne(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",4),t.ɵɵelementStart(1,"div",23),t.ɵɵelementStart(2,"table",24),t.ɵɵelementStart(3,"colgroup"),t.ɵɵelement(4,"col",24),t.ɵɵelementEnd(),t.ɵɵtemplate(5,Oe,7,4,"thead",25),t.ɵɵelementStart(6,"tbody"),t.ɵɵtemplate(7,Te,10,11,"tr",26),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(8,"div",6),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵproperty("@fadeInOut",void 0),t.ɵɵadvance(5),t.ɵɵproperty("ngIf",o.datasets&&o.datasets.length>0),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",o.datasets)}}function je(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",21),t.ɵɵelementStart(1,"perfect-scrollbar"),t.ɵɵtemplate(2,Ne,9,3,"div",22),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵproperty("ngIf",null==o.datasets?null:o.datasets.length)}}var Re=function(e){function t(t){return e.call(this,t)||this}return M(t,e),Object.defineProperty(t.prototype,"legend",{get:function(){return this.widget.legend},enumerable:!1,configurable:!0}),t.prototype.axis=function(e){return this.widget.axes.leftY},t.prototype.decimals=function(e){return this.legend.decimals?this.legend.decimals:0},t.prototype.unit=function(e){return this.axis(e).unit},t.prototype.color=function(e){return this.display.getLineColor(e,1)},t.prototype.min=function(e){return O.getFormattedValue(e.min,this.unit(e),this.decimals(e))},t.prototype.max=function(e){return O.getFormattedValue(e.max,this.unit(e),this.decimals(e))},t.prototype.avg=function(e){return O.getFormattedValue(e.avg,this.unit(e),this.decimals(e))},t.prototype.current=function(e){return O.getFormattedValue(e.current,this.unit(e),this.decimals(e))},t.prototype.onSeriesClicked=function(e,t){var n=this;if(t.ctrlKey){var o=0==e.selected;this.toggleSeries(e,o)}else{var r=void 0===e.selected||0==e.selected||void 0;this.toggleSeries(e,r),this.datasets.filter((function(t){return t!=e})).forEach((function(e){return n.toggleSeries(e,1!=r&&void 0)}))}this.component.control.refresh()},t.prototype.toggleSeries=function(e,t){e.selected=t,void 0===t?(delete e.hidden,delete e.selected):e.hidden=!t},t}(ce);Re.ɵfac=function(e){return new(e||Re)(t.ɵɵdirectiveInject(ae))},Re.ɵcmp=t.ɵɵdefineComponent({type:Re,selectors:[["chart-legend"]],features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:2,consts:[[1,"legend__top-wrapper"],["class","legend__bottom",4,"ngIf","ngIfElse"],["legendAsTable",""],[1,"legend__bottom"],[1,"legend__scroller-cont"],["class","legend__series-wrapper",4,"ngIf"],[1,"legend__scroller-padding"],[1,"legend__series-wrapper"],["class","legend__series",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"legend__series",3,"ngClass","click"],[1,"legend__icon"],[1,"fa","fa-minus","pointer"],[1,"legend__alias","pointer",3,"title"],["class","legend__value min",4,"ngIf"],["class","legend__value max",4,"ngIf"],["class","legend__value avg",4,"ngIf"],["class","legend__value current",4,"ngIf"],[1,"legend__value","min"],[1,"legend__value","max"],[1,"legend__value","avg"],[1,"legend__value","current"],[1,"legend__bottom-table"],["class","legend__scroller-cont",4,"ngIf"],[1,"legend__series-wrapper","legend__full-width"],[1,"legend__full-width"],[4,"ngIf"],["class","legend__series",3,"ngClass",4,"ngFor","ngForOf"],[2,"text-align","left"],["class","pointer",4,"ngIf"],[1,"pointer"],[1,"legend__series",3,"ngClass"],[3,"click"],["class","legend__value",4,"ngIf"],[1,"legend__value"]],template:function(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,Se,5,1,"div",1),t.ɵɵtemplate(2,je,3,1,"ng-template",null,2,t.ɵɵtemplateRefExtractor),t.ɵɵelementEnd()),2&e){var o=t.ɵɵreference(3);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.legend.table)("ngIfElse",o)}},directives:[o.NgIf,d.PerfectScrollbarComponent,o.NgForOf,o.NgClass],styles:['.hide-text{background-color:transparent;border:0;color:transparent;font:0/0 a;text-shadow:none}.input-block-level{box-sizing:border-box;display:block;min-height:18px;width:100%}.animate-height{max-height:0;overflow:hidden}.animate-height--open{max-height:1000px;overflow:auto;transition:max-height .25s ease-in-out}.legend__top-wrapper{display:flex;flex-grow:1;max-height:100%;min-height:0;overflow:hidden;position:relative;width:100%}.legend__bottom{min-width:0;padding-bottom:5px}.legend__scroller-cont{display:flex;flex-direction:row}.legend__scroller-padding{min-width:10px}.legend__series-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;min-width:0}.legend__series{min-width:0;padding-left:10px;white-space:nowrap}.legend__series--right-y{float:right}.legend__series.hidden .legend__alias,.legend__series.hidden .legend__value{color:#969696}.legend__alias,.legend__icon,.legend__value{cursor:pointer;display:inline;font-size:85%;text-align:left;white-space:nowrap}.legend__alias.current:before,.legend__icon.current:before,.legend__value.current:before{content:"Current: "}.legend__alias.max:before,.legend__icon.max:before,.legend__value.max:before{content:"Max: "}.legend__alias.min:before,.legend__icon.min:before,.legend__value.min:before{content:"Min: "}.legend__alias.total:before,.legend__icon.total:before,.legend__value.total:before{content:"Total: "}.legend__alias.avg:before,.legend__icon.avg:before,.legend__value.avg:before{content:"Avg: "}.legend__icon{padding-right:4px;position:relative;top:1px}.legend__icon .fa{font-size:135%;position:relative;top:1px}.legend__value{padding-left:6px}.legend__bottom-table{padding-bottom:1px;padding-left:5px;padding-right:5px;width:100%}.legend__bottom-table .legend__series{display:table-row;float:none;padding-left:0}.legend__bottom-table .legend__series--right-y{float:none}.legend__bottom-table .legend__series--right-y .legend__alias:after{color:#8e8e8e;content:"(right-y)";padding:0 5px}.legend__bottom-table .legend__alias,.legend__bottom-table .legend__icon,.legend__bottom-table .legend__value,.legend__bottom-table td{display:table-cell;float:none;padding:2px 10px;text-align:right;white-space:nowrap}.legend__bottom-table .legend__icon{padding:0;top:0;width:5px}.legend__bottom-table .legend__icon .fa{top:3px}.legend__bottom-table .legend__value{padding-left:15px}.legend__bottom-table .legend__alias{max-width:650px;overflow:hidden;padding-left:7px;text-align:left;text-overflow:ellipsis;width:95%}.legend__bottom-table th{color:#33b5e5;font-size:85%;font-weight:700;padding:0 10px 1px 0;text-align:right;white-space:nowrap}.legend__bottom-table .legend__series:nth-child(odd){background:#262628}.legend__full-width{width:100%}'],encapsulation:2,data:{animation:[r.FadeInOutAnimation]}});var We=function(){};We.ɵmod=t.ɵɵdefineNgModule({type:We}),We.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||We)},imports:[[o.CommonModule,i.FormsModule,i.ReactiveFormsModule,s.ChartModule,a.EdCommonModule,r.EdUilibModule,d.PerfectScrollbarModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(We,{declarations:[ve,te,Re,k,L,F,p,_,T,$,N,V,R,j,B],imports:[o.CommonModule,i.FormsModule,i.ReactiveFormsModule,s.ChartModule,a.EdCommonModule,r.EdUilibModule,d.PerfectScrollbarModule],exports:[ve,te]}),t.ɵɵsetComponentScope(ve,[o.NgClass,o.NgComponentOutlet,o.NgForOf,o.NgIf,o.NgTemplateOutlet,o.NgStyle,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,o.NgPlural,o.NgPluralCase,i.ɵangular_packages_forms_forms_y,i.NgSelectOption,i.ɵangular_packages_forms_forms_x,i.DefaultValueAccessor,i.NumberValueAccessor,i.RangeValueAccessor,i.CheckboxControlValueAccessor,i.SelectControlValueAccessor,i.SelectMultipleControlValueAccessor,i.RadioControlValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.RequiredValidator,i.MinLengthValidator,i.MaxLengthValidator,i.PatternValidator,i.CheckboxRequiredValidator,i.EmailValidator,i.NgModel,i.NgModelGroup,i.NgForm,i.FormControlDirective,i.FormGroupDirective,i.FormControlName,i.FormGroupName,i.FormArrayName,s.UIChart,r.DialogActionsComponent,r.DialogComponent,r.DropDownComponent,r.DropDownValueTemplate,r.DropDownSelectedValueTemplate,r.PopupComponent,r.ContextMenuComponent,r.HierarchicalDropDownComponent,r.PreferencesComponent,r.EmptyListComponent,r.InfoBoxComponent,r.ProgressComponent,r.FilterBoxComponent,r.TextBoxComponent,r.TextBoxValidationTemplate,r.CheckBoxComponent,r.AutoFocusDirective,r.AvatarComponent,r.GridComponent,r.ColumnComponent,r.DeleteColumnComponent,r.SlideDownComponent,r.TabStripComponent,r.TabComponent,r.TabTitleTemplate,r.TabContentTemplate,r.SideTabStripComponent,r.LoadOrErrorComponent,r.ErrorPopupComponent,r.NoteComponent,r.ModuleLoaderComponent,r.UserPickerComponent,r.TeamPickerComponent,r.PermissionPickerComponent,r.PermissionRulePickerComponent,r.PermissionIconComponent,r.TagPickerComponent,r.TimeRangePickerComponent,r.PluginPickerComponent,r.ColorPickerComponent,r.IconComponent,r.LabelIconComponent,r.RemoveHostDirective,r.PageComponent,r.PageHeaderComponent,r.PageTitleComponent,r.PageTabsNavigationComponent,r.PageDropdownNavigationComponent,r.TagComponent,r.DashboardExplorerComponent,r.DashboardExplorerDeleterComponent,r.DashboardExplorerMoverComponent,r.CardsLayoutSwitcherComponent,d.PerfectScrollbarComponent,d.PerfectScrollbarDirective,ve,te,Re,k,L,F,p,_,T,$,N,V,R,j,B],[o.AsyncPipe,o.UpperCasePipe,o.LowerCasePipe,o.JsonPipe,o.SlicePipe,o.DecimalPipe,o.PercentPipe,o.TitleCasePipe,o.CurrencyPipe,o.DatePipe,o.I18nPluralPipe,o.I18nSelectPipe,o.KeyValuePipe]),e.ChartComponent=ve,e.ChartEditorComponent=te,e.ChartWidgetModule=We,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=chart.umd.min.js.map