!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@angular/common"),require("uilib"),require("@angular/forms"),require("common"),require("lodash"),require("rxjs"),require("rxjs/operators"),require("ngx-perfect-scrollbar"),require("primeng")):"function"==typeof define&&define.amd?define("chart",["exports","@angular/core","@angular/router","@angular/common","uilib","@angular/forms","common","lodash","rxjs","rxjs/operators","ngx-perfect-scrollbar","primeng"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).chart={},e.ng.core,e.ng.router,e.ng.common,e.uilib,e.ng.forms,e.common,e.lodash,e.rxjs,e.rxjs.operators,e["ngx-perfect-scrollbar"],e.primeng)}(this,(function(e,t,n,o,r,i,l,a,d,s,c,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var m=function(e,t){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function p(e,t){function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l}function h(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}var f=function(){function e(e){this.panel=e}return Object.defineProperty(e.prototype,"widget",{get:function(){return this.panel.widget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.axes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"legend",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.legend},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thresholds",{get:function(){return this.display.thresholds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeRegions",{get:function(){return this.display.timeRegions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overrides",{get:function(){return this.display.overrides},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"time",{get:function(){var e;return this.widget.time=null!==(e=this.widget.time)&&void 0!==e?e:new l.TimeRangeMod,this.widget.time},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alert",{get:function(){return this.widget.alert},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.widget.component.control.chart.options},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){var e,t;null===(t=null===(e=this.widget.component)||void 0===e?void 0:e.control)||void 0===t||t.refresh()},e.prototype.update=function(){var e=this.widget.component;null==e||e.datasets.forEach((function(t){return e.display.setup(t)})),this.refresh()},e.prototype.pull=function(){var e;null===(e=this.widget.component)||void 0===e||e.store.dataProvider.update()},e}();f.ɵfac=function(e){t.ɵɵinvalidFactory()},f.ɵdir=t.ɵɵdefineDirective({type:f});var v,b="xAxis",y="yAxisL",x="yAxisR";!function(e){e.Linear="linear",e.Log2="log2",e.Log10="log10",e.Log32="log32",e.Log1024="log1024"}(v||(v={}));var C,w,S,M,_,E,I=function(){this.operator=M.Gt,this.colorType=_.Critical,this.fill=!0,this.line=!0,this.axis=E.Left};!function(e){e.All="all",e.Single="single"}(C||(C={})),function(e){e.None="none",e.Increasing="increasing",e.Decreasing="decreasing"}(w||(w={})),function(e){e.Connected="connected",e.Null="null",e.NullAsZero="nullAsZero"}(S||(S={})),function(e){e.Gt="gt",e.Lt="lt"}(M||(M={})),function(e){e.Custom="custom",e.Critical="critical",e.Warning="warning",e.Ok="ok"}(_||(_={})),function(e){e.Left="left",e.Right="right"}(E||(E={}));var D,P,O=function(){this.colorType=D.Red,this.fill=!0,this.line=!0,this.fromDay=P.Any,this.toDay=P.Any};!function(e){e.Gray="gray",e.Red="red",e.Green="green",e.Blue="blue",e.Yellow="yellow",e.Custom="custom"}(D||(D={})),function(e){e.Any="any",e.Mon="mon",e.Tue="tue",e.Wed="wed",e.Thu="thu",e.Fri="fri",e.Sat="sat",e.Sun="sun"}(P||(P={}));var k,T,N=function(){},L=function(e,t){this.type=e,this.value=t};!function(e){e[e.Lines=0]="Lines",e[e.Points=1]="Points",e[e.PointRadius=2]="PointRadius",e[e.Stack=3]="Stack",e[e.LineFill=4]="LineFill",e[e.LineWidth=5]="LineWidth",e[e.Staircase=6]="Staircase",e[e.Dashes=7]="Dashes",e[e.DashLength=8]="DashLength",e[e.DashSpace=9]="DashSpace",e[e.Legend=10]="Legend",e[e.HideInTooltip=11]="HideInTooltip",e[e.Color=12]="Color",e[e.YAxis=13]="YAxis",e[e.ZIndex=14]="ZIndex"}(k||(k={})),function(e){e[e.None=0]="None",e[e.Common_Short=1]="Common_Short",e[e.Common_Percent=2]="Common_Percent",e[e.Common_Percent01=3]="Common_Percent01",e[e.Common_Humidity=4]="Common_Humidity",e[e.Common_Decibel=5]="Common_Decibel",e[e.Common_Hex0x=6]="Common_Hex0x",e[e.Common_Hex=7]="Common_Hex",e[e.Common_SciNotation=8]="Common_SciNotation",e[e.Common_LocaleString=9]="Common_LocaleString",e[e.Length_Millimetre=10]="Length_Millimetre",e[e.Length_Meter=11]="Length_Meter",e[e.Length_Feet=12]="Length_Feet",e[e.Length_Kilometer=13]="Length_Kilometer",e[e.Length_Mile=14]="Length_Mile",e[e.Area_SquareMeters=15]="Area_SquareMeters",e[e.Area_SquareFeet=16]="Area_SquareFeet",e[e.Area_SquareMiles=17]="Area_SquareMiles",e[e.Mass_Milligram=18]="Mass_Milligram",e[e.Mass_Gram=19]="Mass_Gram",e[e.Mass_Kilogram=20]="Mass_Kilogram",e[e.Mass_MetricTon=21]="Mass_MetricTon"}(T||(T={}));var A=function(e,t,n,o){this.type=e,this.label=t,this.unit=n,this.command=o},R=function(){function e(){}return e.getData=function(e){switch(+e){case T.Common_Short:return new A(T.Common_Short,"short","");case T.Common_Percent:return new A(T.Common_Percent,"percent (0-100)","%");case T.Common_Percent01:return new A(T.Common_Percent01,"percent (0.0-1.0)","%");case T.Common_Humidity:return new A(T.Common_Humidity,"humidity (%H)","%H");case T.Common_Decibel:return new A(T.Common_Decibel,"decibel","dB");case T.Common_Hex0x:return new A(T.Common_Hex0x,"hexadecimal (0x)","");case T.Common_Hex:return new A(T.Common_Hex,"hexadecimal","");case T.Common_SciNotation:return new A(T.Common_SciNotation,"scientific notation","");case T.Common_LocaleString:return new A(T.Common_LocaleString,"locale string","");case T.Length_Millimetre:return new A(T.Length_Millimetre,"millimetre (mm)","mm");case T.Length_Meter:return new A(T.Length_Meter,"meter (m)","m");case T.Length_Feet:return new A(T.Length_Feet,"feet (ft)","ft");case T.Length_Kilometer:return new A(T.Length_Kilometer,"kilometer (km)","km");case T.Length_Mile:return new A(T.Length_Mile,"mile (mi)","mi");case T.Area_SquareMeters:return new A(T.Area_SquareMeters,"Square Meters (m²)","m²");case T.Area_SquareFeet:return new A(T.Area_SquareFeet,"Square Feet (ft²)","ft²");case T.Area_SquareMiles:return new A(T.Area_SquareMiles,"Square Miles (mi²)","mi²");case T.Mass_Milligram:return new A(T.Mass_Milligram,"milligram (mg)","mg");case T.Mass_Gram:return new A(T.Mass_Gram,"gram (g)","g");case T.Mass_Kilogram:return new A(T.Mass_Kilogram,"kilogram (kg)","kg");case T.Mass_MetricTon:return new A(T.Mass_MetricTon,"metric ton (t)","t")}return new A(T.None,"none","")},e.getFormattedValue=function(t,n,o){var r=t.toFixed(o),i=e.getData(n);switch(i.type){case T.Common_Hex:return t.toString(16);case T.Common_Hex0x:return"0x"+t.toString(16);case T.Common_Percent01:return(100*t).toFixed(o)+" %";case T.Common_SciNotation:return t.toExponential(o);case T.Common_LocaleString:return t.toLocaleString();case T.Common_Short:return e.getShortFormattedValue(t,n,o);case T.None:return r;default:return r+" "+i.unit}},e.getShortFormattedValue=function(e,t,n){var o=1,r="";return e>=1e3&&e<1e6?(r="K",o=1e3):e>=1e6&&e<1e9?(r="Mil",o=1e6):e>=1e9&&e<1e12?(r="Bil",o=1e9):e>=1e12&&e<1e15?(r="Tri",o=1e12):e>=1e15&&e<1e18&&(r="Qdr",o=1e15),(e/o).toFixed(n)+" "+r},e}(),F=[{label:"none",items:[R.getData(T.None),R.getData(T.Common_Short),R.getData(T.Common_Percent),R.getData(T.Common_Percent01),R.getData(T.Common_Humidity),R.getData(T.Common_Decibel),R.getData(T.Common_Hex0x),R.getData(T.Common_Hex),R.getData(T.Common_SciNotation),R.getData(T.Common_LocaleString)]},{label:"length",items:[R.getData(T.Length_Millimetre),R.getData(T.Length_Meter),R.getData(T.Length_Feet),R.getData(T.Length_Kilometer),R.getData(T.Length_Mile)]},{label:"area",items:[R.getData(T.Area_SquareMeters),R.getData(T.Area_SquareFeet),R.getData(T.Area_SquareMiles)]},{label:"mass",items:[R.getData(T.Mass_Milligram),R.getData(T.Mass_Gram),R.getData(T.Mass_Kilogram),R.getData(T.Mass_MetricTon)]}],j=function(e){function t(t){var n=e.call(this,t)||this;return n.left=!0,n.units=a.cloneDeep(F),n.scales=r.DropDownComponent.wrapEnum(v),n}return p(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this.left?this.axes.leftY:this.axes.rightY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartAxis",{get:function(){return this.options.scales.yAxes[this.left?0:1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.axis.show},set:function(e){this.axis.show=this.chartAxis.display=e,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){return this.axis.unit},set:function(e){this.axis.unit=e,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.axis.scale},set:function(e){this.axis.scale=e,this.chartAxis.type=e==v.Linear?"linear":"logarithmic",this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.axis.label},set:function(e){this.axis.label=e;var t=this.chartAxis.scaleLabel;e?(t.display=!0,t.labelString=e):(t.display=!1,t.labelString=void 0),this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decimals",{get:function(){return this.axis.decimals},set:function(e){this.axis.decimals=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.axis.min},set:function(e){this.axis.min=this.chartAxis.ticks.min=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.axis.max},set:function(e){this.axis.max=this.chartAxis.ticks.max=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),t}(f);j.ɵfac=function(e){return new(e||j)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},j.ɵcmp=t.ɵɵdefineComponent({type:j,selectors:[["editor-axis-y"]],inputs:{left:"left"},features:[t.ɵɵInheritDefinitionFeature],decls:11,vars:11,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","6","label","Show",3,"ngModel","ngModelChange"],["label","Unit","width","16","labelWidth","6",3,"valueProperty","ngModel","data","ngModelChange"],["label","Scale","labelWidth","6","width","16",3,"ngModel","data","ngModelChange"],[1,"gf-form-inline"],["type","number","labelWidth","6","label","Y-Min","width","5","placeholder","auto",3,"ngModel","ngModelChange"],["type","number","labelWidth","6","label","Y-Max","width","5","placeholder","auto",3,"ngModel","ngModelChange"],["type","text","labelWidth","6","label","Decimals","width","16","placeholder","auto",3,"ngModel","ngModelChange"],["labelWidth","6","label","Label","width","16",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.show=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-hierarchical-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.unit=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-dropdown",4),t.ɵɵlistener("ngModelChange",(function(e){return n.scale=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",5),t.ɵɵelementStart(7,"ed-textbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.min=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-textbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.max=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-textbox",8),t.ɵɵlistener("ngModelChange",(function(e){return n.decimals=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"ed-textbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.label=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵtextInterpolate(n.left?"Left Y":"Right Y"),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.show),t.ɵɵadvance(1),t.ɵɵproperty("valueProperty","type")("ngModel",n.unit)("data",n.units),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.scale)("data",n.scales),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.min),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.max),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.decimals),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.label))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.HierarchicalDropDownComponent,r.DropDownComponent,r.TextBoxComponent],encapsulation:2});var V=function(e){function t(t){return e.call(this,t)||this}return p(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this.axes.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartAxis",{get:function(){return this.options.scales.xAxes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.axis.show},set:function(e){this.axis.show=this.chartAxis.display=e,this.refresh()},enumerable:!1,configurable:!0}),t}(f);V.ɵfac=function(e){return new(e||V)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},V.ɵcmp=t.ɵɵdefineComponent({type:V,selectors:[["editor-axis-x"]],features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:1,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","6","label","Show",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"X-Axis"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.show=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.show))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel],encapsulation:2});var W=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t}(f);W.ɵfac=function(e){return new(e||W)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},W.ɵcmp=t.ɵɵdefineComponent({type:W,selectors:[["editor-axes"]],features:[t.ɵɵInheritDefinitionFeature],decls:3,vars:1,consts:[[3,"left"]],template:function(e,n){1&e&&(t.ɵɵelement(0,"editor-axis-y"),t.ɵɵelement(1,"editor-axis-y",0),t.ɵɵelement(2,"editor-axis-x")),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("left",!1))},directives:[j,V],encapsulation:2});var H=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t}(f);H.ɵfac=function(e){return new(e||H)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},H.ɵcmp=t.ɵɵdefineComponent({type:H,selectors:[["editor-legend"]],features:[t.ɵɵInheritDefinitionFeature],decls:23,vars:11,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","7","label","Show",3,"ngModel","ngModelChange"],["labelWidth","7","label","As Table",3,"ngModel","ngModelChange"],["labelWidth","7","label","To the right",3,"ngModel","ngModelChange"],[1,"gf-form-inline"],["labelWidth","4","label","Min",3,"ngModel","ngModelChange"],["labelWidth","6","label","Min",3,"ngModel","ngModelChange"],["labelWidth","4","label","Avg",3,"ngModel","ngModelChange"],["labelWidth","6","label","Current",3,"ngModel","ngModelChange"],["labelWidth","4","label","Total",3,"ngModel","ngModelChange"],["type","number","labelWidth","6","label","Decimals","width","4","placeholder","auto",3,"ngModel","ngModelChange"],["labelWidth","10","label","With only nulls",3,"ngModel","ngModelChange"],["labelWidth","10","label","With only zeros",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Options"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.show=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-checkbox",3),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.table=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.right=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",0),t.ɵɵelementStart(7,"h5",1),t.ɵɵtext(8,"Values"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",5),t.ɵɵelementStart(10,"ed-checkbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.min=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.max=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"div",5),t.ɵɵelementStart(13,"ed-checkbox",8),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.avg=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"ed-checkbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.current=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(15,"div",5),t.ɵɵelementStart(16,"ed-checkbox",10),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.total=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"ed-textbox",11),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.decimals=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",0),t.ɵɵelementStart(19,"h5",1),t.ɵɵtext(20,"Hide series"),t.ɵɵelementEnd(),t.ɵɵelementStart(21,"ed-checkbox",12),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.hideOnlyNulls=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(22,"ed-checkbox",13),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.hideOnlyZeroes=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.legend.show),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.table),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.right),t.ɵɵadvance(5),t.ɵɵproperty("ngModel",n.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.max),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.current),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.legend.total),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.decimals),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.legend.hideOnlyNulls),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.hideOnlyZeroes))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent],encapsulation:2});var B=function(e){function t(t){var n=e.call(this,t)||this;return n.availableWidth=r.DropDownComponent.wrapArray([0,1,2,3,4,5,6,7,8,9,10]),n.availableTooltipModes=r.DropDownComponent.wrapEnum(C),n.availableTooltipSortOrders=r.DropDownComponent.wrapEnum(w),n.availableNullValueOptions=r.DropDownComponent.wrapEnum(S),n}return p(t,e),Object.defineProperty(t.prototype,"stack",{get:function(){return this.display.stack},set:function(e){this.display.stack=e,this.options.scales.yAxes[0].stacked=e,this.refresh()},enumerable:!1,configurable:!0}),t}(f);function q(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",21),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate(o.value)}}function K(e,n){if(1&e&&t.ɵɵelement(0,"color-circle",22),2&e){var o=t.ɵɵnextContext().$implicit;t.ɵɵproperty("value",o.value)("canBeActive",!1)}}function G(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",9),t.ɵɵelementStart(1,"div",16),t.ɵɵelementStart(2,"span",17),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=n.$implicit;return t.ɵɵnextContext().onRemoveItem(e)})),t.ɵɵelement(3,"i",18),t.ɵɵelementEnd(),t.ɵɵtext(4),t.ɵɵtemplate(5,q,2,1,"span",19),t.ɵɵtemplate(6,K,1,2,"ng-template",null,20,t.ɵɵtemplateRefExtractor),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵreference(7),l=t.ɵɵnextContext();t.ɵɵadvance(4),t.ɵɵtextInterpolate1(" ",l.getItemHeader(r),": "),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",12!=r.type)("ngIfElse",i)}}B.ɵfac=function(e){return new(e||B)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},B.ɵcmp=t.ɵɵdefineComponent({type:B,selectors:[["editor-draw-options"]],features:[t.ɵɵInheritDefinitionFeature],decls:23,vars:19,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","5","label","Bars"],["labelWidth","5","label","Lines",3,"ngModel","ngModelChange","checked"],["labelWidth","5","label","Points",3,"ngModel","ngModelChange","checked"],["label","Fill","labelWidth","8","width","5",3,"ngModel","data","ngModelChange","selectionChange"],["label","Line Width","labelWidth","8","width","5",3,"ngModel","data","disabled","ngModelChange","selectionChange"],["label","Staircase","labelWidth","8","width","5",3,"ngModel","ngModelChange","checked"],["label","Point Radius","labelWidth","8","width","5",3,"ngModel","data","disabled","ngModelChange","selectionChange"],["label","Mode","labelWidth","9","width","9",3,"data","ngModel","ngModelChange"],["label","Sort Order","labelWidth","9","width","9",3,"data","ngModel","ngModelChange"],["labelWidth","7","label","Stack",3,"ngModel","ngModelChange"],["label","Null Value",3,"ngModel","data","labelWidth","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Draw Modes"),t.ɵɵelementEnd(),t.ɵɵelement(3,"ed-checkbox",2),t.ɵɵelementStart(4,"ed-checkbox",3),t.ɵɵlistener("ngModelChange",(function(e){return n.display.showLines=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.display.showPoints=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",0),t.ɵɵelementStart(7,"h5",1),t.ɵɵtext(8,"Mode Options"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-dropdown",5),t.ɵɵlistener("ngModelChange",(function(e){return n.display.fill=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"ed-dropdown",6),t.ɵɵlistener("ngModelChange",(function(e){return n.display.lineWidth=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.display.staircase=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"ed-dropdown",8),t.ɵɵlistener("ngModelChange",(function(e){return n.display.pointRadius=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"div",0),t.ɵɵelementStart(14,"h5",1),t.ɵɵtext(15,"Hover tooltip"),t.ɵɵelementEnd(),t.ɵɵelementStart(16,"ed-dropdown",9),t.ɵɵlistener("ngModelChange",(function(e){return n.display.tooltipMode=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"ed-dropdown",10),t.ɵɵlistener("ngModelChange",(function(e){return n.display.tooltipSortOrder=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",0),t.ɵɵelementStart(19,"h5",1),t.ɵɵtext(20,"Stacking & Null value"),t.ɵɵelementEnd(),t.ɵɵelementStart(21,"ed-checkbox",11),t.ɵɵlistener("ngModelChange",(function(e){return n.stack=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(22,"ed-dropdown",12),t.ɵɵlistener("ngModelChange",(function(e){return n.display.nullValue=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.display.showLines),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.showPoints),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.display.fill)("data",n.availableWidth),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.lineWidth)("data",n.availableWidth)("disabled",!n.display.showLines),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.staircase),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.pointRadius)("data",n.availableWidth)("disabled",!n.display.showPoints),t.ɵɵadvance(4),t.ɵɵproperty("data",n.availableTooltipModes)("ngModel",n.display.tooltipMode),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableTooltipSortOrders)("ngModel",n.display.tooltipSortOrder),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.stack),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.nullValue)("data",n.availableNullValueOptions)("labelWidth",7))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.DropDownComponent],encapsulation:2});var Y=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.cmItems=[],o.items=new Array,o.showColorPicker=!1,o}return p(n,e),n.prototype.ngOnInit=function(){var e=this;this.cmItems=[this.createBoolItem("Lines",k.Lines),this.createNumberItem("Line fill",k.LineFill),this.createNumberItem("Line width",k.LineWidth),this.createBoolItem("Staircase",k.Staircase),this.createBoolItem("Dashes",k.Dashes),this.createNumberItem("Dash length",k.DashLength),this.createNumberItem("Dash space",k.DashSpace),this.createBoolItem("Points",k.Points),this.createNumberItem("Point radius",k.PointRadius,0,5),this.createBoolItem("Stack",k.Stack),this.createColorItem("Color",k.Color),this.createNumberItem("Y-axis",k.YAxis,1,2),this.createNumberItem("Z-index",k.ZIndex,-3,3),this.createBoolItem("Legend",k.Legend),this.createBoolItem("Hide in tooltip",k.HideInTooltip)],r.ContextMenuComponent.wrapItems(this.cmItems,(function(t){return e.onOptionSelected(t.item)})),this.rebuildItems()},n.prototype.rebuildItems=function(){var e=new Array;for(var t in this.override)if("alias"!=t){var n=this.getOverrideType(t);e.push(new L(n,this.override[t]))}this.items=e,this.update()},n.prototype.createBoolItem=function(e,t){return{label:e,items:[{label:"true",value:!0,type:t},{label:"false",value:!1,type:t}]}},n.prototype.createNumberItem=function(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=10);for(var r={label:e,items:[]},i=n;i<=o;++i)r.items.push({label:i,value:i,type:t});return r},n.prototype.createColorItem=function(e,t){return{label:e,type:t,items:[{label:"change",type:t}]}},n.prototype.onOptionSelected=function(e){null!=e.type&&(k.Color==e.type?(this.showColorPicker=!0,event.stopPropagation()):(this.override[this.getPropertyName(e)]=e.value,this.rebuildItems()))},n.prototype.onRemoveItem=function(e){delete this.override[this.getPropertyName(e)],this.rebuildItems()},n.prototype.getItemHeader=function(e){return k[e.type].replace(/([a-z0-9])([A-Z])/g,"$1 $2").toLowerCase()},n.prototype.getPropertyName=function(e){return k[e.type].replace(/^\w/,(function(e){return e.toLowerCase()}))},n.prototype.getOverrideType=function(e){return k[e.replace(/^\w/,(function(e){return e.toUpperCase()}))]},n.prototype.onColorSelected=function(e){var t=this.createColorItem("Color",k.Color);this.override[this.getPropertyName(t)]=e,this.rebuildItems()},n}(f);function $(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-series-override",5),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("override",r)("index",i)}}Y.ɵfac=function(e){return new(e||Y)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},Y.ɵcmp=t.ɵɵdefineComponent({type:Y,selectors:[["editor-series-override"]],inputs:{override:"override",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:16,vars:5,consts:[[1,"ed-form-inline"],["label","alias or regex","width","15",3,"ngModel","ngModelChange"],["class","gf-form",4,"ngFor","ngForOf"],[1,"gf-form",3,"click"],["menuTarget",""],[1,"gf-form-label","pointer"],[1,"fa","fa-plus"],[1,"gf-form","gf-form--grow"],[1,"gf-form-label","gf-form-label--grow"],[1,"gf-form"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],[3,"visible","anchor","visibleChange"],[3,"selected"],[3,"items"],["cm",""],[1,"gf-form-label"],[3,"click"],[1,"fa","fa-times","mr-2","pointer"],["class","ml-1",4,"ngIf","ngIfElse"],["color",""],[1,"ml-1"],[1,"ml-1",3,"value","canBeActive"]],template:function(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"ed-textbox",1),t.ɵɵlistener("ngModelChange",(function(e){return n.override.alias=e})),t.ɵɵelementEnd(),t.ɵɵtemplate(2,G,8,3,"div",2),t.ɵɵelementStart(3,"div",3,4),t.ɵɵlistener("click",(function(e){return t.ɵɵrestoreView(o),t.ɵɵreference(15).show(e)})),t.ɵɵelementStart(5,"label",5),t.ɵɵelement(6,"i",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"div",7),t.ɵɵelement(8,"div",8),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",9),t.ɵɵelementStart(10,"label",10),t.ɵɵlistener("click",(function(){return n.removed.emit(n.override)})),t.ɵɵelement(11,"i",11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"ed-popup",12),t.ɵɵlistener("visibleChange",(function(e){return n.showColorPicker=e})),t.ɵɵelementStart(13,"ed-palette-editor",13),t.ɵɵlistener("selected",(function(e){return n.onColorSelected(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(14,"ed-context-menu",14,15)}if(2&e){var r=t.ɵɵreference(4);t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.override.alias),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",n.items),t.ɵɵadvance(10),t.ɵɵproperty("visible",n.showColorPicker)("anchor",r),t.ɵɵadvance(2),t.ɵɵproperty("items",n.cmItems)}},directives:[r.TextBoxComponent,i.NgControlStatus,i.NgModel,o.NgForOf,r.PopupComponent,r.PaletteEditorComponent,r.ContextMenuComponent,o.NgIf,r.ColorCircleComponent],encapsulation:2});var z=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.onAdd=function(){this.overrides.push(new N)},t.prototype.onRemove=function(e){var t=this.overrides.indexOf(e);-1!==t&&this.overrides.splice(t,1),this.update()},t}(f);function Z(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",12),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().threshold.fillColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.threshold.fillColor)}}function U(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",13),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().threshold.lineColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.threshold.lineColor)}}z.ɵfac=function(e){return new(e||z)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},z.ɵcmp=t.ɵɵdefineComponent({type:z,selectors:[["editor-series-overrides"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],[3,"override","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],[1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"override","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Series specific overrides "),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div"),t.ɵɵtemplate(4,$,1,2,"editor-series-override",1),t.ɵɵelementStart(5,"div",2),t.ɵɵelementStart(6,"button",3),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",4),t.ɵɵtext(8," Add Override "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.overrides))},directives:[o.NgForOf,Y],encapsulation:2});var Q=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.availableOperatorValues=r.DropDownComponent.wrapEnum(M),o.availableColorValues=r.DropDownComponent.wrapEnum(_),o.availableAxisValues=r.DropDownComponent.wrapEnum(E),o}return p(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.threshold.value},set:function(e){var t=+e;this.threshold.value=isNaN(t)||!e?void 0:t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomColors",{get:function(){return _.Custom==this.threshold.colorType},enumerable:!1,configurable:!0}),n}(f);function X(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-threshold",6),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("threshold",r)("index",i)}}Q.ɵfac=function(e){return new(e||Q)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},Q.ɵcmp=t.ɵɵdefineComponent({type:Q,selectors:[["editor-threshold"]],inputs:{threshold:"threshold",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:13,vars:12,consts:[[1,"ed-form-inline"],["width","6",3,"data","ngModel","label","ngModelChange","selectionChange"],["placeholder","value","type","number","width","8",3,"ngModel","ngModelChange","changed"],["label","Color",3,"data","ngModel","ngModelChange","selectionChange"],["label","Fill",3,"ngModel","ngModelChange","checked"],["label","Fill color",3,"ngModel","ngModelChange","selected",4,"ngIf"],["label","Line",3,"ngModel","ngModelChange","checked"],["label","Line color",3,"ngModel","ngModelChange","selected",4,"ngIf"],["label","Y-Axis",3,"data","ngModel","ngModelChange","selectionChange"],[1,"gf-form"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],["label","Fill color",3,"ngModel","ngModelChange","selected"],["label","Line color",3,"ngModel","ngModelChange","selected"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"ed-dropdown",1),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.operator=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"ed-textbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.value=e}))("changed",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.colorType=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.fill=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(5,Z,1,1,"ed-color-picker",5),t.ɵɵelementStart(6,"ed-checkbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.line=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(7,U,1,1,"ed-color-picker",7),t.ɵɵelementStart(8,"ed-dropdown",8),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.axis=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",9),t.ɵɵelementStart(10,"label",10),t.ɵɵlistener("click",(function(){return n.removed.emit(n.threshold)})),t.ɵɵelementStart(11,"a"),t.ɵɵelement(12,"i",11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵpropertyInterpolate1("label","T",n.index+1,""),t.ɵɵproperty("data",n.availableOperatorValues)("ngModel",n.threshold.operator),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.value),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableColorValues)("ngModel",n.threshold.colorType),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.fill),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomColors),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.line),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomColors),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableAxisValues)("ngModel",n.threshold.axis))},directives:[r.DropDownComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent,r.CheckBoxComponent,o.NgIf,r.ColorPickerComponent],encapsulation:2});var J=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.onAdd=function(){this.thresholds.push(new I)},t.prototype.onRemove=function(e){var t=this.thresholds.indexOf(e);-1!==t&&this.thresholds.splice(t,1),this.refresh()},t}(f);function ee(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",13),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().timeRegion.fillColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.timeRegion.fillColor)}}function te(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",14),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().timeRegion.lineColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.timeRegion.lineColor)}}J.ɵfac=function(e){return new(e||J)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},J.ɵcmp=t.ɵɵdefineComponent({type:J,selectors:[["editor-thresholds"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],["ng-class","{'thresholds-form-disabled': ctrl.disabled}"],[3,"threshold","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],["ng-disabled","ctrl.disabled",1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"threshold","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Thresholds"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",1),t.ɵɵtemplate(4,X,1,2,"editor-threshold",2),t.ɵɵelementStart(5,"div",3),t.ɵɵelementStart(6,"button",4),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",5),t.ɵɵtext(8," Add Threshold "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.thresholds))},directives:[o.NgForOf,Q],encapsulation:2});var ne=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.availableColors=r.DropDownComponent.wrapEnum(D),o.availableDays=r.DropDownComponent.wrapEnum(P),o}return p(n,e),Object.defineProperty(n.prototype,"showCustomColors",{get:function(){return D.Custom==this.timeRegion.colorType},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomFillColor",{get:function(){return this.showCustomColors&&this.timeRegion.fill},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomLineColor",{get:function(){return this.showCustomColors&&this.timeRegion.line},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){this.fromTime=this.timeRegion.fromTime,this.toTime=this.timeRegion.toTime},n}(f);function oe(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-time-region",6),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("timeRegion",r)("index",i)}}ne.ɵfac=function(e){return new(e||ne)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},ne.ɵcmp=t.ɵɵdefineComponent({type:ne,selectors:[["editor-time-region"]],inputs:{timeRegion:"timeRegion",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:17,vars:13,consts:[[1,"ed-form-inline"],[1,"gf-form"],[1,"gf-form-label"],["label","From",3,"data","ngModel","ngModelChange","selectionChange"],["placeholder","hh:mm","width","8",3,"ngModel","ngModelChange","focusout"],["label","To",3,"data","ngModel","ngModelChange","selectionChange"],["label","Color",3,"data","ngModel","ngModelChange","selectionChange"],["label","Fill",3,"ngModel","ngModelChange","checked"],["label","Fill color",3,"ngModel","ngModelChange","selected",4,"ngIf"],["label","Line",3,"ngModel","ngModelChange","checked"],["label","Line color",3,"ngModel","ngModelChange","selected",4,"ngIf"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],["label","Fill color",3,"ngModel","ngModelChange","selected"],["label","Line color",3,"ngModel","ngModelChange","selected"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"label",2),t.ɵɵtext(3),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.fromDay=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-textbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.fromTime=e}))("focusout",(function(){return n.timeRegion.fromTime=n.fromTime,n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-dropdown",5),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.toDay=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"ed-textbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.toTime=e}))("focusout",(function(){return n.timeRegion.toTime=n.toTime,n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-dropdown",6),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.colorType=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.fill=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(10,ee,1,1,"ed-color-picker",8),t.ɵɵelementStart(11,"ed-checkbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.line=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(12,te,1,1,"ed-color-picker",10),t.ɵɵelementStart(13,"div",1),t.ɵɵelementStart(14,"label",11),t.ɵɵlistener("click",(function(){return n.removed.emit(n.timeRegion)})),t.ɵɵelementStart(15,"a"),t.ɵɵelement(16,"i",12),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵtextInterpolate1("T",n.index+1,""),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableDays)("ngModel",n.timeRegion.fromDay),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.fromTime),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableDays)("ngModel",n.timeRegion.toDay),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.toTime),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableColors)("ngModel",n.timeRegion.colorType),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.timeRegion.fill),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomFillColor),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.timeRegion.line),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomLineColor))},directives:[r.DropDownComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent,r.CheckBoxComponent,o.NgIf,r.ColorPickerComponent],encapsulation:2});var re=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.onAdd=function(){this.timeRegions.push(new O)},t.prototype.onRemove=function(e){var t=this.timeRegions.indexOf(e);-1!==t&&this.timeRegions.splice(t,1),this.refresh()},t}(f);function ie(e,n){1&e&&t.ɵɵelement(0,"editor-draw-options")}function le(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",o.overrides.length,")")}}function ae(e,n){if(1&e&&(t.ɵɵtext(0," Series overrides"),t.ɵɵtemplate(1,le,2,1,"span",4)),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.overrides.length)}}function de(e,n){1&e&&t.ɵɵelement(0,"editor-series-overrides")}function se(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",o.thresholds.length,")")}}function ce(e,n){if(1&e&&(t.ɵɵtext(0," Thresholds"),t.ɵɵtemplate(1,se,2,1,"span",4)),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.thresholds.length)}}function ue(e,n){1&e&&t.ɵɵelement(0,"editor-thresholds")}function me(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",o.timeRegions.length,")")}}function pe(e,n){if(1&e&&(t.ɵɵtext(0," Time regions"),t.ɵɵtemplate(1,me,2,1,"span",4)),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.timeRegions.length)}}function ge(e,n){1&e&&t.ɵɵelement(0,"editor-time-regions")}re.ɵfac=function(e){return new(e||re)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},re.ɵcmp=t.ɵɵdefineComponent({type:re,selectors:[["editor-time-regions"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],["ng-class","{'thresholds-form-disabled': ctrl.disabled}"],[3,"timeRegion","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],["ng-disabled","ctrl.disabled",1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"timeRegion","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Time regions"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",1),t.ɵɵtemplate(4,oe,1,2,"editor-time-region",2),t.ɵɵelementStart(5,"div",3),t.ɵɵelementStart(6,"button",4),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",5),t.ɵɵtext(8," Add Time Region "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.timeRegions))},directives:[o.NgForOf,ne],encapsulation:2});var he=function(e){function t(t){var n=e.call(this,t)||this;return n.index=1,n}return p(t,e),t}(f);function fe(e,n){1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1,"WHEN"),t.ɵɵelementEnd())}function ve(e,n){1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1,"And"),t.ɵɵelementEnd())}he.ɵfac=function(e){return new(e||he)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},he.ɵcmp=t.ɵɵdefineComponent({type:he,selectors:[["editor-display"]],features:[t.ɵɵInheritDefinitionFeature],decls:12,vars:1,consts:[[3,"ngModel","ngModelChange"],["header","Draw options"],["edTabContent",""],["edTabTitle",""],["class","muted ml-1",4,"ngIf"],[1,"muted","ml-1"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ed-side-tabstrip",0),t.ɵɵlistener("ngModelChange",(function(e){return n.index=e})),t.ɵɵelementStart(1,"ed-tab",1),t.ɵɵtemplate(2,ie,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab"),t.ɵɵtemplate(4,ae,2,1,"ng-template",3),t.ɵɵtemplate(5,de,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-tab"),t.ɵɵtemplate(7,ce,2,1,"ng-template",3),t.ɵɵtemplate(8,ue,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-tab"),t.ɵɵtemplate(10,pe,2,1,"ng-template",3),t.ɵɵtemplate(11,ge,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngModel",n.index)},directives:[r.SideTabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,r.TabTitleTemplate,B,o.NgIf,z,J,re],encapsulation:2});var be=function(e){function n(n){var o=e.call(this,n)||this;return o.index=0,o.removed=new t.EventEmitter,o}return p(n,e),n}(f);function ye(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div"),t.ɵɵelementStart(1,"editor-alert-condition",10),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemoveCondition(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵadvance(1),t.ɵɵproperty("condition",r)("index",i)}}be.ɵfac=function(e){return new(e||be)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},be.ɵcmp=t.ɵɵdefineComponent({type:be,selectors:[["editor-alert-condition"]],inputs:{condition:"condition",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:8,vars:2,consts:[[1,"gf-form-inline"],[1,"gf-form"],["class","gf-form-label query-keyword width-5",4,"ngIf"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],[1,"gf-form-label","query-keyword","width-5"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵtemplate(2,fe,2,0,"span",2),t.ɵɵtemplate(3,ve,2,0,"span",2),t.ɵɵelementEnd(),t.ɵɵtext(4," cond "),t.ɵɵelementStart(5,"div",1),t.ɵɵelementStart(6,"label",3),t.ɵɵlistener("click",(function(){return n.removed.emit(n.condition)})),t.ɵɵelement(7,"i",4),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵproperty("ngIf",0==n.index),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",0!=n.index))},directives:[o.NgIf],encapsulation:2});var xe=function(e){function t(t){var n=e.call(this,t)||this;return n.availableNoDataOptions=r.DropDownComponent.wrapEnum(l.AlertNoDataOption),n.availableErrorOptions=r.DropDownComponent.wrapEnum(l.AlertErrorOption),n}return p(t,e),t.prototype.onAddCondition=function(){var e;this.alert.conditions=null!==(e=this.alert.conditions)&&void 0!==e?e:[],this.alert.conditions.push(new l.AlertCondition),this.panel.error=this.panel.error?void 0:"Mega error occured"},t.prototype.onRemoveCondition=function(e){var t=this.alert.conditions.indexOf(e);-1!==t&&this.alert.conditions.splice(t,1)},t.prototype.onTestRule=function(){var e=this;this.testing=!0,d.of(this.alert).pipe(s.delay(2e3),s.finalize((function(){return e.testing=!1}))).subscribe((function(t){e.explorer.content=t}),(function(e){var t,n;return r.Notes.error(null!==(n=null===(t=e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:r.ErrorMessages.BAD_ALERT_EVAL)}))},t}(f);xe.ɵfac=function(e){return new(e||xe)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},xe.ɵcmp=t.ɵɵdefineComponent({type:xe,selectors:[["editor-alert-config"]],viewQuery:function(e,n){var o;(1&e&&t.ɵɵviewQuery(r.JsonExplorerComponent,!0),2&e)&&(t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.explorer=o.first))},features:[t.ɵɵInheritDefinitionFeature],decls:14,vars:4,consts:[[1,"gf-form-group"],[1,"section-heading"],["label","Name","labelWidth","6","width","20",3,"ngModel","ngModelChange"],[1,"gf-form-inline"],["label","Evaluate every","labelWidth","9","width","6",3,"ngModel","ngModelChange"],["label","For","labelWidth","5","width","6","placeholder","5m","hint","If an alert rule has a configured For and the query violates\n\t\t\t\tthe configured threshold it will first go from OK to Pending. \n\t\t\t\tGoing from OK to Pending Grafana will not send any notifications.\n\t\t\t\tOnce the alert rule has been firing for more than For duration,\n\t\t\t\tit will change to Alerting and send alert notifications. ",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"gf-form"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-plus"],[3,"condition","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Alert Config"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-textbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.alert.name=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",3),t.ɵɵelementStart(5,"ed-textbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.alert.frequency=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-textbox",5),t.ɵɵlistener("ngModelChange",(function(e){return n.alert.for=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"div",0),t.ɵɵelementStart(8,"h5",1),t.ɵɵtext(9,"Conditions"),t.ɵɵelementEnd(),t.ɵɵtemplate(10,ye,2,2,"div",6),t.ɵɵelementStart(11,"div",7),t.ɵɵelementStart(12,"label",8),t.ɵɵlistener("click",(function(){return n.onAddCondition()})),t.ɵɵelement(13,"i",9),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.alert.name),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.alert.frequency),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.alert.for),t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.alert.conditions))},directives:[r.TextBoxComponent,i.NgControlStatus,i.NgModel,o.NgForOf,be],encapsulation:2});var Ce=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t}(f);Ce.ɵfac=function(e){return new(e||Ce)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},Ce.ɵcmp=t.ɵɵdefineComponent({type:Ce,selectors:[["editor-alert-notifications"]],features:[t.ɵɵInheritDefinitionFeature],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"alert notifications will be here")},encapsulation:2});var we=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t}(f);function Se(e,n){1&e&&t.ɵɵelement(0,"editor-alert-config")}function Me(e,n){1&e&&t.ɵɵtext(0," Notifications ")}function _e(e,n){1&e&&t.ɵɵelement(0,"editor-alert-notifications")}function Ee(e,n){1&e&&t.ɵɵelement(0,"editor-alert-history")}function Ie(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-dialog",8),t.ɵɵlistener("close",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext(2).onClose()})),t.ɵɵelementStart(1,"div",9),t.ɵɵelementStart(2,"div",10),t.ɵɵtext(3," Are you sure you want to delete this alert rule? "),t.ɵɵelementStart(4,"div",11),t.ɵɵtext(5," You need to save dashboard for the delete to take effect "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-dialog-actions"),t.ɵɵelementStart(7,"button",12),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext(2).onDelete()})),t.ɵɵtext(8,"Delete"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"button",13),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext(2).onClose()})),t.ɵɵtext(10,"Cancel"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}function De(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-side-tabstrip",2),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().index=e})),t.ɵɵelementStart(1,"ed-tab",3),t.ɵɵtemplate(2,Se,1,0,"ng-template",4),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab"),t.ɵɵtemplate(4,Me,1,0,"ng-template",5),t.ɵɵtemplate(5,_e,1,0,"ng-template",4),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-tab",6),t.ɵɵtemplate(7,Ee,1,0,"ng-template",4),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-tab",7),t.ɵɵtemplate(9,Ie,11,0,"ng-template",4),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.index)}}function Pe(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",14),t.ɵɵelementStart(1,"div",15),t.ɵɵelementStart(2,"button",16),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onAddAlert()})),t.ɵɵelement(3,"i",17),t.ɵɵtext(4," Create Alert "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}}we.ɵfac=function(e){return new(e||we)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},we.ɵcmp=t.ɵɵdefineComponent({type:we,selectors:[["editor-alert-history"]],features:[t.ɵɵInheritDefinitionFeature],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"alert history will be here")},encapsulation:2});var Oe=function(e){function t(t){var n=e.call(this,t)||this;return n.index=0,console.log(n.widget),n}return p(t,e),t.prototype.ngOnInit=function(){},t.prototype.onAddAlert=function(){this.widget.alert=new l.AlertRule},t.prototype.onClose=function(){this.index=0},t.prototype.onDelete=function(){this.widget.alert=void 0,this.onClose()},t}(f);Oe.ɵfac=function(e){return new(e||Oe)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},Oe.ɵcmp=t.ɵɵdefineComponent({type:Oe,selectors:[["editor-alert"]],features:[t.ɵɵInheritDefinitionFeature],decls:3,vars:2,consts:[[3,"ngModel","ngModelChange",4,"ngIf","ngIfElse"],["invitation",""],[3,"ngModel","ngModelChange"],["header","Alert Config"],["edTabContent",""],["edTabTitle",""],["header","State History"],["header","Delete"],["header","Delete Alert","headerIcon","fa fa-trash","visible","true",3,"close"],[1,"text-center"],[1,"confirm-modal-text"],[1,"confirm-modal-text2"],[1,"btn","btn-danger",3,"click"],[1,"ml-2","btn","btn-inverse",3,"click"],[1,"gf-form-group"],[1,"gf-form-button-row"],[1,"btn","btn-inverse",3,"click"],[1,"icon-gf","icon-gf-alert"]],template:function(e,n){if(1&e&&(t.ɵɵtemplate(0,De,10,1,"ed-side-tabstrip",0),t.ɵɵtemplate(1,Pe,5,0,"ng-template",null,1,t.ɵɵtemplateRefExtractor)),2&e){var o=t.ɵɵreference(2);t.ɵɵproperty("ngIf",n.alert)("ngIfElse",o)}},directives:[o.NgIf,r.SideTabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,r.TabTitleTemplate,xe,Ce,we,r.DialogComponent,r.DialogActionsComponent],encapsulation:2});var ke=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.ngOnInit=function(){var e,t,n=this;this.form=new i.FormGroup({from:new i.FormControl(null!==(e=this.time.from)&&void 0!==e?e:"",this.validateTime.bind(this)),shift:new i.FormControl(null!==(t=this.time.shift)&&void 0!==t?t:"",this.validateTime.bind(this)),hide:new i.FormControl(this.time.hide)}),this.form.valueChanges.subscribe((function(e){if(n.form.valid){var t=!1;n.time.from!==e.from&&(n.time.from=e.from,t=!0),n.time.shift!==e.shift&&(n.time.shift=e.shift,t=!0),n.time.hide!==e.hide&&(n.time.hide=e.hide),t&&n.pull()}}))},t.prototype.validateTime=function(e){if(!e.value)return null;var t="now - "+e.value;return l.TimeRangeParser.isValid(t)?null:{invalidTime:!0}},t}(f);function Te(e,n){1&e&&t.ɵɵelement(0,"editor-general")}function Ne(e,n){1&e&&t.ɵɵelement(0,"editor-metrics")}function Le(e,n){1&e&&t.ɵɵelement(0,"editor-axes")}function Ae(e,n){1&e&&t.ɵɵelement(0,"editor-legend")}function Re(e,n){1&e&&t.ɵɵelement(0,"editor-display")}function Fe(e,n){1&e&&t.ɵɵelement(0,"editor-alert")}function je(e,n){1&e&&t.ɵɵelement(0,"editor-time")}ke.ɵfac=function(e){return new(e||ke)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},ke.ɵcmp=t.ɵɵdefineComponent({type:ke,selectors:[["editor-time"]],features:[t.ɵɵInheritDefinitionFeature],decls:22,vars:1,consts:[[3,"formGroup"],["f",""],[1,"section","gf-form-group"],[1,"ed-form-inline"],[1,"gf-form"],[1,"gf-form-label"],[1,"fa","fa-clock-o"],[1,"gf-form-label","width-12"],["label","Last","labelWidth","6","width","8","placeholder","1h","formControlName","from"],["label","Amount","labelWidth","6","width","8","placeholder","1h","formControlName","shift"],[1,"gf-form-inline"],["labelWidth","12","width","6","label","Hide time override info","formControlName","hide"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"form",0,1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵelementStart(4,"div",4),t.ɵɵelementStart(5,"span",5),t.ɵɵelement(6,"i",6),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"span",7),t.ɵɵtext(8,"Override relative time"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(9,"ed-textbox",8),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"div",3),t.ɵɵelementStart(11,"div",4),t.ɵɵelementStart(12,"span",5),t.ɵɵelement(13,"i",6),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"span",7),t.ɵɵtext(15,"Add time shift"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(16,"ed-textbox",9),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"div",10),t.ɵɵelementStart(18,"div",4),t.ɵɵelementStart(19,"span",5),t.ɵɵelement(20,"i",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(21,"ed-checkbox",11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("formGroup",n.form)},directives:[i.ɵangular_packages_forms_forms_y,i.NgControlStatusGroup,i.FormGroupDirective,r.TextBoxComponent,i.NgControlStatus,i.FormControlName,r.CheckBoxComponent],encapsulation:2});var Ve=function(){function e(e,t,n){var o=this;this.router=e,this.activatedRoute=t,this.location=n,this.index=0,this.activatedRoute.queryParamMap.subscribe((function(e){var t=e.get("tab");Number.isInteger(+t)&&(o.index=+t)}))}return e.prototype.onTabSelected=function(e){var t=this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{tab:e},queryParamsHandling:"merge"}).toString();this.location.go(t)},e}();Ve.ɵfac=function(e){return new(e||Ve)(t.ɵɵdirectiveInject(n.Router),t.ɵɵdirectiveInject(n.ActivatedRoute),t.ɵɵdirectiveInject(o.Location))},Ve.ɵcmp=t.ɵɵdefineComponent({type:Ve,selectors:[["widget-editor"]],decls:15,vars:1,consts:[["header","Graph",3,"ngModel","ngModelChange","selected"],["header","General"],["edTabContent",""],["header","Metrics"],["header","Axes"],["header","Legend"],["header","Display"],["header","Alert"],["header","Time range"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ed-tabstrip",0),t.ɵɵlistener("ngModelChange",(function(e){return n.index=e}))("selected",(function(e){return n.onTabSelected(e)})),t.ɵɵelementStart(1,"ed-tab",1),t.ɵɵtemplate(2,Te,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab",3),t.ɵɵtemplate(4,Ne,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-tab",4),t.ɵɵtemplate(6,Le,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"ed-tab",5),t.ɵɵtemplate(8,Ae,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-tab",6),t.ɵɵtemplate(10,Re,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-tab",7),t.ɵɵtemplate(12,Fe,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"ed-tab",8),t.ɵɵtemplate(14,je,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngModel",n.index)},directives:[r.TabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,r.GeneralEditorComponent,r.MetricsEditorComponent,W,H,he,Oe,ke],encapsulation:2});var We=function(){function e(e,t){this.model=e,this.component=t,this.ID="chartjs-tooltip",this.TOOLTIP_SELECTOR="ed-tooltip"}return e.build=function(t){return Chart.Tooltip.positioners.custom=function(e,t){return{x:t.x,y:t.y}},{mode:"index",position:"custom",axis:"x",intersect:!1,caretSize:0,xPadding:10,bodySpacing:5,titleAlign:"right",enabled:!1,custom:function(n){return new e(n,t).create()}}},Object.defineProperty(e.prototype,"root",{get:function(){var e=document.getElementById(this.ID);return e||((e=document.createElement("div")).id=this.ID,e.innerHTML="<div class='graph-tooltip grafana-tooltip "+this.TOOLTIP_SELECTOR+"'></div>",document.body.appendChild(e)),e},enumerable:!1,configurable:!0}),e.prototype.create=function(){var e=this.root;0!==this.model.opacity?(e.classList.remove("above","below","no-transform"),this.model.yAlign?e.classList.add(this.model.yAlign):e.classList.add("no-transform"),this.model.body&&this.createBody(),this.setPosition()):e.style.opacity="0"},e.prototype.setPosition=function(){var e=this.root,t=this.component.control.chart.canvas.getBoundingClientRect(),n=document.getElementsByClassName(this.TOOLTIP_SELECTOR)[0].getBoundingClientRect().width,o=this.model.caretX+n>t.width?n+2*this.model.xPadding:0;e.style.opacity="1",e.style.position="absolute",e.style.left=t.left+window.pageXOffset+this.model.caretX-o+"px",e.style.top=t.top+window.pageYOffset+this.model.caretY+"px",e.style.fontFamily=this.model._bodyFontFamily,e.style.padding=this.model.yPadding+"px "+this.model.xPadding+"px",e.style.pointerEvents="none"},e.prototype.createBody=function(){var e=this.root,t=this.component,n=this.component.store.panel.widget,o=this.model.title||[],r="";o.forEach((function(e){var t=Date.parse(e),n=l.Moment.format(t);r+='<div class="graph-tooltip-time">'+n+"</div>"})),this.sort().forEach((function(e,o){var i=e.seriesName,l=e.value,a='\n\t\t\t\t<div class="graph-tooltip-series-name">\n\t\t\t\t\t<i class="fa fa-minus" style="color:'+e.color+';"></i> '+i+":\n\t\t\t\t</div>",d=t.data.datasets.find((function(e){return e.label==i})).yAxisID==y?n.axes.leftY:n.axes.rightY,s=n.legend.decimals?n.legend.decimals:1,c=R.getFormattedValue(l,d.unit,s);r+='\n\t\t\t\t<div class="graph-tooltip-list-item">\n\t\t\t\t\t'+a+"\n\t\t\t\t\t"+('<div class="graph-tooltip-value ">'+c+"</div>")+"\n\t\t\t\t</div>"})),e.querySelector("."+this.TOOLTIP_SELECTOR).innerHTML=r},e.prototype.sort=function(){var e=this;var t=this.model.body.map((function(e){return e.lines})),n=this.component.widget.display.tooltipSortOrder,o=[];switch(t.forEach((function(t,n){var i=e.model.labelColors[n],l=r.ColorHelper.hexToRgbString(i.backgroundColor),a=t[0].lastIndexOf(":"),d=t[0].substring(0,a),s=parseFloat(e.model.dataPoints[n].value);o.push({seriesName:d,value:s,color:l})})),n){case w.Increasing:o.sort((function(e,t){return e.value-t.value}));break;case w.Decreasing:o.sort((function(e,t){return t.value-e.value}))}return o.filter((function(t){var n;return!(null===(n=e.component.display.getOverrideByLabel(t.seriesName))||void 0===n?void 0:n.hideInTooltip)}))},e}(),He=function(){function e(){}return e.getOptions=function(e){Chart.defaults.global.defaultFontColor="#e3e3e3",Chart.defaults.global.defaultFontFamily="Roboto",Chart.defaults.global.defaultFontSize=11;var t=e.widget;return{maintainAspectRatio:!1,animation:!1,tooltips:We.build(e),legend:{display:!1},spanGaps:!0,scales:{xAxes:[this.getAxisX(t)],yAxes:[this.getAxisY(t,!0),this.getAxisY(t,!1)]
/*!AxesManager.needSecondaryYAxis(widget) true ? [axisYa] : [axisYa, axisYb]				*/}}},e.getAxisX=function(e){return{id:b,type:"time",gridLines:{color:"rgba( 255,255,255, 0.1)"},ticks:{autoSkip:!0,autoSkipPadding:50,maxRotation:0,minRotation:0},time:{displayFormats:{second:"HH:mm:ss",minute:"HH:mm",hour:"HH:mm",day:"M/D HH:mm",week:"M/D",month:"M/D",year:"YYYY-M"}},display:e.axes.x.show}},e.getAxisY=function(e,t){var n=t?e.axes.leftY:e.axes.rightY;return{id:t?y:x,display:n.show,type:n.scale&&n.scale!=v.Linear?"logarithmic":"linear",gridLines:{color:"rgba( 255,255,255, 0.1)",zeroLineWidth:3},position:t?"left":"right",scaleLabel:{display:n.label,labelString:n.label},ticks:{min:n.min,max:n.max,userCallback:function(e,t,o){if(!(o.length>8)||t%2)return R.getFormattedValue(e,n.unit,n.decimals)}},stacked:e.display.stack}},e}(),Be=function(){function e(e){this.panel=e}return Object.defineProperty(e.prototype,"display",{get:function(){return this.panel.widget.display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.panel.widget.component.control.chart.options},enumerable:!1,configurable:!0}),e.prototype.setup=function(e){this.setupLines(e),this.setupPoints(e),this.setupNullValue(e)},e.prototype.setupLines=function(e){var t=this.getShowLines(e),n=this.getLineWidth(e),o=this.getFill(e),r=o/10;if(e.fill=o>0,e.backgroundColor=this.getLineColor(e,r),r=t&&n?1:0,e.borderColor=this.getLineColor(e,r),e.borderWidth=n,e.steppedLine=this.getStaircase(e),this.getDashes(e)){var i=this.getDashLength(e),l=this.getDashSpace(e);e.borderDash=[i,l]}else e.borderDash=void 0;e.order=this.getZIndex(e),e.legend=this.getLegend(e),e.yAxisID=1==this.getYAxis(e)?y:x},e.prototype.setupPoints=function(e){var t=this.getShowPoints(e),n=t?1:0,o=this.getLineColor(e,n);e.pointBorderColor=""+o,e.pointBackgroundColor=""+o,e.pointRadius=t?this.getPointRadius(e):0},e.prototype.setupNullValue=function(e){switch(this.display.nullValue){case S.Connected:this.options.spanGaps=!0,e.data.forEach((function(e){return e.y=e.isNull?null:e.y}));break;case S.Null:this.options.spanGaps=!1,e.data.forEach((function(e){return e.y=e.isNull?null:e.y}));break;case S.NullAsZero:this.options.spanGaps=!1,e.data.forEach((function(e){return e.y=e.isNull?0:e.y}))}},e.prototype.getShowLines=function(e){var t=this.getOverride(e);return t&&null!=t.lines?t.lines:this.display.showLines},e.prototype.getLineWidth=function(e){var t=this.getOverride(e);return t&&null!=t.lineWidth?t.lineWidth:this.display.lineWidth},e.prototype.getLineColor=function(e,t){var n,o=this.getOverride(e),i=r.ColorHelper.colors[e.index%r.ColorHelper.colors.length],l=r.ColorHelper.hexToRgbString(i,t),a=o&&null!=o.color;return a&&(n=r.ColorHelper.hexToRgbString(o.color,t)),a?n:l},e.prototype.getFill=function(e){var t=this.getOverride(e);return t&&null!=t.lineFill?t.lineFill:this.display.fill},e.prototype.getStaircase=function(e){var t=this.getOverride(e);return t&&null!=t.staircase?t.staircase:this.display.staircase},e.prototype.getDashes=function(e){var t=this.getOverride(e);return!(!t||null==t.dashes)&&t.dashes},e.prototype.getDashLength=function(e){var t=this.getOverride(e);return t&&null!=t.dashLength?t.dashLength:1},e.prototype.getDashSpace=function(e){var t=this.getOverride(e);return t&&null!=t.dashSpace?t.dashSpace:1},e.prototype.getShowPoints=function(e){var t=this.getOverride(e);return t&&null!=t.points?t.points:this.display.showPoints},e.prototype.getPointRadius=function(e){var t=this.getOverride(e);return t&&null!=t.pointRadius?t.pointRadius:this.display.pointRadius},e.prototype.getLegend=function(e){var t=this.getOverride(e);return!t||null==t.legend||t.legend},e.prototype.getZIndex=function(e){var t=this.getOverride(e);return t&&null!=t.zIndex?t.zIndex:0},e.prototype.getYAxis=function(e){var t=this.getOverride(e);return t&&null!=t.yAxis?t.yAxis:1},e.prototype.getOverride=function(e){return this.getOverrideByLabel(e.label)},e.prototype.getOverrideByLabel=function(e){return this.display.overrides.find((function(t){return t.alias&&new RegExp(t.alias).test(e)}))},e}();Be.ɵfac=function(e){return new(e||Be)(t.ɵɵinject(l.PANEL_TOKEN))},Be.ɵprov=t.ɵɵdefineInjectable({token:Be,factory:Be.ɵfac});var qe=function(){function e(e){this.dispay=e}return e.prototype.toDataSets=function(e){var t=this;if(!e||0===e.length)return[];var n=[],o=0;return e.forEach((function(e){var r=h(e.columns.slice(1).map((function(n,r){return t.toDataSet(e,r+1,o++)}))).filter((function(e){return e}));(n=h(n,r)).forEach((function(e){return t.dispay.setup(e)}))})),n},e.prototype.toDataSet=function(e,t,n){var o=e.values.map((function(e){var n=null==e[t];return{x:l.Moment.valueOf(e[0]),y:e[t],isNull:n}})),r=o.map((function(e){return e.y})).filter((function(e){return null!=e})).map((function(e){return parseFloat(e)}));if(0!=r.length){var i=r.reduce((function(e,t){return e+t}))/r.length,a=r.every((function(e){return null==e})),d=r.every((function(e){return 0==e}));return{label:this.generateDataSetName(e,t),data:o,lineTension:0,min:Math.min.apply(Math,h(r)),max:Math.max.apply(Math,h(r)),avg:i,current:r.slice(-1)[0],allNulls:a,allZeros:d,index:n,pointRadius:0,borderColor:"#ff0000"}}},e.prototype.generateDataSetName=function(e,t){var n=e.name+"."+e.columns[t],o="",r=(Object.keys(e.tags),0);for(var i in e.tags)o+=(r>0?", ":"")+i+": "+e.tags[i],r++;return o&&(n=n+" {"+o+"}"),n},e}();qe.ɵfac=function(e){return new(e||qe)(t.ɵɵinject(Be))},qe.ɵprov=t.ɵɵdefineInjectable({token:qe,factory:qe.ɵfac});var Ke=function(){function e(e,n,o,r,i){var l=this;this.pluginActivator=e,this.dsService=n,this.converter=o,this.time=r,this.panel=i,this.data$=new t.EventEmitter,this.timeSubs=this.time.range$.pipe(s.tap((function(e){return l.request=""})),s.mergeMap((function(e){return l.pluginActivator.createDataSourceMetricsBuilder(i)})),s.mergeMap((function(e){return e.build(l.metrics,l.range)}))).subscribe((function(e){return l.pull(e)}),(function(e){return l.onError(e)}))}return Object.defineProperty(e.prototype,"metrics",{get:function(){var e,t;return null===(t=null===(e=this.panel)||void 0===e?void 0:e.widget)||void 0===t?void 0:t.metrics},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){var e,t,n=this.time.range.raw,o=null===(t=null===(e=this.panel)||void 0===e?void 0:e.widget)||void 0===t?void 0:t.time;return this.time.converter.modify(n,o)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;null===(e=this.timeSubs)||void 0===e||e.unsubscribe()},e.prototype.update=function(){this.time.tick()},e.prototype.pull=function(e){var t=this;this.request!==e&&(this.request=e,console.log("pull: "+e),e?(this.panel.loading=!0,this.dsService.proxy(this.metrics.dataSource,e).pipe(s.finalize((function(){return t.panel.loading=!1}))).subscribe((function(e){return t.onData(e)}),(function(e){var n,o;return t.onError(null!==(o=null===(n=e.error)||void 0===n?void 0:n.details)&&void 0!==o?o:"error: todo")}))):this.onData([]))},e.prototype.onData=function(e){this.panel.error=void 0,this.data$.emit({datasets:this.converter.toDataSets(e)})},e.prototype.onError=function(e){this.panel.error=e,this.data$.emit({datasets:[]})},e}();Ke.ɵfac=function(e){return new(e||Ke)(t.ɵɵinject(l.PluginActivator),t.ɵɵinject(l.DataSourceService),t.ɵɵinject(qe),t.ɵɵinject(l.TimeRangeStore),t.ɵɵinject(l.PANEL_TOKEN))},Ke.ɵprov=t.ɵɵdefineInjectable({token:Ke,factory:Ke.ɵfac});var Ge=function(){function e(e,t,n){var o=this;this.dataProvider=e,this.display=t,this.panel=n,this.widget=new d.BehaviorSubject(null),this.widget$=this.widget.asObservable(),this.data=new d.BehaviorSubject(null),this.data$=this.data.asObservable(),e.data$.subscribe((function(e){var t;return o.data.next(null!==(t=null==e?void 0:e.datasets)&&void 0!==t?t:[])})),this.widget.next(n.widget)}return e.prototype.destroy=function(){this.dataProvider.destroy(),this.widget.value.component=void 0},e}();Ge.ɵfac=function(e){return new(e||Ge)(t.ɵɵinject(Ke),t.ɵɵinject(Be),t.ɵɵinject(l.PANEL_TOKEN))},Ge.ɵprov=t.ɵɵdefineInjectable({token:Ge,factory:Ge.ɵfac});var Ye=function(){function e(e){var t=this;this.store=e,this.dataSubs=e.data$.subscribe((function(e){return t.data={datasets:e}})),this.widgetSubs=e.widget$.subscribe((function(e){t.widget=e,e&&t.onWidgetReady()}))}return Object.defineProperty(e.prototype,"datasets",{get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.datasets},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.widget.component},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this.store.display},enumerable:!1,configurable:!0}),e.prototype.onWidgetReady=function(){},e.prototype.ngOnDestroy=function(){var e,t;null===(e=this.dataSubs)||void 0===e||e.unsubscribe(),null===(t=this.widgetSubs)||void 0===t||t.unsubscribe()},e}();Ye.ɵfac=function(e){return new(e||Ye)(t.ɵɵdirectiveInject(Ge))},Ye.ɵdir=t.ɵɵdefineDirective({type:Ye});var $e=function(){function e(e){var t=this;this.store=e,this.widgetSubs=e.widget$.subscribe((function(e){return t.widget=e}))}return e.prototype.destroy=function(){var e;null===(e=this.widgetSubs)||void 0===e||e.unsubscribe()},e}();$e.ɵfac=function(e){return new(e||$e)(t.ɵɵdirectiveInject(Ge))},$e.ɵdir=t.ɵɵdefineDirective({type:$e});var ze=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.afterDatasetsDraw=function(e,t){var n,o;null===(o=null===(n=this.widget)||void 0===n?void 0:n.display)||void 0===o||o.thresholds.forEach((function(t){return new Ze(e,t).draw()}))},t}($e);ze.ɵfac=function(e){return new(e||ze)(t.ɵɵinject(Ge))},ze.ɵprov=t.ɵɵdefineInjectable({token:ze,factory:ze.ɵfac});var Ze=function(){function e(e,t){this.chart=e,this.threshold=t}return Object.defineProperty(e.prototype,"context",{get:function(){return this.chart.chart.ctx},enumerable:!1,configurable:!0}),e.prototype.draw=function(){if(null!=this.threshold.value){var e=this.chart.scales.yAxisL,t=this.chart.scales.yAxisR,n=this.chart.scales.xAxis,o=this.threshold.axis==E.Right&&t?t:e,r=o.getPixelForValue(this.threshold.value),i=this.threshold.operator==M.Gt;if(!(!i&&this.threshold.value<o.min||i&&this.threshold.value>o.max||!this.chart.data.datasets.length)){if(this.threshold.line){var l=this.getColor(!1);this.renderLine(n,l,r)}this.threshold.fill&&this.renderRectangle(n,o,r)}}},e.prototype.renderLine=function(e,t,n){this.context.beginPath(),this.context.strokeStyle=t+"99",this.context.lineWidth=2,this.context.moveTo(e.left,n),this.context.lineTo(e.right,n),this.context.stroke()},e.prototype.renderRectangle=function(e,t,n){var o=this.getColor(!0),r=this.threshold.operator==M.Gt;this.context.fillStyle=o+"22";var i=e.left,l=e.width,a=t.getPixelForValue(t.max),d=t.getPixelForValue(t.min),s=r?a:Math.max(a,n),c=r?n-t.top:t.bottom-n;c=Math.min(d-a,c),this.context.fillRect(i,s,l,c)},e.prototype.getColor=function(e){switch(this.threshold.colorType){case _.Critical:return"#ED2E18";case _.Ok:return"#10a345";case _.Warning:return"#f79520"}var t="#ffffff";return e?this.threshold.fillColor?this.threshold.fillColor:t:this.threshold.lineColor?this.threshold.lineColor:t},e}(),Ue=(function(){function e(){}e.alignPixel=function(e,t,n){var o=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*o)/o+r}}(),function(){function e(e){this.store=e}return e.prototype.afterDatasetsDraw=function(e,t){},e.prototype.getMousePos=function(e,t){if(t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}},e}());Ue.ɵfac=function(e){return new(e||Ue)(t.ɵɵinject(Ge))},Ue.ɵprov=t.ɵɵdefineInjectable({token:Ue,factory:Ue.ɵfac});var Qe=function(e){function t(t){return e.call(this,t)||this}return p(t,e),t.prototype.afterDatasetsDraw=function(e,t){var n,o;null===(o=null===(n=this.widget)||void 0===n?void 0:n.display)||void 0===o||o.timeRegions.forEach((function(t){return new Xe(e,t).draw()}))},t}($e);Qe.ɵfac=function(e){return new(e||Qe)(t.ɵɵinject(Ge))},Qe.ɵprov=t.ɵɵdefineInjectable({token:Qe,factory:Qe.ɵfac});var Xe=function(){function e(e,t){this.chart=e,this.timeRegion=t}return Object.defineProperty(e.prototype,"context",{get:function(){return this.chart.chart.ctx},enumerable:!1,configurable:!0}),e.prototype.draw=function(){var e=this,t=this.chart.scales.xAxis,n=l.Moment.create(t.min),o=l.Moment.create(t.max);this.getSpans(n,o).forEach((function(n){var o=t.getPixelForValue(n.start.toDate()),r=t.getPixelForValue(n.end.toDate());r<t.left||o>t.right||(o=Math.max(o,t.left),r=Math.min(r,t.right),e.renderRegion(o,r))}))},e.prototype.getSpans=function(e,t){var n=this.getSpanBorders(e,t),o=this.getTime();return this.isSpecificDayOfWeek()?this.getSpansDayOfWeek(n,o):this.getSpansAny(n,o)},e.prototype.getTime=function(){var e=this.isSpecificDayOfWeek(),t=this.timeRegion.fromTime,n=this.timeRegion.toTime,o="HH:mm",r=l.Moment.create(t,o),i=l.Moment.create(n,o);if(r.isValid()||i.isValid())r.isValid()&&!i.isValid()?i=r.clone():!r.isValid()&&i.isValid()&&(r=i.clone());else if(e){var a=l.Moment.create("00:00",o);r=a.clone(),i=a.clone()}return{from:r.isValid()?r.toDate():void 0,to:i.isValid()?i.toDate():void 0}},e.prototype.getSpansDayOfWeek=function(e,t){for(var n=e.to,o=e.from.clone(),r=[],i=this.timeRegion.fromDay,l=this.timeRegion.toDay;o<n;){var a=o.clone().day(i),d=a.clone().day(l);d.isBefore(a)&&d.add(1,"weeks"),a.set({hour:t.from.getHours(),minute:t.from.getMinutes()}),d.set({hour:t.to.getHours(),minute:t.to.getMinutes()}),r.push({start:a,end:d}),o.add(1,"weeks")}return r},e.prototype.getSpansAny=function(e,t){var n=e.to,o=e.from.clone(),r=[];if(!t.from&&!t.to)return r;for(;o<n;){var i=o.clone().set({hour:t.from.getHours(),minute:t.from.getMinutes()}),l=o.clone().set({hour:t.to.getHours(),minute:t.to.getMinutes()});l.isBefore(i)&&l.add(1,"days"),r.push({start:i,end:l}),o.add(1,"days")}return r},e.prototype.getSpanBorders=function(e,t){var n=this.isSpecificDayOfWeek()?8:1;return{from:e.clone().subtract(n,"days").startOf("day"),to:t.clone().add(n,"days").endOf("day")}},e.prototype.isSpecificDayOfWeek=function(){return this.timeRegion.fromDay!=P.Any||this.timeRegion.toDay!=P.Any},e.prototype.renderRegion=function(e,t){var n=this.chart.scales.yAxisL,o=this.chart.scales.xAxis,r=n.top,i=n.bottom;this.timeRegion.line&&(o.left!=e&&this.renderLine(r,i,e),o.right!=t&&t!=e&&this.renderLine(r,i,t)),this.timeRegion.fill&&t!=e&&this.renderRectangle(r,i,e,t)},e.prototype.renderLine=function(e,t,n){var o=this.getColor(!1);this.context.beginPath(),this.context.strokeStyle=o+"99",this.context.lineWidth=2,this.context.moveTo(n,e),this.context.lineTo(n,t),this.context.stroke()},e.prototype.renderRectangle=function(e,t,n,o){var r=this.getColor(!0);this.context.fillStyle=r+"22";var i=n,l=o-n,a=e,d=t-e;this.context.fillRect(i,a,l,d)},e.prototype.getColor=function(e){switch(this.timeRegion.colorType){case D.Red:return"#ED2E18";case D.Green:return"#10a345";case D.Blue:return"#1f78c1";case D.Yellow:return"#f79520";case D.Gray:return"#fce2de"}var t="#ffffff";return e?this.timeRegion.fillColor?this.timeRegion.fillColor:t:this.timeRegion.lineColor?this.timeRegion.lineColor:t},e}(),Je=function(){function e(e,t,n){this.thresholds=e,this.trackball=t,this.timeRegions=n}return Object.defineProperty(e.prototype,"list",{get:function(){return[this.thresholds,this.timeRegions]},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.list.forEach((function(e){return e.destroy()}))},e}();function et(e,n){1&e&&t.ɵɵelement(0,"chart-legend",7)}function tt(e,n){1&e&&t.ɵɵelement(0,"chart-legend",8)}Je.ɵfac=function(e){return new(e||Je)(t.ɵɵinject(ze),t.ɵɵinject(Ue),t.ɵɵinject(Qe))},Je.ɵprov=t.ɵɵdefineInjectable({token:Je,factory:Je.ɵfac});var nt=function(e){function t(t,n){var o=e.call(this,t)||this;return o.extensions=n,o.options=He.getOptions(o),o.plugins=n.list,o}return p(t,e),Object.defineProperty(t.prototype,"legend",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.legend},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.widget.component=this},t.prototype.ngOnDestroy=function(){this.store.destroy(),this.extensions.destroy()},t}(Ye);function ot(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",17),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.min(o))}}function rt(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",18),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.max(o))}}function it(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",19),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.avg(o))}}function lt(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",20),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.current(o))}}nt.ɵfac=function(e){return new(e||nt)(t.ɵɵdirectiveInject(Ge),t.ɵɵdirectiveInject(Je))},nt.ɵcmp=t.ɵɵdefineComponent({type:nt,selectors:[["widget"]],viewQuery:function(e,n){var o;(1&e&&t.ɵɵviewQuery(u.UIChart,!0),2&e)&&(t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.control=o.first))},features:[t.ɵɵProvidersFeature([Ke,qe,Be,Ge,Je,Ue,ze,Qe]),t.ɵɵInheritDefinitionFeature],decls:7,vars:5,consts:[[1,"chart__wrapper"],[1,"chart__right-legend-cont"],[1,"chart__canvas-cont"],["type","line","height","100%",3,"data","options","plugins"],["chart",""],["class","chart__legend-right",4,"ngIf"],["class","chart__legend-bottom",4,"ngIf"],[1,"chart__legend-right"],[1,"chart__legend-bottom"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelement(3,"p-chart",3,4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,et,1,0,"chart-legend",5),t.ɵɵelementEnd(),t.ɵɵtemplate(6,tt,1,0,"chart-legend",6),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("data",n.data)("options",n.options)("plugins",n.plugins),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.legend.show&&(null==n.legend?null:n.legend.right)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.legend.show&&!(null!=n.legend&&n.legend.right)))},styles:[".hide-text{background-color:transparent;border:0;color:transparent;font:0/0 a;text-shadow:none}.input-block-level{box-sizing:border-box;display:block;min-height:18px;width:100%}.animate-height{max-height:0;overflow:hidden}.animate-height--open{max-height:1000px;overflow:auto;transition:max-height .25s ease-in-out}.chart__wrapper{display:flex;flex-direction:column;height:100%;min-height:0;position:relative}.chart__right-legend-cont{cursor:crosshair;display:flex;flex:1;min-height:0;min-width:0}.chart__canvas-cont{flex:1;min-height:0;min-width:0;padding-left:5px}.chart__legend-bottom{flex:0 1 auto;flex-wrap:wrap;max-height:35%;overflow:hidden;padding-top:6px;position:relative}.chart__legend-right{flex:0 1 10px}.graph-tooltip{background-color:#141414;color:#d8d9da;font-size:12px;white-space:nowrap}.graph-tooltip .graph-tooltip-time{color:#d8d9da;font-weight:700;padding:.2rem;position:relative;text-align:center;top:-3px}.graph-tooltip .graph-tooltip-list-item{display:table-row}.graph-tooltip .graph-tooltip-list-item--highlight{color:#ececec;font-weight:700}.graph-tooltip .graph-tooltip-series-name{display:table-cell;max-width:650px;overflow:hidden;padding:.15rem;text-overflow:ellipsis}.graph-tooltip .graph-tooltip-value{display:table-cell;font-weight:700;padding-left:15px;text-align:right}.grafana-tooltip{border-radius:5px;font-weight:200;line-height:14px;max-height:600px;max-width:800px;overflow:hidden;padding:10px;position:absolute;z-index:9999}.grafana-tooltip a{color:#e3e3e3}"],encapsulation:2});var at=function(e){return{hidden:e}};function dt(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",9),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onSeriesClicked(r,e)})),t.ɵɵelementStart(1,"div",10),t.ɵɵelement(2,"i",11),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"a",12),t.ɵɵtext(4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,ot,2,1,"div",13),t.ɵɵtemplate(6,rt,2,1,"div",14),t.ɵɵtemplate(7,it,2,1,"div",15),t.ɵɵtemplate(8,lt,2,1,"div",16),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(9,at,r.hidden)),t.ɵɵadvance(1),t.ɵɵstyleProp("color",i.color(r)),t.ɵɵadvance(2),t.ɵɵproperty("title",r.label),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.current)}}function st(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",7),t.ɵɵtemplate(1,dt,9,11,"div",8),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵproperty("@fadeInOut",void 0),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o.filteredDatasets)}}function ct(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",3),t.ɵɵelementStart(1,"perfect-scrollbar"),t.ɵɵelementStart(2,"div",4),t.ɵɵtemplate(3,st,2,2,"div",5),t.ɵɵelement(4,"div",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(3),t.ɵɵproperty("ngIf",null==o.datasets?null:o.datasets.length)}}function ut(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"min"),t.ɵɵelementEnd())}function mt(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"max"),t.ɵɵelementEnd())}function pt(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"avg"),t.ɵɵelementEnd())}function gt(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"current"),t.ɵɵelementEnd())}function ht(e,n){if(1&e&&(t.ɵɵelementStart(0,"thead"),t.ɵɵelementStart(1,"tr"),t.ɵɵelement(2,"th",27),t.ɵɵtemplate(3,ut,2,0,"th",28),t.ɵɵtemplate(4,mt,2,0,"th",28),t.ɵɵtemplate(5,pt,2,0,"th",28),t.ɵɵtemplate(6,gt,2,0,"th",28),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(3);t.ɵɵadvance(3),t.ɵɵproperty("ngIf",o.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.current)}}function ft(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.min(o))}}function vt(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.max(o))}}function bt(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.avg(o))}}function yt(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.current(o))}}function xt(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"tr",30),t.ɵɵelementStart(1,"td",31),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onSeriesClicked(r,e)})),t.ɵɵelementStart(2,"div",10),t.ɵɵelement(3,"i",11),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",12),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵtemplate(6,ft,2,1,"td",32),t.ɵɵtemplate(7,vt,2,1,"td",32),t.ɵɵtemplate(8,bt,2,1,"td",32),t.ɵɵtemplate(9,yt,2,1,"td",32),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(9,at,r.hidden)),t.ɵɵadvance(2),t.ɵɵstyleProp("color",i.color(r)),t.ɵɵadvance(2),t.ɵɵproperty("title",r.label),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.current)}}function Ct(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",4),t.ɵɵelementStart(1,"div",23),t.ɵɵelementStart(2,"table",24),t.ɵɵelementStart(3,"colgroup"),t.ɵɵelement(4,"col",24),t.ɵɵelementEnd(),t.ɵɵtemplate(5,ht,7,4,"thead",25),t.ɵɵelementStart(6,"tbody"),t.ɵɵtemplate(7,xt,10,11,"tr",26),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(8,"div",6),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵproperty("@fadeInOut",void 0),t.ɵɵadvance(5),t.ɵɵproperty("ngIf",o.datasets&&o.datasets.length>0),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",o.filteredDatasets)}}function wt(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",21),t.ɵɵelementStart(1,"perfect-scrollbar"),t.ɵɵtemplate(2,Ct,9,3,"div",22),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵproperty("ngIf",null==o.datasets?null:o.datasets.length)}}var St=function(e){function t(t){return e.call(this,t)||this}return p(t,e),Object.defineProperty(t.prototype,"legend",{get:function(){return this.widget.legend},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filteredDatasets",{get:function(){var e=this.datasets.filter((function(e){return e.legend}));return this.legend.hideOnlyZeroes&&(e=e.filter((function(e){return!e.allZeros}))),this.legend.hideOnlyNulls&&(e=e.filter((function(e){return!e.allNulls}))),e},enumerable:!1,configurable:!0}),t.prototype.axis=function(e){var t=this.widget.axes;return e.yAxisID==y?t.leftY:t.rightY},t.prototype.decimals=function(e){return this.legend.decimals?this.legend.decimals:0},t.prototype.unit=function(e){return this.axis(e).unit},t.prototype.color=function(e){return this.display.getLineColor(e,1)},t.prototype.min=function(e){return R.getFormattedValue(e.min,this.unit(e),this.decimals(e))},t.prototype.max=function(e){return R.getFormattedValue(e.max,this.unit(e),this.decimals(e))},t.prototype.avg=function(e){return R.getFormattedValue(e.avg,this.unit(e),this.decimals(e))},t.prototype.current=function(e){return R.getFormattedValue(e.current,this.unit(e),this.decimals(e))},t.prototype.onSeriesClicked=function(e,t){var n=this;if(t.ctrlKey){var o=0==e.selected;this.toggleSeries(e,o)}else{var r=void 0===e.selected||0==e.selected||void 0;this.toggleSeries(e,r),this.datasets.filter((function(t){return t!=e})).forEach((function(e){return n.toggleSeries(e,1!=r&&void 0)}))}this.component.control.refresh()},t.prototype.toggleSeries=function(e,t){e.selected=t,void 0===t?(delete e.hidden,delete e.selected):e.hidden=!t},t}(Ye);St.ɵfac=function(e){return new(e||St)(t.ɵɵdirectiveInject(Ge))},St.ɵcmp=t.ɵɵdefineComponent({type:St,selectors:[["chart-legend"]],features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:2,consts:[[1,"legend__top-wrapper"],["class","legend__bottom",4,"ngIf","ngIfElse"],["legendAsTable",""],[1,"legend__bottom"],[1,"legend__scroller-cont"],["class","legend__series-wrapper",4,"ngIf"],[1,"legend__scroller-padding"],[1,"legend__series-wrapper"],["class","legend__series",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"legend__series",3,"ngClass","click"],[1,"legend__icon"],[1,"fa","fa-minus","pointer"],[1,"legend__alias","pointer",3,"title"],["class","legend__value min",4,"ngIf"],["class","legend__value max",4,"ngIf"],["class","legend__value avg",4,"ngIf"],["class","legend__value current",4,"ngIf"],[1,"legend__value","min"],[1,"legend__value","max"],[1,"legend__value","avg"],[1,"legend__value","current"],[1,"legend__bottom-table"],["class","legend__scroller-cont",4,"ngIf"],[1,"legend__series-wrapper","legend__full-width"],[1,"legend__full-width"],[4,"ngIf"],["class","legend__series",3,"ngClass",4,"ngFor","ngForOf"],[2,"text-align","left"],["class","pointer",4,"ngIf"],[1,"pointer"],[1,"legend__series",3,"ngClass"],[3,"click"],["class","legend__value",4,"ngIf"],[1,"legend__value"]],template:function(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,ct,5,1,"div",1),t.ɵɵtemplate(2,wt,3,1,"ng-template",null,2,t.ɵɵtemplateRefExtractor),t.ɵɵelementEnd()),2&e){var o=t.ɵɵreference(3);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.legend.table)("ngIfElse",o)}},directives:[o.NgIf,c.PerfectScrollbarComponent,o.NgForOf,o.NgClass],styles:['.hide-text{background-color:transparent;border:0;color:transparent;font:0/0 a;text-shadow:none}.input-block-level{box-sizing:border-box;display:block;min-height:18px;width:100%}.animate-height{max-height:0;overflow:hidden}.animate-height--open{max-height:1000px;overflow:auto;transition:max-height .25s ease-in-out}.legend__top-wrapper{display:flex;flex-grow:1;max-height:100%;min-height:0;overflow:hidden;position:relative;width:100%}.legend__bottom{min-width:0;padding-bottom:5px}.legend__scroller-cont{display:flex;flex-direction:row}.legend__scroller-padding{min-width:10px}.legend__series-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;min-width:0}.legend__series{min-width:0;padding-left:10px;white-space:nowrap}.legend__series--right-y{float:right}.legend__series.hidden .legend__alias,.legend__series.hidden .legend__value{color:#969696}.legend__alias,.legend__icon,.legend__value{cursor:pointer;display:inline;font-size:85%;text-align:left;white-space:nowrap}.legend__alias.current:before,.legend__icon.current:before,.legend__value.current:before{content:"Current: "}.legend__alias.max:before,.legend__icon.max:before,.legend__value.max:before{content:"Max: "}.legend__alias.min:before,.legend__icon.min:before,.legend__value.min:before{content:"Min: "}.legend__alias.total:before,.legend__icon.total:before,.legend__value.total:before{content:"Total: "}.legend__alias.avg:before,.legend__icon.avg:before,.legend__value.avg:before{content:"Avg: "}.legend__icon{padding-right:4px;position:relative;top:1px}.legend__icon .fa{font-size:135%;position:relative;top:1px}.legend__value{padding-left:6px}.legend__bottom-table{padding-bottom:1px;padding-left:5px;padding-right:5px;width:100%}.legend__bottom-table .legend__series{display:table-row;float:none;padding-left:0}.legend__bottom-table .legend__series--right-y{float:none}.legend__bottom-table .legend__series--right-y .legend__alias:after{color:#8e8e8e;content:"(right-y)";padding:0 5px}.legend__bottom-table .legend__alias,.legend__bottom-table .legend__icon,.legend__bottom-table .legend__value,.legend__bottom-table td{display:table-cell;float:none;padding:2px 10px;text-align:right;white-space:nowrap}.legend__bottom-table .legend__icon{padding:0;top:0;width:5px}.legend__bottom-table .legend__icon .fa{top:3px}.legend__bottom-table .legend__value{padding-left:15px}.legend__bottom-table .legend__alias{max-width:650px;overflow:hidden;padding-left:7px;text-align:left;text-overflow:ellipsis;width:95%}.legend__bottom-table th{color:#33b5e5;font-size:85%;font-weight:700;padding:0 10px 1px 0;text-align:right;white-space:nowrap}.legend__bottom-table .legend__series:nth-child(odd){background:#262628}.legend__full-width{width:100%}'],encapsulation:2,data:{animation:[r.FadeInOutAnimation]}});var Mt=function(){};Mt.ɵmod=t.ɵɵdefineNgModule({type:Mt}),Mt.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||Mt)},imports:[[o.CommonModule,i.FormsModule,i.ReactiveFormsModule,u.ChartModule,l.EdCommonModule,r.EdUilibModule,c.PerfectScrollbarModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(Mt,{declarations:[nt,Ve,St,W,V,j,H,he,B,J,Q,z,Y,re,ne,ke,Oe,xe,be,we,Ce],imports:[o.CommonModule,i.FormsModule,i.ReactiveFormsModule,u.ChartModule,l.EdCommonModule,r.EdUilibModule,c.PerfectScrollbarModule],exports:[nt,Ve]}),t.ɵɵsetComponentScope(nt,[o.NgClass,o.NgComponentOutlet,o.NgForOf,o.NgIf,o.NgTemplateOutlet,o.NgStyle,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,o.NgPlural,o.NgPluralCase,i.ɵangular_packages_forms_forms_y,i.NgSelectOption,i.ɵangular_packages_forms_forms_x,i.DefaultValueAccessor,i.NumberValueAccessor,i.RangeValueAccessor,i.CheckboxControlValueAccessor,i.SelectControlValueAccessor,i.SelectMultipleControlValueAccessor,i.RadioControlValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.RequiredValidator,i.MinLengthValidator,i.MaxLengthValidator,i.PatternValidator,i.CheckboxRequiredValidator,i.EmailValidator,i.NgModel,i.NgModelGroup,i.NgForm,i.FormControlDirective,i.FormGroupDirective,i.FormControlName,i.FormGroupName,i.FormArrayName,u.UIChart,r.DialogActionsComponent,r.DialogComponent,r.DropDownComponent,r.DropDownValueTemplate,r.DropDownSelectedValueTemplate,r.PopupComponent,r.ContextMenuComponent,r.HierarchicalDropDownComponent,r.HintComponent,r.ErrorHintComponent,r.AutoCompleteComponent,r.PreferencesComponent,r.EmptyListComponent,r.InfoBoxComponent,r.ProgressComponent,r.FilterBoxComponent,r.TextBoxComponent,r.TextBoxValidationTemplate,r.CheckBoxComponent,r.AutoFocusDirective,r.AvatarComponent,r.GridComponent,r.ColumnComponent,r.DeleteColumnComponent,r.SlideDownComponent,r.TabStripComponent,r.TabComponent,r.TabTitleTemplate,r.TabContentTemplate,r.SideTabStripComponent,r.LoadOrErrorComponent,r.ErrorPopupComponent,r.NoteComponent,r.ModuleLoaderComponent,r.UserPickerComponent,r.TeamPickerComponent,r.PermissionPickerComponent,r.PermissionRulePickerComponent,r.PermissionIconComponent,r.TagPickerComponent,r.TimeRangePickerComponent,r.PluginPickerComponent,r.ColorPickerComponent,r.AutoCompletePickerComponent,r.PaletteEditorComponent,r.ColorCircleComponent,r.IconComponent,r.LabelIconComponent,r.RemoveHostDirective,r.PageComponent,r.PageHeaderComponent,r.PageTitleComponent,r.PageTabsNavigationComponent,r.PageDropdownNavigationComponent,r.TagComponent,r.DashboardExplorerComponent,r.DashboardExplorerDeleterComponent,r.DashboardExplorerMoverComponent,r.CardsLayoutSwitcherComponent,r.JsonExplorerComponent,r.GeneralEditorComponent,r.MetricsEditorComponent,r.MetricsDesignerAnchorDirective,c.PerfectScrollbarComponent,c.PerfectScrollbarDirective,nt,Ve,St,W,V,j,H,he,B,J,Q,z,Y,re,ne,ke,Oe,xe,be,we,Ce],[o.AsyncPipe,o.UpperCasePipe,o.LowerCasePipe,o.JsonPipe,o.SlicePipe,o.DecimalPipe,o.PercentPipe,o.TitleCasePipe,o.CurrencyPipe,o.DatePipe,o.I18nPluralPipe,o.I18nSelectPipe,o.KeyValuePipe]),e.ChartComponent=nt,e.ChartEditorComponent=Ve,e.ChartWidgetModule=Mt,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=chart.umd.min.js.map