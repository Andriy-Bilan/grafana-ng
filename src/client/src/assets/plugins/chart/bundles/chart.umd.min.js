!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("@angular/common"),require("uilib"),require("@angular/forms"),require("common"),require("lodash"),require("ngx-perfect-scrollbar"),require("primeng"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("chart",["exports","@angular/core","@angular/router","@angular/common","uilib","@angular/forms","common","lodash","ngx-perfect-scrollbar","primeng","rxjs/operators","rxjs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).chart={},e.ng.core,e.ng.router,e.ng.common,e.uilib,e.ng.forms,e.common,e._,e.i5,e.i3,e.rxjs.operators,e.rxjs)}(this,(function(e,t,n,o,r,i,l,a,s,d,c,u){"use strict";var p=function(){function e(){}return e.prototype.ngOnInit=function(){console.log("create GeneralEditorComponent")},e.prototype.ngOnDestroy=function(){console.log("detroy GeneralEditorComponent")},e}();p.ɵfac=function(e){return new(e||p)},p.ɵcmp=t.ɵɵdefineComponent({type:p,selectors:[["editor-general"]],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"general will be here")},encapsulation:2});var m=function(){function e(e){this.panel=e}return e.prototype.ngOnInit=function(){console.log("create MetricsComponent"),console.log(this.panel)},e.prototype.ngOnDestroy=function(){console.log("detroy MetricsComponent")},e}();m.ɵfac=function(e){return new(e||m)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},m.ɵcmp=t.ɵɵdefineComponent({type:m,selectors:[["editor-metrics"]],decls:1,vars:0,template:function(e,n){1&e&&t.ɵɵtext(0,"metrics will be here")},encapsulation:2});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function h(e,t){function n(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)l.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return l}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}var y,b=function(){function e(e){this.panel=e}return Object.defineProperty(e.prototype,"widget",{get:function(){return this.panel.widget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axes",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.axes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"legend",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.legend},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"thresholds",{get:function(){return this.display.thresholds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timeRegions",{get:function(){return this.display.timeRegions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overrides",{get:function(){return this.display.overrides},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.widget.component.control.chart.options},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.widget.component.control.refresh()},e.prototype.update=function(){var e=this.widget.component;e.datasets.forEach((function(t){return e.display.setup(t)})),this.refresh()},e}();b.ɵfac=function(e){t.ɵɵinvalidFactory()},b.ɵdir=t.ɵɵdefineDirective({type:b}),function(e){e.Linear="linear",e.Log2="log2",e.Log10="log10",e.Log32="log32",e.Log1024="log1024"}(y||(y={}));var x,C,_,w,S,M,E=function(){this.operator=w.Gt,this.colorType=S.Critical,this.fill=!0,this.line=!0,this.axis=M.Left};!function(e){e.All="all",e.Single="single"}(x||(x={})),function(e){e.None="none",e.Increasing="increasing",e.Decreasing="decreasing"}(C||(C={})),function(e){e.Connected="connected",e.Null="null",e.NullAsZero="nullAsZero"}(_||(_={})),function(e){e.Gt="gt",e.Lt="lt"}(w||(w={})),function(e){e.Custom="custom",e.Critical="critical",e.Warning="warning",e.Ok="ok"}(S||(S={})),function(e){e.Left="left",e.Right="right"}(M||(M={}));var I,D,P=function(){this.colorType=I.Red,this.fill=!0,this.line=!0,this.fromDay=D.Any,this.toDay=D.Any};!function(e){e.Gray="gray",e.Red="red",e.Green="green",e.Blue="blue",e.Yellow="yellow",e.Custom="custom"}(I||(I={})),function(e){e.Any="any",e.Mon="mon",e.Tue="tue",e.Wed="wed",e.Thu="thu",e.Fri="fri",e.Sat="sat",e.Sun="sun"}(D||(D={}));var O,k,T=function(){},L=function(e,t){this.type=e,this.value=t};!function(e){e[e.Lines=0]="Lines",e[e.Points=1]="Points",e[e.PointRadius=2]="PointRadius",e[e.Stack=3]="Stack",e[e.LineFill=4]="LineFill",e[e.LineWidth=5]="LineWidth",e[e.Staircase=6]="Staircase",e[e.Dashes=7]="Dashes",e[e.DashLength=8]="DashLength",e[e.DashSpace=9]="DashSpace",e[e.Legend=10]="Legend",e[e.HideInTooltip=11]="HideInTooltip",e[e.Color=12]="Color",e[e.YAxis=13]="YAxis",e[e.ZIndex=14]="ZIndex"}(O||(O={})),function(e){e[e.None=0]="None",e[e.Common_Short=1]="Common_Short",e[e.Common_Percent=2]="Common_Percent",e[e.Common_Percent01=3]="Common_Percent01",e[e.Common_Humidity=4]="Common_Humidity",e[e.Common_Decibel=5]="Common_Decibel",e[e.Common_Hex0x=6]="Common_Hex0x",e[e.Common_Hex=7]="Common_Hex",e[e.Common_SciNotation=8]="Common_SciNotation",e[e.Common_LocaleString=9]="Common_LocaleString",e[e.Length_Millimetre=10]="Length_Millimetre",e[e.Length_Meter=11]="Length_Meter",e[e.Length_Feet=12]="Length_Feet",e[e.Length_Kilometer=13]="Length_Kilometer",e[e.Length_Mile=14]="Length_Mile",e[e.Area_SquareMeters=15]="Area_SquareMeters",e[e.Area_SquareFeet=16]="Area_SquareFeet",e[e.Area_SquareMiles=17]="Area_SquareMiles",e[e.Mass_Milligram=18]="Mass_Milligram",e[e.Mass_Gram=19]="Mass_Gram",e[e.Mass_Kilogram=20]="Mass_Kilogram",e[e.Mass_MetricTon=21]="Mass_MetricTon"}(k||(k={}));var N=function(e,t,n,o){this.type=e,this.label=t,this.unit=n,this.command=o},A=function(){function e(){}return e.getData=function(e){switch(+e){case k.Common_Short:return new N(k.Common_Short,"short","");case k.Common_Percent:return new N(k.Common_Percent,"percent (0-100)","%");case k.Common_Percent01:return new N(k.Common_Percent01,"percent (0.0-1.0)","%");case k.Common_Humidity:return new N(k.Common_Humidity,"humidity (%H)","%H");case k.Common_Decibel:return new N(k.Common_Decibel,"decibel","dB");case k.Common_Hex0x:return new N(k.Common_Hex0x,"hexadecimal (0x)","");case k.Common_Hex:return new N(k.Common_Hex,"hexadecimal","");case k.Common_SciNotation:return new N(k.Common_SciNotation,"scientific notation","");case k.Common_LocaleString:return new N(k.Common_LocaleString,"locale string","");case k.Length_Millimetre:return new N(k.Length_Millimetre,"millimetre (mm)","mm");case k.Length_Meter:return new N(k.Length_Meter,"meter (m)","m");case k.Length_Feet:return new N(k.Length_Feet,"feet (ft)","ft");case k.Length_Kilometer:return new N(k.Length_Kilometer,"kilometer (km)","km");case k.Length_Mile:return new N(k.Length_Mile,"mile (mi)","mi");case k.Area_SquareMeters:return new N(k.Area_SquareMeters,"Square Meters (m²)","m²");case k.Area_SquareFeet:return new N(k.Area_SquareFeet,"Square Feet (ft²)","ft²");case k.Area_SquareMiles:return new N(k.Area_SquareMiles,"Square Miles (mi²)","mi²");case k.Mass_Milligram:return new N(k.Mass_Milligram,"milligram (mg)","mg");case k.Mass_Gram:return new N(k.Mass_Gram,"gram (g)","g");case k.Mass_Kilogram:return new N(k.Mass_Kilogram,"kilogram (kg)","kg");case k.Mass_MetricTon:return new N(k.Mass_MetricTon,"metric ton (t)","t")}return new N(k.None,"none","")},e.getFormattedValue=function(t,n,o){var r=t.toFixed(o),i=e.getData(n);switch(i.type){case k.Common_Hex:return t.toString(16);case k.Common_Hex0x:return"0x"+t.toString(16);case k.Common_Percent01:return(100*t).toFixed(o)+" %";case k.Common_SciNotation:return t.toExponential(o);case k.Common_LocaleString:return t.toLocaleString();case k.Common_Short:return e.getShortFormattedValue(t,n,o);case k.None:return r;default:return r+" "+i.unit}},e.getShortFormattedValue=function(e,t,n){var o=1,r="";return e>=1e3&&e<1e6?(r="K",o=1e3):e>=1e6&&e<1e9?(r="Mil",o=1e6):e>=1e9&&e<1e12?(r="Bil",o=1e9):e>=1e12&&e<1e15?(r="Tri",o=1e12):e>=1e15&&e<1e18&&(r="Qdr",o=1e15),(e/o).toFixed(n)+" "+r},e}(),R=[{label:"none",items:[A.getData(k.None),A.getData(k.Common_Short),A.getData(k.Common_Percent),A.getData(k.Common_Percent01),A.getData(k.Common_Humidity),A.getData(k.Common_Decibel),A.getData(k.Common_Hex0x),A.getData(k.Common_Hex),A.getData(k.Common_SciNotation),A.getData(k.Common_LocaleString)]},{label:"length",items:[A.getData(k.Length_Millimetre),A.getData(k.Length_Meter),A.getData(k.Length_Feet),A.getData(k.Length_Kilometer),A.getData(k.Length_Mile)]},{label:"area",items:[A.getData(k.Area_SquareMeters),A.getData(k.Area_SquareFeet),A.getData(k.Area_SquareMiles)]},{label:"mass",items:[A.getData(k.Mass_Milligram),A.getData(k.Mass_Gram),A.getData(k.Mass_Kilogram),A.getData(k.Mass_MetricTon)]}],F=function(e){function t(t){var n=e.call(this,t)||this;return n.left=!0,n.units=a.cloneDeep(R),n.scales=r.DropDownComponent.wrapEnum(y),n}return h(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this.left?this.axes.leftY:this.axes.rightY},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartAxis",{get:function(){return this.options.scales.yAxes[this.left?0:1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.axis.show},set:function(e){this.axis.show=this.chartAxis.display=e,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unit",{get:function(){return this.axis.unit},set:function(e){this.axis.unit=e,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.axis.scale},set:function(e){this.axis.scale=e,this.chartAxis.type=e==y.Linear?"linear":"logarithmic",this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this.axis.label},set:function(e){this.axis.label=e;var t=this.chartAxis.scaleLabel;e?(t.display=!0,t.labelString=e):(t.display=!1,t.labelString=void 0),this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"decimals",{get:function(){return this.axis.decimals},set:function(e){this.axis.decimals=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.axis.min},set:function(e){this.axis.min=this.chartAxis.ticks.min=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.axis.max},set:function(e){this.axis.max=this.chartAxis.ticks.max=e?+e:void 0,this.refresh()},enumerable:!1,configurable:!0}),t}(b);F.ɵfac=function(e){return new(e||F)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},F.ɵcmp=t.ɵɵdefineComponent({type:F,selectors:[["editor-axis-y"]],inputs:{left:"left"},features:[t.ɵɵInheritDefinitionFeature],decls:11,vars:11,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","6","label","Show",3,"ngModel","ngModelChange"],["label","Unit","width","16","labelWidth","6",3,"valueProperty","ngModel","data","ngModelChange"],["label","Scale","labelWidth","6","width","16",3,"ngModel","data","ngModelChange"],[1,"gf-form-inline"],["type","number","labelWidth","6","label","Y-Min","width","5","placeholder","auto",3,"ngModel","ngModelChange"],["type","number","labelWidth","6","label","Y-Max","width","5","placeholder","auto",3,"ngModel","ngModelChange"],["type","text","labelWidth","6","label","Decimals","width","16","placeholder","auto",3,"ngModel","ngModelChange"],["labelWidth","6","label","Label","width","16",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.show=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-hierarchical-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.unit=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-dropdown",4),t.ɵɵlistener("ngModelChange",(function(e){return n.scale=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",5),t.ɵɵelementStart(7,"ed-textbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.min=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-textbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.max=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-textbox",8),t.ɵɵlistener("ngModelChange",(function(e){return n.decimals=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"ed-textbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.label=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵtextInterpolate(n.left?"Left Y":"Right Y"),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.show),t.ɵɵadvance(1),t.ɵɵproperty("valueProperty","type")("ngModel",n.unit)("data",n.units),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.scale)("data",n.scales),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.min),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.max),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.decimals),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.label))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.HierarchicalDropDownComponent,r.DropDownComponent,r.TextBoxComponent],encapsulation:2});var j=function(e){function t(t){return e.call(this,t)||this}return h(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this.axes.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chartAxis",{get:function(){return this.options.scales.xAxes[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this.axis.show},set:function(e){this.axis.show=this.chartAxis.display=e,this.refresh()},enumerable:!1,configurable:!0}),t}(b);j.ɵfac=function(e){return new(e||j)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},j.ɵcmp=t.ɵɵdefineComponent({type:j,selectors:[["editor-axis-x"]],features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:1,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","6","label","Show",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"X-Axis"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.show=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.show))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel],encapsulation:2});var V=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t}(b);V.ɵfac=function(e){return new(e||V)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},V.ɵcmp=t.ɵɵdefineComponent({type:V,selectors:[["editor-axes"]],features:[t.ɵɵInheritDefinitionFeature],decls:3,vars:1,consts:[[3,"left"]],template:function(e,n){1&e&&(t.ɵɵelement(0,"editor-axis-y"),t.ɵɵelement(1,"editor-axis-y",0),t.ɵɵelement(2,"editor-axis-x")),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("left",!1))},directives:[F,j],encapsulation:2});var W=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t}(b);W.ɵfac=function(e){return new(e||W)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},W.ɵcmp=t.ɵɵdefineComponent({type:W,selectors:[["editor-legend"]],features:[t.ɵɵInheritDefinitionFeature],decls:23,vars:11,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","7","label","Show",3,"ngModel","ngModelChange"],["labelWidth","7","label","As Table",3,"ngModel","ngModelChange"],["labelWidth","7","label","To the right",3,"ngModel","ngModelChange"],[1,"gf-form-inline"],["labelWidth","4","label","Min",3,"ngModel","ngModelChange"],["labelWidth","6","label","Min",3,"ngModel","ngModelChange"],["labelWidth","4","label","Avg",3,"ngModel","ngModelChange"],["labelWidth","6","label","Current",3,"ngModel","ngModelChange"],["labelWidth","4","label","Total",3,"ngModel","ngModelChange"],["type","number","labelWidth","6","label","Decimals","width","4","placeholder","auto",3,"ngModel","ngModelChange"],["labelWidth","10","label","With only nulls",3,"ngModel","ngModelChange"],["labelWidth","10","label","With only zeros",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Options"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-checkbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.show=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-checkbox",3),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.table=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.right=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",0),t.ɵɵelementStart(7,"h5",1),t.ɵɵtext(8,"Values"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",5),t.ɵɵelementStart(10,"ed-checkbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.min=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.max=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"div",5),t.ɵɵelementStart(13,"ed-checkbox",8),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.avg=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(14,"ed-checkbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.current=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(15,"div",5),t.ɵɵelementStart(16,"ed-checkbox",10),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.total=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"ed-textbox",11),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.decimals=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",0),t.ɵɵelementStart(19,"h5",1),t.ɵɵtext(20,"Hide series"),t.ɵɵelementEnd(),t.ɵɵelementStart(21,"ed-checkbox",12),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.hideOnlyNulls=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(22,"ed-checkbox",13),t.ɵɵlistener("ngModelChange",(function(e){return n.legend.hideOnlyZeroes=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("ngModel",n.legend.show),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.table),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.right),t.ɵɵadvance(5),t.ɵɵproperty("ngModel",n.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.max),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.current),t.ɵɵadvance(2),t.ɵɵproperty("ngModel",n.legend.total),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.decimals),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.legend.hideOnlyNulls),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.legend.hideOnlyZeroes))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent],encapsulation:2});var H=function(e){function t(t){var n=e.call(this,t)||this;return n.availableWidth=r.DropDownComponent.wrapArray([0,1,2,3,4,5,6,7,8,9,10]),n.availableTooltipModes=r.DropDownComponent.wrapEnum(x),n.availableTooltipSortOrders=r.DropDownComponent.wrapEnum(C),n.availableNullValueOptions=r.DropDownComponent.wrapEnum(_),n}return h(t,e),Object.defineProperty(t.prototype,"stack",{get:function(){return this.display.stack},set:function(e){this.display.stack=e,this.options.scales.yAxes[0].stacked=e,this.refresh()},enumerable:!1,configurable:!0}),t}(b);function B(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",21),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate(o.value)}}function q(e,n){if(1&e&&t.ɵɵelement(0,"color-circle",22),2&e){var o=t.ɵɵnextContext().$implicit;t.ɵɵproperty("value",o.value)("canBeActive",!1)}}function Y(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",9),t.ɵɵelementStart(1,"div",16),t.ɵɵelementStart(2,"span",17),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=n.$implicit;return t.ɵɵnextContext().onRemoveItem(e)})),t.ɵɵelement(3,"i",18),t.ɵɵelementEnd(),t.ɵɵtext(4),t.ɵɵtemplate(5,B,2,1,"span",19),t.ɵɵtemplate(6,q,1,2,"ng-template",null,20,t.ɵɵtemplateRefExtractor),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵreference(7),l=t.ɵɵnextContext();t.ɵɵadvance(4),t.ɵɵtextInterpolate1(" ",l.getItemHeader(r),": "),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",12!=r.type)("ngIfElse",i)}}H.ɵfac=function(e){return new(e||H)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},H.ɵcmp=t.ɵɵdefineComponent({type:H,selectors:[["editor-draw-options"]],features:[t.ɵɵInheritDefinitionFeature],decls:23,vars:19,consts:[[1,"section","gf-form-group"],[1,"section-heading"],["labelWidth","5","label","Bars"],["labelWidth","5","label","Lines",3,"ngModel","ngModelChange","checked"],["labelWidth","5","label","Points",3,"ngModel","ngModelChange","checked"],["label","Fill","labelWidth","8","width","5",3,"ngModel","data","ngModelChange","selectionChange"],["label","Line Width","labelWidth","8","width","5",3,"ngModel","data","disabled","ngModelChange","selectionChange"],["label","Staircase","labelWidth","8","width","5",3,"ngModel","ngModelChange","checked"],["label","Point Radius","labelWidth","8","width","5",3,"ngModel","data","disabled","ngModelChange","selectionChange"],["label","Mode","labelWidth","9","width","9",3,"data","ngModel","ngModelChange"],["label","Sort Order","labelWidth","9","width","9",3,"data","ngModel","ngModelChange"],["labelWidth","7","label","Stack",3,"ngModel","ngModelChange"],["label","Null Value",3,"ngModel","data","labelWidth","ngModelChange"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5",1),t.ɵɵtext(2,"Draw Modes"),t.ɵɵelementEnd(),t.ɵɵelement(3,"ed-checkbox",2),t.ɵɵelementStart(4,"ed-checkbox",3),t.ɵɵlistener("ngModelChange",(function(e){return n.display.showLines=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.display.showPoints=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"div",0),t.ɵɵelementStart(7,"h5",1),t.ɵɵtext(8,"Mode Options"),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-dropdown",5),t.ɵɵlistener("ngModelChange",(function(e){return n.display.fill=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"ed-dropdown",6),t.ɵɵlistener("ngModelChange",(function(e){return n.display.lineWidth=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.display.staircase=e}))("checked",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"ed-dropdown",8),t.ɵɵlistener("ngModelChange",(function(e){return n.display.pointRadius=e}))("selectionChange",(function(){return n.update()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"div",0),t.ɵɵelementStart(14,"h5",1),t.ɵɵtext(15,"Hover tooltip"),t.ɵɵelementEnd(),t.ɵɵelementStart(16,"ed-dropdown",9),t.ɵɵlistener("ngModelChange",(function(e){return n.display.tooltipMode=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(17,"ed-dropdown",10),t.ɵɵlistener("ngModelChange",(function(e){return n.display.tooltipSortOrder=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(18,"div",0),t.ɵɵelementStart(19,"h5",1),t.ɵɵtext(20,"Stacking & Null value"),t.ɵɵelementEnd(),t.ɵɵelementStart(21,"ed-checkbox",11),t.ɵɵlistener("ngModelChange",(function(e){return n.stack=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(22,"ed-dropdown",12),t.ɵɵlistener("ngModelChange",(function(e){return n.display.nullValue=e})),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.display.showLines),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.showPoints),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.display.fill)("data",n.availableWidth),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.lineWidth)("data",n.availableWidth)("disabled",!n.display.showLines),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.staircase),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.pointRadius)("data",n.availableWidth)("disabled",!n.display.showPoints),t.ɵɵadvance(4),t.ɵɵproperty("data",n.availableTooltipModes)("ngModel",n.display.tooltipMode),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableTooltipSortOrders)("ngModel",n.display.tooltipSortOrder),t.ɵɵadvance(4),t.ɵɵproperty("ngModel",n.stack),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.display.nullValue)("data",n.availableNullValueOptions)("labelWidth",7))},directives:[r.CheckBoxComponent,i.NgControlStatus,i.NgModel,r.DropDownComponent],encapsulation:2});var $=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.cmItems=[],o.items=new Array,o.showColorPicker=!1,o}return h(n,e),n.prototype.ngOnInit=function(){var e=this;this.cmItems=[this.createBoolItem("Lines",O.Lines),this.createNumberItem("Line fill",O.LineFill),this.createNumberItem("Line width",O.LineWidth),this.createBoolItem("Staircase",O.Staircase),this.createBoolItem("Dashes",O.Dashes),this.createNumberItem("Dash length",O.DashLength),this.createNumberItem("Dash space",O.DashSpace),this.createBoolItem("Points",O.Points),this.createNumberItem("Point radius",O.PointRadius,0,5),this.createBoolItem("Stack",O.Stack),this.createColorItem("Color",O.Color),this.createNumberItem("Y-axis",O.YAxis,1,2),this.createNumberItem("Z-index",O.ZIndex,-3,3),this.createBoolItem("Legend",O.Legend),this.createBoolItem("Hide in tooltip",O.HideInTooltip)],r.ContextMenuComponent.wrapItems(this.cmItems,(function(t){return e.onOptionSelected(t.item)})),this.rebuildItems()},n.prototype.rebuildItems=function(){var e=new Array;for(var t in this.override)if("alias"!=t){var n=this.getOverrideType(t);e.push(new L(n,this.override[t]))}this.items=e,this.refresh()},n.prototype.createBoolItem=function(e,t){return{label:e,items:[{label:"true",value:!0,type:t},{label:"false",value:!1,type:t}]}},n.prototype.createNumberItem=function(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=10);for(var r={label:e,items:[]},i=n;i<=o;++i)r.items.push({label:i,value:i,type:t});return r},n.prototype.createColorItem=function(e,t){return{label:e,type:t,items:[{label:"change",type:t}]}},n.prototype.onOptionSelected=function(e){null!=e.type&&(O.Color==e.type?(this.showColorPicker=!0,event.stopPropagation()):(this.override[this.getPropertyName(e)]=e.value,this.rebuildItems()))},n.prototype.onRemoveItem=function(e){delete this.override[this.getPropertyName(e)],this.rebuildItems()},n.prototype.getItemHeader=function(e){return O[e.type].replace(/([a-z0-9])([A-Z])/g,"$1 $2").toLowerCase()},n.prototype.getPropertyName=function(e){return O[e.type].replace(/^\w/,(function(e){return e.toLowerCase()}))},n.prototype.getOverrideType=function(e){return O[e.replace(/^\w/,(function(e){return e.toUpperCase()}))]},n.prototype.onColorSelected=function(e){var t=this.createColorItem("Color",O.Color);this.override[this.getPropertyName(t)]=e,this.rebuildItems()},n}(b);function G(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-series-override",5),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("override",r)("index",i)}}$.ɵfac=function(e){return new(e||$)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},$.ɵcmp=t.ɵɵdefineComponent({type:$,selectors:[["editor-series-override"]],inputs:{override:"override",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:16,vars:5,consts:[[1,"ed-form-inline"],["label","alias or regex","width","15",3,"ngModel","ngModelChange"],["class","gf-form",4,"ngFor","ngForOf"],[1,"gf-form",3,"click"],["menuTarget",""],[1,"gf-form-label","pointer"],[1,"fa","fa-plus"],[1,"gf-form","gf-form--grow"],[1,"gf-form-label","gf-form-label--grow"],[1,"gf-form"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],[3,"visible","anchor","visibleChange"],[3,"selected"],[3,"items"],["cm",""],[1,"gf-form-label"],[3,"click"],[1,"fa","fa-times","mr-2","pointer"],["class","ml-1",4,"ngIf","ngIfElse"],["color",""],[1,"ml-1"],[1,"ml-1",3,"value","canBeActive"]],template:function(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"ed-textbox",1),t.ɵɵlistener("ngModelChange",(function(e){return n.override.alias=e})),t.ɵɵelementEnd(),t.ɵɵtemplate(2,Y,8,3,"div",2),t.ɵɵelementStart(3,"div",3,4),t.ɵɵlistener("click",(function(e){return t.ɵɵrestoreView(o),t.ɵɵreference(15).show(e)})),t.ɵɵelementStart(5,"label",5),t.ɵɵelement(6,"i",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"div",7),t.ɵɵelement(8,"div",8),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",9),t.ɵɵelementStart(10,"label",10),t.ɵɵlistener("click",(function(){return n.removed.emit(n.override)})),t.ɵɵelement(11,"i",11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"ed-popup",12),t.ɵɵlistener("visibleChange",(function(e){return n.showColorPicker=e})),t.ɵɵelementStart(13,"ed-palette-editor",13),t.ɵɵlistener("selected",(function(e){return n.onColorSelected(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(14,"ed-context-menu",14,15)}if(2&e){var r=t.ɵɵreference(4);t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.override.alias),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",n.items),t.ɵɵadvance(10),t.ɵɵproperty("visible",n.showColorPicker)("anchor",r),t.ɵɵadvance(2),t.ɵɵproperty("items",n.cmItems)}},directives:[r.TextBoxComponent,i.NgControlStatus,i.NgModel,o.NgForOf,r.PopupComponent,r.PaletteEditorComponent,r.ContextMenuComponent,o.NgIf,r.ColorCircleComponent],encapsulation:2});var K=function(e){function t(t){var n=e.call(this,t)||this;return console.log(n.overrides),n}return h(t,e),t.prototype.onAdd=function(){this.overrides.push(new T)},t.prototype.onRemove=function(e){var t=this.overrides.indexOf(e);-1!==t&&this.overrides.splice(t,1),this.refresh()},t}(b);function X(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",12),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().threshold.fillColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.threshold.fillColor)}}function z(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",13),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().threshold.lineColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.threshold.lineColor)}}K.ɵfac=function(e){return new(e||K)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},K.ɵcmp=t.ɵɵdefineComponent({type:K,selectors:[["editor-series-overrides"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],[3,"override","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],[1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"override","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Series specific overrides "),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div"),t.ɵɵtemplate(4,G,1,2,"editor-series-override",1),t.ɵɵelementStart(5,"div",2),t.ɵɵelementStart(6,"button",3),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",4),t.ɵɵtext(8," Add Override "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.overrides))},directives:[o.NgForOf,$],encapsulation:2});var Z=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.availableOperatorValues=r.DropDownComponent.wrapEnum(w),o.availableColorValues=r.DropDownComponent.wrapEnum(S),o.availableAxisValues=r.DropDownComponent.wrapEnum(M),o}return h(n,e),Object.defineProperty(n.prototype,"value",{get:function(){return this.threshold.value},set:function(e){var t=+e;this.threshold.value=isNaN(t)||!e?void 0:t,console.log(this.threshold)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomColors",{get:function(){return S.Custom==this.threshold.colorType},enumerable:!1,configurable:!0}),n}(b);function U(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-threshold",6),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("threshold",r)("index",i)}}Z.ɵfac=function(e){return new(e||Z)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},Z.ɵcmp=t.ɵɵdefineComponent({type:Z,selectors:[["editor-threshold"]],inputs:{threshold:"threshold",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:13,vars:12,consts:[[1,"ed-form-inline"],["width","6",3,"data","ngModel","label","ngModelChange","selectionChange"],["placeholder","value","type","number","width","8",3,"ngModel","ngModelChange","changed"],["label","Color",3,"data","ngModel","ngModelChange","selectionChange"],["label","Fill",3,"ngModel","ngModelChange","checked"],["label","Fill color",3,"ngModel","ngModelChange","selected",4,"ngIf"],["label","Line",3,"ngModel","ngModelChange","checked"],["label","Line color",3,"ngModel","ngModelChange","selected",4,"ngIf"],["label","Y-Axis",3,"data","ngModel","ngModelChange"],[1,"gf-form"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],["label","Fill color",3,"ngModel","ngModelChange","selected"],["label","Line color",3,"ngModel","ngModelChange","selected"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"ed-dropdown",1),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.operator=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"ed-textbox",2),t.ɵɵlistener("ngModelChange",(function(e){return n.value=e}))("changed",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.colorType=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-checkbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.fill=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(5,X,1,1,"ed-color-picker",5),t.ɵɵelementStart(6,"ed-checkbox",6),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.line=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(7,z,1,1,"ed-color-picker",7),t.ɵɵelementStart(8,"ed-dropdown",8),t.ɵɵlistener("ngModelChange",(function(e){return n.threshold.axis=e})),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"div",9),t.ɵɵelementStart(10,"label",10),t.ɵɵlistener("click",(function(){return n.removed.emit(n.threshold)})),t.ɵɵelementStart(11,"a"),t.ɵɵelement(12,"i",11),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵpropertyInterpolate1("label","T",n.index+1,""),t.ɵɵproperty("data",n.availableOperatorValues)("ngModel",n.threshold.operator),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.value),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableColorValues)("ngModel",n.threshold.colorType),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.fill),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomColors),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.threshold.line),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomColors),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableAxisValues)("ngModel",n.threshold.axis))},directives:[r.DropDownComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent,r.CheckBoxComponent,o.NgIf,r.ColorPickerComponent],encapsulation:2});var Q=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.onAdd=function(){this.thresholds.push(new E)},t.prototype.onRemove=function(e){var t=this.thresholds.indexOf(e);-1!==t&&this.thresholds.splice(t,1),this.refresh()},t}(b);function J(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",13),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().timeRegion.fillColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.timeRegion.fillColor)}}function ee(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"ed-color-picker",14),t.ɵɵlistener("ngModelChange",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().timeRegion.lineColor=e}))("selected",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().refresh()})),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("ngModel",r.timeRegion.lineColor)}}Q.ɵfac=function(e){return new(e||Q)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},Q.ɵcmp=t.ɵɵdefineComponent({type:Q,selectors:[["editor-thresholds"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],["ng-class","{'thresholds-form-disabled': ctrl.disabled}"],[3,"threshold","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],["ng-disabled","ctrl.disabled",1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"threshold","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Thresholds"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",1),t.ɵɵtemplate(4,U,1,2,"editor-threshold",2),t.ɵɵelementStart(5,"div",3),t.ɵɵelementStart(6,"button",4),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",5),t.ɵɵtext(8," Add Threshold "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.thresholds))},directives:[o.NgForOf,Z],encapsulation:2});var te=function(e){function n(n){var o=e.call(this,n)||this;return o.removed=new t.EventEmitter,o.availableColors=r.DropDownComponent.wrapEnum(I),o.availableDays=r.DropDownComponent.wrapEnum(D),o}return h(n,e),Object.defineProperty(n.prototype,"showCustomColors",{get:function(){return I.Custom==this.timeRegion.colorType},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomFillColor",{get:function(){return this.showCustomColors&&this.timeRegion.fill},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showCustomLineColor",{get:function(){return this.showCustomColors&&this.timeRegion.line},enumerable:!1,configurable:!0}),n.prototype.ngOnInit=function(){this.fromTime=this.timeRegion.fromTime,this.toTime=this.timeRegion.toTime},n}(b);function ne(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"editor-time-region",6),t.ɵɵlistener("removed",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().onRemove(e)})),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=n.index;t.ɵɵproperty("timeRegion",r)("index",i)}}te.ɵfac=function(e){return new(e||te)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},te.ɵcmp=t.ɵɵdefineComponent({type:te,selectors:[["editor-time-region"]],inputs:{timeRegion:"timeRegion",index:"index"},outputs:{removed:"removed"},features:[t.ɵɵInheritDefinitionFeature],decls:17,vars:13,consts:[[1,"ed-form-inline"],[1,"gf-form"],[1,"gf-form-label"],["label","From",3,"data","ngModel","ngModelChange","selectionChange"],["placeholder","hh:mm","width","8",3,"ngModel","ngModelChange","focusout"],["label","To",3,"data","ngModel","ngModelChange","selectionChange"],["label","Color",3,"data","ngModel","ngModelChange","selectionChange"],["label","Fill",3,"ngModel","ngModelChange","checked"],["label","Fill color",3,"ngModel","ngModelChange","selected",4,"ngIf"],["label","Line",3,"ngModel","ngModelChange","checked"],["label","Line color",3,"ngModel","ngModelChange","selected",4,"ngIf"],[1,"gf-form-label","pointer",3,"click"],[1,"fa","fa-trash"],["label","Fill color",3,"ngModel","ngModelChange","selected"],["label","Line color",3,"ngModel","ngModelChange","selected"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"label",2),t.ɵɵtext(3),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"ed-dropdown",3),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.fromDay=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-textbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.fromTime=e}))("focusout",(function(){return n.timeRegion.fromTime=n.fromTime,n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-dropdown",5),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.toDay=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"ed-textbox",4),t.ɵɵlistener("ngModelChange",(function(e){return n.toTime=e}))("focusout",(function(){return n.timeRegion.toTime=n.toTime,n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"ed-dropdown",6),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.colorType=e}))("selectionChange",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-checkbox",7),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.fill=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(10,J,1,1,"ed-color-picker",8),t.ɵɵelementStart(11,"ed-checkbox",9),t.ɵɵlistener("ngModelChange",(function(e){return n.timeRegion.line=e}))("checked",(function(){return n.refresh()})),t.ɵɵelementEnd(),t.ɵɵtemplate(12,ee,1,1,"ed-color-picker",10),t.ɵɵelementStart(13,"div",1),t.ɵɵelementStart(14,"label",11),t.ɵɵlistener("click",(function(){return n.removed.emit(n.timeRegion)})),t.ɵɵelementStart(15,"a"),t.ɵɵelement(16,"i",12),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵtextInterpolate1("T",n.index+1,""),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableDays)("ngModel",n.timeRegion.fromDay),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.fromTime),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableDays)("ngModel",n.timeRegion.toDay),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.toTime),t.ɵɵadvance(1),t.ɵɵproperty("data",n.availableColors)("ngModel",n.timeRegion.colorType),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.timeRegion.fill),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomFillColor),t.ɵɵadvance(1),t.ɵɵproperty("ngModel",n.timeRegion.line),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.showCustomLineColor))},directives:[r.DropDownComponent,i.NgControlStatus,i.NgModel,r.TextBoxComponent,r.CheckBoxComponent,o.NgIf,r.ColorPickerComponent],encapsulation:2});var oe=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.onAdd=function(){this.timeRegions.push(new P)},t.prototype.onRemove=function(e){var t=this.timeRegions.indexOf(e);-1!==t&&this.timeRegions.splice(t,1),this.refresh()},t}(b);function re(e,n){1&e&&t.ɵɵelement(0,"editor-draw-options")}function ie(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",o.overrides.length,")")}}function le(e,n){if(1&e&&(t.ɵɵtext(0," Series overrides"),t.ɵɵtemplate(1,ie,2,1,"span",4)),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.overrides.length)}}function ae(e,n){1&e&&t.ɵɵelement(0,"editor-series-overrides")}function se(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",o.thresholds.length,")")}}function de(e,n){if(1&e&&(t.ɵɵtext(0," Thresholds"),t.ɵɵtemplate(1,se,2,1,"span",4)),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.thresholds.length)}}function ce(e,n){1&e&&t.ɵɵelement(0,"editor-thresholds")}function ue(e,n){if(1&e&&(t.ɵɵelementStart(0,"span",5),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵtextInterpolate1("(",o.timeRegions.length,")")}}function pe(e,n){if(1&e&&(t.ɵɵtext(0," Time regions"),t.ɵɵtemplate(1,ue,2,1,"span",4)),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.timeRegions.length)}}function me(e,n){1&e&&t.ɵɵelement(0,"editor-time-regions")}oe.ɵfac=function(e){return new(e||oe)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},oe.ɵcmp=t.ɵɵdefineComponent({type:oe,selectors:[["editor-time-regions"]],features:[t.ɵɵInheritDefinitionFeature],decls:9,vars:1,consts:[[1,"gf-form-group"],["ng-class","{'thresholds-form-disabled': ctrl.disabled}"],[3,"timeRegion","index","removed",4,"ngFor","ngForOf"],[1,"gf-form-button-row"],["ng-disabled","ctrl.disabled",1,"btn","btn-inverse",3,"click"],[1,"fa","fa-plus"],[3,"timeRegion","index","removed"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"h5"),t.ɵɵtext(2,"Time regions"),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"div",1),t.ɵɵtemplate(4,ne,1,2,"editor-time-region",2),t.ɵɵelementStart(5,"div",3),t.ɵɵelementStart(6,"button",4),t.ɵɵlistener("click",(function(){return n.onAdd()})),t.ɵɵelement(7,"i",5),t.ɵɵtext(8," Add Time Region "),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(4),t.ɵɵproperty("ngForOf",n.timeRegions))},directives:[o.NgForOf,te],encapsulation:2});var ge=function(e){function t(t){var n=e.call(this,t)||this;return n.index=1,n}return h(t,e),t}(b);function he(e,n){1&e&&t.ɵɵelement(0,"editor-general")}function fe(e,n){1&e&&t.ɵɵelement(0,"editor-metrics")}function ve(e,n){1&e&&t.ɵɵelement(0,"editor-axes")}function ye(e,n){1&e&&t.ɵɵelement(0,"editor-legend")}function be(e,n){1&e&&t.ɵɵelement(0,"editor-display")}function xe(e,n){1&e&&t.ɵɵtext(0," alert will be here ")}function Ce(e,n){1&e&&t.ɵɵtext(0," time range will be here ")}ge.ɵfac=function(e){return new(e||ge)(t.ɵɵdirectiveInject(l.PANEL_TOKEN))},ge.ɵcmp=t.ɵɵdefineComponent({type:ge,selectors:[["editor-display"]],features:[t.ɵɵInheritDefinitionFeature],decls:12,vars:1,consts:[[3,"ngModel","ngModelChange"],["header","Draw options"],["edTabContent",""],["edTabTitle",""],["class","muted ml-1",4,"ngIf"],[1,"muted","ml-1"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ed-side-tabstrip",0),t.ɵɵlistener("ngModelChange",(function(e){return n.index=e})),t.ɵɵelementStart(1,"ed-tab",1),t.ɵɵtemplate(2,re,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab"),t.ɵɵtemplate(4,le,2,1,"ng-template",3),t.ɵɵtemplate(5,ae,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"ed-tab"),t.ɵɵtemplate(7,de,2,1,"ng-template",3),t.ɵɵtemplate(8,ce,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-tab"),t.ɵɵtemplate(10,pe,2,1,"ng-template",3),t.ɵɵtemplate(11,me,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngModel",n.index)},directives:[r.SideTabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,r.TabTitleTemplate,H,o.NgIf,K,Q,oe],encapsulation:2});var _e=function(){function e(e,t,n){var o=this;this.router=e,this.activatedRoute=t,this.location=n,this.index=0,this.activatedRoute.queryParamMap.subscribe((function(e){var t=e.get("tab");Number.isInteger(+t)&&(o.index=+t)}))}return e.prototype.onTabSelected=function(e){var t=this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{tab:e},queryParamsHandling:"merge"}).toString();this.location.go(t)},e}();_e.ɵfac=function(e){return new(e||_e)(t.ɵɵdirectiveInject(n.Router),t.ɵɵdirectiveInject(n.ActivatedRoute),t.ɵɵdirectiveInject(o.Location))},_e.ɵcmp=t.ɵɵdefineComponent({type:_e,selectors:[["widget-editor"]],decls:15,vars:1,consts:[["header","Graph",3,"ngModel","ngModelChange","selected"],["header","General"],["edTabContent",""],["header","Metrics"],["header","Axes"],["header","Legend"],["header","Display"],["header","Alert"],["header","Time range"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"ed-tabstrip",0),t.ɵɵlistener("ngModelChange",(function(e){return n.index=e}))("selected",(function(e){return n.onTabSelected(e)})),t.ɵɵelementStart(1,"ed-tab",1),t.ɵɵtemplate(2,he,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"ed-tab",3),t.ɵɵtemplate(4,fe,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"ed-tab",4),t.ɵɵtemplate(6,ve,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"ed-tab",5),t.ɵɵtemplate(8,ye,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"ed-tab",6),t.ɵɵtemplate(10,be,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(11,"ed-tab",7),t.ɵɵtemplate(12,xe,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"ed-tab",8),t.ɵɵtemplate(14,Ce,1,0,"ng-template",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&t.ɵɵproperty("ngModel",n.index)},directives:[r.TabStripComponent,i.NgControlStatus,i.NgModel,r.TabComponent,r.TabContentTemplate,p,m,V,W,ge],encapsulation:2});var we=function(){function e(e){this.panel=e}return Object.defineProperty(e.prototype,"display",{get:function(){return this.panel.widget.display},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.panel.widget.component.control.chart.options},enumerable:!1,configurable:!0}),e.prototype.setup=function(e){this.setupLines(e),this.setupPoints(e),this.setupNullValue(e)},e.prototype.setupLines=function(e){var t=this.getShowLines(e),n=this.getLineWidth(e),o=this.getFill(e),r=o/10;if(e.fill=o>0,e.backgroundColor=this.getLineColor(e,r),r=t&&n?1:0,e.borderColor=this.getLineColor(e,r),e.borderWidth=n,e.steppedLine=this.getStaircase(e),this.getDashes(e)){var i=this.getDashLength(e),l=this.getDashSpace(e);e.borderDash=[i,l]}else e.borderDash=void 0;e.order=this.getZIndex(e),e.legend=this.getLegend(e)},e.prototype.setupPoints=function(e){var t=this.getShowPoints(e),n=t?1:0,o=this.getLineColor(e,n);e.pointBorderColor=""+o,e.pointBackgroundColor=""+o,e.pointRadius=t?this.getPointRadius(e):0},e.prototype.setupNullValue=function(e){switch(this.display.nullValue){case _.Connected:this.options.spanGaps=!0,e.data.forEach((function(e){return e.y=e.isNull?null:e.y}));break;case _.Null:this.options.spanGaps=!1,e.data.forEach((function(e){return e.y=e.isNull?null:e.y}));break;case _.NullAsZero:this.options.spanGaps=!1,e.data.forEach((function(e){return e.y=e.isNull?0:e.y}))}},e.prototype.setupOverrides=function(){},e.prototype.getShowLines=function(e){var t=this.getOverride(e);return t&&null!=t.lines?t.lines:this.display.showLines},e.prototype.getLineWidth=function(e){var t=this.getOverride(e);return t&&null!=t.lineWidth?t.lineWidth:this.display.lineWidth},e.prototype.getLineColor=function(e,t){var n,o=this.getOverride(e),i=r.ColorHelper.colors[e.index%r.ColorHelper.colors.length],l=r.ColorHelper.hexToRgbString(i,t),a=o&&null!=o.color;return a&&(n=r.ColorHelper.hexToRgbString(o.color,t)),a?n:l},e.prototype.getFill=function(e){var t=this.getOverride(e);return t&&null!=t.lineFill?t.lineFill:this.display.fill},e.prototype.getStaircase=function(e){var t=this.getOverride(e);return t&&null!=t.staircase?t.staircase:this.display.staircase},e.prototype.getDashes=function(e){var t=this.getOverride(e);return!(!t||null==t.dashes)&&t.dashes},e.prototype.getDashLength=function(e){var t=this.getOverride(e);return t&&null!=t.dashLength?t.dashLength:1},e.prototype.getDashSpace=function(e){var t=this.getOverride(e);return t&&null!=t.dashSpace?t.dashSpace:1},e.prototype.getShowPoints=function(e){var t=this.getOverride(e);return t&&null!=t.points?t.points:this.display.showPoints},e.prototype.getPointRadius=function(e){var t=this.getOverride(e);return t&&null!=t.pointRadius?t.pointRadius:this.display.pointRadius},e.prototype.getLegend=function(e){var t=this.getOverride(e);return!t||null==t.legend||t.legend},e.prototype.getZIndex=function(e){var t=this.getOverride(e);return t&&null!=t.zIndex?t.zIndex:0},e.prototype.getYAxis=function(e){var t=this.getOverride(e);return t&&null!=t.yAxis?t.yAxis:1},e.prototype.getOverride=function(e){return this.display.overrides.find((function(t){return t.alias&&new RegExp(t.alias).test(e.label)}))},e}();we.ɵfac=function(e){return new(e||we)(t.ɵɵinject(l.PANEL_TOKEN))},we.ɵprov=t.ɵɵdefineInjectable({token:we,factory:we.ɵfac});var Se=function(){function e(e){this.dispay=e}return e.prototype.toDataSets=function(e){var t=this;if(!e||0===e.length)return[];var n=[],o=0;return e.forEach((function(e){var r=v(e.columns.slice(1).map((function(n,r){return t.toDataSet(e,r+1,o++)}))).filter((function(e){return e}));(n=v(n,r)).forEach((function(e){return t.dispay.setup(e)}))})),n},e.prototype.toDataSet=function(e,t,n){var o=e.values.map((function(e){var n=null==e[t];return{x:l.Moment.valueOf(e[0]),y:e[t],isNull:n}})),r=o.map((function(e){return e.y})).filter((function(e){return null!=e})).map((function(e){return parseFloat(e)}));if(0!=r.length){var i=r.reduce((function(e,t){return e+t}))/r.length,a=r.every((function(e){return null==e})),s=r.every((function(e){return 0==e}));return{label:this.generateDataSetName(e,t),data:o,lineTension:0,min:Math.min.apply(Math,v(r)),max:Math.max.apply(Math,v(r)),avg:i,current:r.slice(-1)[0],allNulls:a,allZeros:s,index:n,pointRadius:0,borderColor:"#ff0000"}}},e.prototype.generateDataSetName=function(e,t){var n=e.name+"."+e.columns[t],o="",r=(Object.keys(e.tags),0);for(var i in e.tags)o+=(r>0?", ":"")+i+": "+e.tags[i],r++;return o&&(n=n+" {"+o+"}"),n},e}();Se.ɵfac=function(e){return new(e||Se)(t.ɵɵinject(we))},Se.ɵprov=t.ɵɵdefineInjectable({token:Se,factory:Se.ɵfac});var Me=function(){function e(e,n,o,r,i){var l=this;this.pluginActivator=e,this.dsService=n,this.converter=o,this.time=r,this.panel=i,this.data$=new t.EventEmitter,this.timeSubs=this.time.range$.pipe(c.tap((function(e){return l.request=""})),c.mergeMap((function(e){return l.pluginActivator.createDataSourceMetricsBuilder(i)})),c.mergeMap((function(e){return e.build(l.metrics,r.range)}))).subscribe((function(e){return l.pull(e)}))}return Object.defineProperty(e.prototype,"metrics",{get:function(){var e,t;return null===(t=null===(e=this.panel)||void 0===e?void 0:e.widget)||void 0===t?void 0:t.metrics},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){var e;null===(e=this.timeSubs)||void 0===e||e.unsubscribe()},e.prototype.pull=function(e){var t=this;this.request!==e&&(this.request=e,console.log("pull: "+e),e?(this.panel.loading=!0,this.dsService.proxy(6,e).pipe(c.finalize((function(){return t.panel.loading=!1}))).subscribe((function(e){return t.onData(e)}),(function(e){return t.onError(e.error)}))):this.onData([]))},e.prototype.onData=function(e){this.data$.emit({datasets:this.converter.toDataSets(e)})},e.prototype.onError=function(e){},e}();Me.ɵfac=function(e){return new(e||Me)(t.ɵɵinject(l.PluginActivator),t.ɵɵinject(l.DataSourceService),t.ɵɵinject(Se),t.ɵɵinject(l.TimeRangeStore),t.ɵɵinject(l.PANEL_TOKEN))},Me.ɵprov=t.ɵɵdefineInjectable({token:Me,factory:Me.ɵfac});var Ee=function(){function e(e,t){this.model=e,this.component=t,this.ID="chartjs-tooltip",this.TOOLTIP_SELECTOR="ed-tooltip"}return e.build=function(t){return Chart.Tooltip.positioners.custom=function(e,t){return{x:t.x,y:t.y}},{mode:"index",position:"custom",axis:"x",intersect:!1,caretSize:0,xPadding:10,bodySpacing:5,titleAlign:"right",enabled:!1,custom:function(n){return new e(n,t).create()}}},Object.defineProperty(e.prototype,"root",{get:function(){var e=document.getElementById(this.ID);return e||((e=document.createElement("div")).id=this.ID,e.innerHTML="<div class='graph-tooltip grafana-tooltip "+this.TOOLTIP_SELECTOR+"'></div>",document.body.appendChild(e)),e},enumerable:!1,configurable:!0}),e.prototype.create=function(){var e=this.root;0!==this.model.opacity?(e.classList.remove("above","below","no-transform"),this.model.yAlign?e.classList.add(this.model.yAlign):e.classList.add("no-transform"),this.model.body&&this.createBody(),this.setPosition()):e.style.opacity="0"},e.prototype.setPosition=function(){var e=this.root,t=this.component.control.chart.canvas.getBoundingClientRect(),n=document.getElementsByClassName(this.TOOLTIP_SELECTOR)[0].getBoundingClientRect().width,o=this.model.caretX+n>t.width?n+2*this.model.xPadding:0;e.style.opacity="1",e.style.position="absolute",e.style.left=t.left+window.pageXOffset+this.model.caretX-o+"px",e.style.top=t.top+window.pageYOffset+this.model.caretY+"px",e.style.fontFamily=this.model._bodyFontFamily,e.style.padding=this.model.yPadding+"px "+this.model.xPadding+"px",e.style.pointerEvents="none"},e.prototype.createBody=function(){var e=this.root,t=this.component,n=this.component.store.panel.widget,o=this.model.title||[],r="";o.forEach((function(e){var t=Date.parse(e),n=l.Moment.format(t);r+='<div class="graph-tooltip-time">'+n+"</div>"})),this.sort().forEach((function(e,o){var i=e.seriesName,l=e.value,a='\n\t\t\t\t<div class="graph-tooltip-series-name">\n\t\t\t\t\t<i class="fa fa-minus" style="color:'+e.color+';"></i> '+i+":\n\t\t\t\t</div>",s=(t.data.datasets.find((function(e){return e.label==i})),n.axes.leftY),d=n.legend.decimals?n.legend.decimals:1,c=A.getFormattedValue(l,s.unit,d);r+='\n\t\t\t\t<div class="graph-tooltip-list-item">\n\t\t\t\t\t'+a+"\n\t\t\t\t\t"+('<div class="graph-tooltip-value ">'+c+"</div>")+"\n\t\t\t\t</div>"})),e.querySelector("."+this.TOOLTIP_SELECTOR).innerHTML=r},e.prototype.sort=function(){var e=this;var t=this.model.body.map((function(e){return e.lines})),n=this.component.widget.display.tooltipSortOrder,o=[];switch(t.forEach((function(t,n){var i=e.model.labelColors[n],l=r.ColorHelper.hexToRgbString(i.backgroundColor),a=t[0].lastIndexOf(":"),s=t[0].substring(0,a),d=parseFloat(e.model.dataPoints[n].value);o.push({seriesName:s,value:d,color:l})})),n){case C.Increasing:o.sort((function(e,t){return e.value-t.value}));break;case C.Decreasing:o.sort((function(e,t){return t.value-e.value}))}return o},e}(),Ie=function(){function e(){}return e.getOptions=function(e){Chart.defaults.global.defaultFontColor="#e3e3e3",Chart.defaults.global.defaultFontFamily="Roboto",Chart.defaults.global.defaultFontSize=11;var t=e.widget;return{maintainAspectRatio:!1,animation:!1,tooltips:Ee.build(e),legend:{display:!1},spanGaps:!0,scales:{xAxes:[this.getAxisX(t)],yAxes:[this.getAxisY(t,!0),this.getAxisY(t,!1)]
/*!AxesManager.needSecondaryYAxis(widget) true ? [axisYa] : [axisYa, axisYb]				*/}}},e.getAxisX=function(e){return{id:this.AXIS_X,type:"time",gridLines:{color:"rgba( 255,255,255, 0.1)"},ticks:{autoSkip:!0,autoSkipPadding:50,maxRotation:0,minRotation:0},time:{displayFormats:{second:"HH:mm:ss",minute:"HH:mm",hour:"HH:mm",day:"M/D HH:mm",week:"M/D",month:"M/D",year:"YYYY-M"}},display:e.axes.x.show}},e.getAxisY=function(e,t){var n=t?e.axes.leftY:e.axes.rightY;return{id:t?this.AXIS_Y_LEFT:this.AXIS_Y_RIGHT,display:n.show,type:n.scale&&n.scale!=y.Linear?"logarithmic":"linear",gridLines:{color:"rgba( 255,255,255, 0.1)",zeroLineWidth:3},position:t?"left":"right",scaleLabel:{display:n.label,labelString:n.label},ticks:{min:n.min,max:n.max,userCallback:function(e,t,o){if(!(o.length>8)||t%2)return A.getFormattedValue(e,n.unit,n.decimals)}},stacked:e.display.stack}},e}();Ie.AXIS_X="xAxis",Ie.AXIS_Y_LEFT="yAxisL",Ie.AXIS_Y_RIGHT="yAxisR";var De=function(){function e(e,t,n){var o=this;this.dataProvider=e,this.display=t,this.panel=n,this.widget=new u.BehaviorSubject(null),this.widget$=this.widget.asObservable(),this.data=new u.BehaviorSubject(null),this.data$=this.data.asObservable(),e.data$.subscribe((function(e){var t;return o.data.next(null!==(t=null==e?void 0:e.datasets)&&void 0!==t?t:[])})),this.widget.next(n.widget)}return e.prototype.destroy=function(){this.dataProvider.destroy(),this.widget.value.component=void 0},e}();De.ɵfac=function(e){return new(e||De)(t.ɵɵinject(Me),t.ɵɵinject(we),t.ɵɵinject(l.PANEL_TOKEN))},De.ɵprov=t.ɵɵdefineInjectable({token:De,factory:De.ɵfac});var Pe=function(){function e(e){var t=this;this.store=e,this.dataSubs=e.data$.subscribe((function(e){return t.data={datasets:e}})),this.widgetSubs=e.widget$.subscribe((function(e){t.widget=e,e&&t.onWidgetReady()}))}return Object.defineProperty(e.prototype,"datasets",{get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.datasets},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.widget.component},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"display",{get:function(){return this.store.display},enumerable:!1,configurable:!0}),e.prototype.onWidgetReady=function(){},e.prototype.ngOnDestroy=function(){var e,t;null===(e=this.dataSubs)||void 0===e||e.unsubscribe(),null===(t=this.widgetSubs)||void 0===t||t.unsubscribe()},e}();Pe.ɵfac=function(e){return new(e||Pe)(t.ɵɵdirectiveInject(De))},Pe.ɵdir=t.ɵɵdefineDirective({type:Pe});var Oe=function(){function e(e){var t=this;this.store=e,this.widgetSubs=e.widget$.subscribe((function(e){return t.widget=e}))}return e.prototype.destroy=function(){var e;null===(e=this.widgetSubs)||void 0===e||e.unsubscribe()},e}();Oe.ɵfac=function(e){return new(e||Oe)(t.ɵɵdirectiveInject(De))},Oe.ɵdir=t.ɵɵdefineDirective({type:Oe});var ke=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.afterDatasetsDraw=function(e,t){var n,o;null===(o=null===(n=this.widget)||void 0===n?void 0:n.display)||void 0===o||o.thresholds.forEach((function(t){return new Te(e,t).draw()}))},t}(Oe);ke.ɵfac=function(e){return new(e||ke)(t.ɵɵinject(De))},ke.ɵprov=t.ɵɵdefineInjectable({token:ke,factory:ke.ɵfac});var Te=function(){function e(e,t){this.chart=e,this.threshold=t}return Object.defineProperty(e.prototype,"context",{get:function(){return this.chart.chart.ctx},enumerable:!1,configurable:!0}),e.prototype.draw=function(){if(null!=this.threshold.value){var e=this.chart.scales[Ie.AXIS_Y_LEFT],t=this.chart.scales[Ie.AXIS_Y_RIGHT],n=this.chart.scales[Ie.AXIS_X],o=this.threshold.axis==M.Right&&t?t:e,r=o.getPixelForValue(this.threshold.value),i=this.threshold.operator==w.Gt;if(!(!i&&this.threshold.value<o.min||i&&this.threshold.value>o.max||!this.chart.data.datasets.length)){if(this.threshold.line){var l=this.getColor(!1);this.renderLine(n,l,r)}this.threshold.fill&&this.renderRectangle(n,o,r)}}},e.prototype.renderLine=function(e,t,n){this.context.beginPath(),this.context.strokeStyle=t+"99",this.context.lineWidth=2,this.context.moveTo(e.left,n),this.context.lineTo(e.right,n),this.context.stroke()},e.prototype.renderRectangle=function(e,t,n){var o=this.getColor(!0),r=this.threshold.operator==w.Gt;this.context.fillStyle=o+"22";var i=e.left,l=e.width,a=t.getPixelForValue(t.max),s=t.getPixelForValue(t.min),d=r?a:Math.max(a,n),c=r?n-t.top:t.bottom-n;c=Math.min(s-a,c),this.context.fillRect(i,d,l,c)},e.prototype.getColor=function(e){switch(this.threshold.colorType){case S.Critical:return"#ED2E18";case S.Ok:return"#10a345";case S.Warning:return"#f79520"}var t="#ffffff";return e?this.threshold.fillColor?this.threshold.fillColor:t:this.threshold.lineColor?this.threshold.lineColor:t},e}(),Le=(function(){function e(){}e.alignPixel=function(e,t,n){var o=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*o)/o+r}}(),function(){function e(e){this.store=e}return e.prototype.afterDatasetsDraw=function(e,t){},e.prototype.getMousePos=function(e,t){if(t){var n=e.getBoundingClientRect();return{x:t.clientX-n.left,y:t.clientY-n.top}}},e}());Le.ɵfac=function(e){return new(e||Le)(t.ɵɵinject(De))},Le.ɵprov=t.ɵɵdefineInjectable({token:Le,factory:Le.ɵfac});var Ne=function(e){function t(t){return e.call(this,t)||this}return h(t,e),t.prototype.afterDatasetsDraw=function(e,t){var n,o;null===(o=null===(n=this.widget)||void 0===n?void 0:n.display)||void 0===o||o.timeRegions.forEach((function(t){return new Ae(e,t).draw()}))},t}(Oe);Ne.ɵfac=function(e){return new(e||Ne)(t.ɵɵinject(De))},Ne.ɵprov=t.ɵɵdefineInjectable({token:Ne,factory:Ne.ɵfac});var Ae=function(){function e(e,t){this.chart=e,this.timeRegion=t}return Object.defineProperty(e.prototype,"context",{get:function(){return this.chart.chart.ctx},enumerable:!1,configurable:!0}),e.prototype.draw=function(){var e=this,t=this.chart.scales[Ie.AXIS_X],n=l.Moment.create(t.min),o=l.Moment.create(t.max);this.getSpans(n,o).forEach((function(n){var o=t.getPixelForValue(n.start.toDate()),r=t.getPixelForValue(n.end.toDate());r<t.left||o>t.right||(o=Math.max(o,t.left),r=Math.min(r,t.right),e.renderRegion(o,r))}))},e.prototype.getSpans=function(e,t){var n=this.getSpanBorders(e,t),o=this.getTime();return this.isSpecificDayOfWeek()?this.getSpansDayOfWeek(n,o):this.getSpansAny(n,o)},e.prototype.getTime=function(){var e=this.isSpecificDayOfWeek(),t=this.timeRegion.fromTime,n=this.timeRegion.toTime,o="HH:mm",r=l.Moment.create(t,o),i=l.Moment.create(n,o);if(r.isValid()||i.isValid())r.isValid()&&!i.isValid()?i=r.clone():!r.isValid()&&i.isValid()&&(r=i.clone());else if(e){var a=l.Moment.create("00:00",o);r=a.clone(),i=a.clone()}return{from:r.isValid()?r.toDate():void 0,to:i.isValid()?i.toDate():void 0}},e.prototype.getSpansDayOfWeek=function(e,t){for(var n=e.to,o=e.from.clone(),r=[],i=this.timeRegion.fromDay,l=this.timeRegion.toDay;o<n;){var a=o.clone().day(i),s=a.clone().day(l);s.isBefore(a)&&s.add(1,"weeks"),a.set({hour:t.from.getHours(),minute:t.from.getMinutes()}),s.set({hour:t.to.getHours(),minute:t.to.getMinutes()}),r.push({start:a,end:s}),o.add(1,"weeks")}return r},e.prototype.getSpansAny=function(e,t){var n=e.to,o=e.from.clone(),r=[];if(!t.from&&!t.to)return r;for(;o<n;){var i=o.clone().set({hour:t.from.getHours(),minute:t.from.getMinutes()}),l=o.clone().set({hour:t.to.getHours(),minute:t.to.getMinutes()});l.isBefore(i)&&l.add(1,"days"),r.push({start:i,end:l}),o.add(1,"days")}return r},e.prototype.getSpanBorders=function(e,t){var n=this.isSpecificDayOfWeek()?8:1;return{from:e.clone().subtract(n,"days").startOf("day"),to:t.clone().add(n,"days").endOf("day")}},e.prototype.isSpecificDayOfWeek=function(){return this.timeRegion.fromDay!=D.Any||this.timeRegion.toDay!=D.Any},e.prototype.renderRegion=function(e,t){var n=this.chart.scales[Ie.AXIS_Y_LEFT],o=this.chart.scales[Ie.AXIS_X],r=n.top,i=n.bottom;this.timeRegion.line&&(o.left!=e&&this.renderLine(r,i,e),o.right!=t&&t!=e&&this.renderLine(r,i,t)),this.timeRegion.fill&&t!=e&&this.renderRectangle(r,i,e,t)},e.prototype.renderLine=function(e,t,n){var o=this.getColor(!1);this.context.beginPath(),this.context.strokeStyle=o+"99",this.context.lineWidth=2,this.context.moveTo(n,e),this.context.lineTo(n,t),this.context.stroke()},e.prototype.renderRectangle=function(e,t,n,o){var r=this.getColor(!0);this.context.fillStyle=r+"22";var i=n,l=o-n,a=e,s=t-e;this.context.fillRect(i,a,l,s)},e.prototype.getColor=function(e){switch(this.timeRegion.colorType){case I.Red:return"#ED2E18";case I.Green:return"#10a345";case I.Blue:return"#1f78c1";case I.Yellow:return"#f79520";case I.Gray:return"#fce2de"}var t="#ffffff";return e?this.timeRegion.fillColor?this.timeRegion.fillColor:t:this.timeRegion.lineColor?this.timeRegion.lineColor:t},e}(),Re=function(){function e(e,t,n){this.thresholds=e,this.trackball=t,this.timeRegions=n}return Object.defineProperty(e.prototype,"list",{get:function(){return[this.thresholds,this.timeRegions]},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.list.forEach((function(e){return e.destroy()}))},e}();function Fe(e,n){1&e&&t.ɵɵelement(0,"chart-legend",7)}function je(e,n){1&e&&t.ɵɵelement(0,"chart-legend",8)}Re.ɵfac=function(e){return new(e||Re)(t.ɵɵinject(ke),t.ɵɵinject(Le),t.ɵɵinject(Ne))},Re.ɵprov=t.ɵɵdefineInjectable({token:Re,factory:Re.ɵfac});var Ve=function(e){function t(t,n){var o=e.call(this,t)||this;return o.extensions=n,o.options=Ie.getOptions(o),o.plugins=n.list,o}return h(t,e),Object.defineProperty(t.prototype,"legend",{get:function(){var e;return null===(e=this.widget)||void 0===e?void 0:e.legend},enumerable:!1,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.widget.component=this},t.prototype.ngOnDestroy=function(){this.store.destroy(),this.extensions.destroy()},t}(Pe);function We(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",17),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.min(o))}}function He(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",18),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.max(o))}}function Be(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",19),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.avg(o))}}function qe(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",20),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.current(o))}}Ve.ɵfac=function(e){return new(e||Ve)(t.ɵɵdirectiveInject(De),t.ɵɵdirectiveInject(Re))},Ve.ɵcmp=t.ɵɵdefineComponent({type:Ve,selectors:[["widget"]],viewQuery:function(e,n){var o;(1&e&&t.ɵɵviewQuery(d.UIChart,!0),2&e)&&(t.ɵɵqueryRefresh(o=t.ɵɵloadQuery())&&(n.control=o.first))},features:[t.ɵɵProvidersFeature([Me,Se,we,De,Re,Le,ke,Ne]),t.ɵɵInheritDefinitionFeature],decls:7,vars:5,consts:[[1,"chart__wrapper"],[1,"chart__right-legend-cont"],[1,"chart__canvas-cont"],["type","line","height","100%",3,"data","options","plugins"],["chart",""],["class","chart__legend-right",4,"ngIf"],["class","chart__legend-bottom",4,"ngIf"],[1,"chart__legend-right"],[1,"chart__legend-bottom"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelement(3,"p-chart",3,4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,Fe,1,0,"chart-legend",5),t.ɵɵelementEnd(),t.ɵɵtemplate(6,je,1,0,"chart-legend",6),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(3),t.ɵɵproperty("data",n.data)("options",n.options)("plugins",n.plugins),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.legend.show&&(null==n.legend?null:n.legend.right)),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.legend.show&&!(null!=n.legend&&n.legend.right)))},styles:[".hide-text{background-color:transparent;border:0;color:transparent;font:0/0 a;text-shadow:none}.input-block-level{box-sizing:border-box;display:block;min-height:18px;width:100%}.animate-height{max-height:0;overflow:hidden}.animate-height--open{max-height:1000px;overflow:auto;transition:max-height .25s ease-in-out}.chart__wrapper{display:flex;flex-direction:column;height:100%;min-height:0;position:relative}.chart__right-legend-cont{cursor:crosshair;display:flex;flex:1;min-height:0;min-width:0}.chart__canvas-cont{flex:1;min-height:0;min-width:0;padding-left:5px}.chart__legend-bottom{flex:0 1 auto;flex-wrap:wrap;max-height:35%;overflow:hidden;padding-top:6px;position:relative}.chart__legend-right{flex:0 1 10px}.graph-tooltip{background-color:#141414;color:#d8d9da;font-size:12px;white-space:nowrap}.graph-tooltip .graph-tooltip-time{color:#d8d9da;font-weight:700;padding:.2rem;position:relative;text-align:center;top:-3px}.graph-tooltip .graph-tooltip-list-item{display:table-row}.graph-tooltip .graph-tooltip-list-item--highlight{color:#ececec;font-weight:700}.graph-tooltip .graph-tooltip-series-name{display:table-cell;max-width:650px;overflow:hidden;padding:.15rem;text-overflow:ellipsis}.graph-tooltip .graph-tooltip-value{display:table-cell;font-weight:700;padding-left:15px;text-align:right}.grafana-tooltip{border-radius:5px;font-weight:200;line-height:14px;max-height:600px;max-width:800px;overflow:hidden;padding:10px;position:absolute;z-index:9999}.grafana-tooltip a{color:#e3e3e3}"],encapsulation:2});var Ye=function(e){return{hidden:e}};function $e(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",9),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onSeriesClicked(r,e)})),t.ɵɵelementStart(1,"div",10),t.ɵɵelement(2,"i",11),t.ɵɵelementEnd(),t.ɵɵelementStart(3,"a",12),t.ɵɵtext(4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,We,2,1,"div",13),t.ɵɵtemplate(6,He,2,1,"div",14),t.ɵɵtemplate(7,Be,2,1,"div",15),t.ɵɵtemplate(8,qe,2,1,"div",16),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(9,Ye,r.hidden)),t.ɵɵadvance(1),t.ɵɵstyleProp("color",i.color(r)),t.ɵɵadvance(2),t.ɵɵproperty("title",r.label),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.current)}}function Ge(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",7),t.ɵɵtemplate(1,$e,9,11,"div",8),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵproperty("@fadeInOut",void 0),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o.datasets)}}function Ke(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",3),t.ɵɵelementStart(1,"perfect-scrollbar"),t.ɵɵelementStart(2,"div",4),t.ɵɵtemplate(3,Ge,2,2,"div",5),t.ɵɵelement(4,"div",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(3),t.ɵɵproperty("ngIf",null==o.datasets?null:o.datasets.length)}}function Xe(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"min"),t.ɵɵelementEnd())}function ze(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"max"),t.ɵɵelementEnd())}function Ze(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"avg"),t.ɵɵelementEnd())}function Ue(e,n){1&e&&(t.ɵɵelementStart(0,"th",29),t.ɵɵtext(1,"current"),t.ɵɵelementEnd())}function Qe(e,n){if(1&e&&(t.ɵɵelementStart(0,"thead"),t.ɵɵelementStart(1,"tr"),t.ɵɵelement(2,"th",27),t.ɵɵtemplate(3,Xe,2,0,"th",28),t.ɵɵtemplate(4,ze,2,0,"th",28),t.ɵɵtemplate(5,Ze,2,0,"th",28),t.ɵɵtemplate(6,Ue,2,0,"th",28),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(3);t.ɵɵadvance(3),t.ɵɵproperty("ngIf",o.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.legend.current)}}function Je(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.min(o))}}function et(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.max(o))}}function tt(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.avg(o))}}function nt(e,n){if(1&e&&(t.ɵɵelementStart(0,"td",33),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext().$implicit,r=t.ɵɵnextContext(3);t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.current(o))}}function ot(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"tr",30),t.ɵɵelementStart(1,"td",31),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(o);var r=n.$implicit;return t.ɵɵnextContext(3).onSeriesClicked(r,e)})),t.ɵɵelementStart(2,"div",10),t.ɵɵelement(3,"i",11),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div",12),t.ɵɵtext(5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵtemplate(6,Je,2,1,"td",32),t.ɵɵtemplate(7,et,2,1,"td",32),t.ɵɵtemplate(8,tt,2,1,"td",32),t.ɵɵtemplate(9,nt,2,1,"td",32),t.ɵɵelementEnd()}if(2&e){var r=n.$implicit,i=t.ɵɵnextContext(3);t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(9,Ye,r.hidden)),t.ɵɵadvance(2),t.ɵɵstyleProp("color",i.color(r)),t.ɵɵadvance(2),t.ɵɵproperty("title",r.label),t.ɵɵadvance(1),t.ɵɵtextInterpolate(r.label),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.min),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.max),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.avg),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.legend.current)}}function rt(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",4),t.ɵɵelementStart(1,"div",23),t.ɵɵelementStart(2,"table",24),t.ɵɵelementStart(3,"colgroup"),t.ɵɵelement(4,"col",24),t.ɵɵelementEnd(),t.ɵɵtemplate(5,Qe,7,4,"thead",25),t.ɵɵelementStart(6,"tbody"),t.ɵɵtemplate(7,ot,10,11,"tr",26),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(8,"div",6),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext(2);t.ɵɵproperty("@fadeInOut",void 0),t.ɵɵadvance(5),t.ɵɵproperty("ngIf",o.datasets&&o.datasets.length>0),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",o.datasets)}}function it(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",21),t.ɵɵelementStart(1,"perfect-scrollbar"),t.ɵɵtemplate(2,rt,9,3,"div",22),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵproperty("ngIf",null==o.datasets?null:o.datasets.length)}}var lt=function(e){function t(t){return e.call(this,t)||this}return h(t,e),Object.defineProperty(t.prototype,"legend",{get:function(){return this.widget.legend},enumerable:!1,configurable:!0}),t.prototype.axis=function(e){return this.widget.axes.leftY},t.prototype.decimals=function(e){return this.legend.decimals?this.legend.decimals:0},t.prototype.unit=function(e){return this.axis(e).unit},t.prototype.color=function(e){return this.display.getLineColor(e,1)},t.prototype.min=function(e){return A.getFormattedValue(e.min,this.unit(e),this.decimals(e))},t.prototype.max=function(e){return A.getFormattedValue(e.max,this.unit(e),this.decimals(e))},t.prototype.avg=function(e){return A.getFormattedValue(e.avg,this.unit(e),this.decimals(e))},t.prototype.current=function(e){return A.getFormattedValue(e.current,this.unit(e),this.decimals(e))},t.prototype.onSeriesClicked=function(e,t){var n=this;if(t.ctrlKey){var o=0==e.selected;this.toggleSeries(e,o)}else{var r=void 0===e.selected||0==e.selected||void 0;this.toggleSeries(e,r),this.datasets.filter((function(t){return t!=e})).forEach((function(e){return n.toggleSeries(e,1!=r&&void 0)}))}this.component.control.refresh()},t.prototype.toggleSeries=function(e,t){e.selected=t,void 0===t?(delete e.hidden,delete e.selected):e.hidden=!t},t}(Pe);lt.ɵfac=function(e){return new(e||lt)(t.ɵɵdirectiveInject(De))},lt.ɵcmp=t.ɵɵdefineComponent({type:lt,selectors:[["chart-legend"]],features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:2,consts:[[1,"legend__top-wrapper"],["class","legend__bottom",4,"ngIf","ngIfElse"],["legendAsTable",""],[1,"legend__bottom"],[1,"legend__scroller-cont"],["class","legend__series-wrapper",4,"ngIf"],[1,"legend__scroller-padding"],[1,"legend__series-wrapper"],["class","legend__series",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"legend__series",3,"ngClass","click"],[1,"legend__icon"],[1,"fa","fa-minus","pointer"],[1,"legend__alias","pointer",3,"title"],["class","legend__value min",4,"ngIf"],["class","legend__value max",4,"ngIf"],["class","legend__value avg",4,"ngIf"],["class","legend__value current",4,"ngIf"],[1,"legend__value","min"],[1,"legend__value","max"],[1,"legend__value","avg"],[1,"legend__value","current"],[1,"legend__bottom-table"],["class","legend__scroller-cont",4,"ngIf"],[1,"legend__series-wrapper","legend__full-width"],[1,"legend__full-width"],[4,"ngIf"],["class","legend__series",3,"ngClass",4,"ngFor","ngForOf"],[2,"text-align","left"],["class","pointer",4,"ngIf"],[1,"pointer"],[1,"legend__series",3,"ngClass"],[3,"click"],["class","legend__value",4,"ngIf"],[1,"legend__value"]],template:function(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,Ke,5,1,"div",1),t.ɵɵtemplate(2,it,3,1,"ng-template",null,2,t.ɵɵtemplateRefExtractor),t.ɵɵelementEnd()),2&e){var o=t.ɵɵreference(3);t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.legend.table)("ngIfElse",o)}},directives:[o.NgIf,s.PerfectScrollbarComponent,o.NgForOf,o.NgClass],styles:['.hide-text{background-color:transparent;border:0;color:transparent;font:0/0 a;text-shadow:none}.input-block-level{box-sizing:border-box;display:block;min-height:18px;width:100%}.animate-height{max-height:0;overflow:hidden}.animate-height--open{max-height:1000px;overflow:auto;transition:max-height .25s ease-in-out}.legend__top-wrapper{display:flex;flex-grow:1;max-height:100%;min-height:0;overflow:hidden;position:relative;width:100%}.legend__bottom{min-width:0;padding-bottom:5px}.legend__scroller-cont{display:flex;flex-direction:row}.legend__scroller-padding{min-width:10px}.legend__series-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;min-width:0}.legend__series{min-width:0;padding-left:10px;white-space:nowrap}.legend__series--right-y{float:right}.legend__series.hidden .legend__alias,.legend__series.hidden .legend__value{color:#969696}.legend__alias,.legend__icon,.legend__value{cursor:pointer;display:inline;font-size:85%;text-align:left;white-space:nowrap}.legend__alias.current:before,.legend__icon.current:before,.legend__value.current:before{content:"Current: "}.legend__alias.max:before,.legend__icon.max:before,.legend__value.max:before{content:"Max: "}.legend__alias.min:before,.legend__icon.min:before,.legend__value.min:before{content:"Min: "}.legend__alias.total:before,.legend__icon.total:before,.legend__value.total:before{content:"Total: "}.legend__alias.avg:before,.legend__icon.avg:before,.legend__value.avg:before{content:"Avg: "}.legend__icon{padding-right:4px;position:relative;top:1px}.legend__icon .fa{font-size:135%;position:relative;top:1px}.legend__value{padding-left:6px}.legend__bottom-table{padding-bottom:1px;padding-left:5px;padding-right:5px;width:100%}.legend__bottom-table .legend__series{display:table-row;float:none;padding-left:0}.legend__bottom-table .legend__series--right-y{float:none}.legend__bottom-table .legend__series--right-y .legend__alias:after{color:#8e8e8e;content:"(right-y)";padding:0 5px}.legend__bottom-table .legend__alias,.legend__bottom-table .legend__icon,.legend__bottom-table .legend__value,.legend__bottom-table td{display:table-cell;float:none;padding:2px 10px;text-align:right;white-space:nowrap}.legend__bottom-table .legend__icon{padding:0;top:0;width:5px}.legend__bottom-table .legend__icon .fa{top:3px}.legend__bottom-table .legend__value{padding-left:15px}.legend__bottom-table .legend__alias{max-width:650px;overflow:hidden;padding-left:7px;text-align:left;text-overflow:ellipsis;width:95%}.legend__bottom-table th{color:#33b5e5;font-size:85%;font-weight:700;padding:0 10px 1px 0;text-align:right;white-space:nowrap}.legend__bottom-table .legend__series:nth-child(odd){background:#262628}.legend__full-width{width:100%}'],encapsulation:2,data:{animation:[r.FadeInOutAnimation]}});var at=function(){};at.ɵmod=t.ɵɵdefineNgModule({type:at}),at.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||at)},imports:[[o.CommonModule,i.FormsModule,i.ReactiveFormsModule,d.ChartModule,l.EdCommonModule,r.EdUilibModule,s.PerfectScrollbarModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(at,{declarations:[Ve,_e,lt,V,j,F,p,m,W,ge,H,Q,Z,K,$,oe,te],imports:[o.CommonModule,i.FormsModule,i.ReactiveFormsModule,d.ChartModule,l.EdCommonModule,r.EdUilibModule,s.PerfectScrollbarModule],exports:[Ve,_e]}),t.ɵɵsetComponentScope(Ve,[o.NgClass,o.NgComponentOutlet,o.NgForOf,o.NgIf,o.NgTemplateOutlet,o.NgStyle,o.NgSwitch,o.NgSwitchCase,o.NgSwitchDefault,o.NgPlural,o.NgPluralCase,i.ɵangular_packages_forms_forms_y,i.NgSelectOption,i.ɵangular_packages_forms_forms_x,i.DefaultValueAccessor,i.NumberValueAccessor,i.RangeValueAccessor,i.CheckboxControlValueAccessor,i.SelectControlValueAccessor,i.SelectMultipleControlValueAccessor,i.RadioControlValueAccessor,i.NgControlStatus,i.NgControlStatusGroup,i.RequiredValidator,i.MinLengthValidator,i.MaxLengthValidator,i.PatternValidator,i.CheckboxRequiredValidator,i.EmailValidator,i.NgModel,i.NgModelGroup,i.NgForm,i.FormControlDirective,i.FormGroupDirective,i.FormControlName,i.FormGroupName,i.FormArrayName,d.UIChart,r.DialogActionsComponent,r.DialogComponent,r.DropDownComponent,r.DropDownValueTemplate,r.DropDownSelectedValueTemplate,r.PopupComponent,r.ContextMenuComponent,r.HierarchicalDropDownComponent,r.PreferencesComponent,r.EmptyListComponent,r.InfoBoxComponent,r.ProgressComponent,r.FilterBoxComponent,r.TextBoxComponent,r.TextBoxValidationTemplate,r.CheckBoxComponent,r.AutoFocusDirective,r.AvatarComponent,r.GridComponent,r.ColumnComponent,r.DeleteColumnComponent,r.SlideDownComponent,r.TabStripComponent,r.TabComponent,r.TabTitleTemplate,r.TabContentTemplate,r.SideTabStripComponent,r.LoadOrErrorComponent,r.ErrorPopupComponent,r.NoteComponent,r.ModuleLoaderComponent,r.UserPickerComponent,r.TeamPickerComponent,r.PermissionPickerComponent,r.PermissionRulePickerComponent,r.PermissionIconComponent,r.TagPickerComponent,r.TimeRangePickerComponent,r.PluginPickerComponent,r.ColorPickerComponent,r.PaletteEditorComponent,r.ColorCircleComponent,r.IconComponent,r.LabelIconComponent,r.RemoveHostDirective,r.PageComponent,r.PageHeaderComponent,r.PageTitleComponent,r.PageTabsNavigationComponent,r.PageDropdownNavigationComponent,r.TagComponent,r.DashboardExplorerComponent,r.DashboardExplorerDeleterComponent,r.DashboardExplorerMoverComponent,r.CardsLayoutSwitcherComponent,s.PerfectScrollbarComponent,s.PerfectScrollbarDirective,Ve,_e,lt,V,j,F,p,m,W,ge,H,Q,Z,K,$,oe,te],[o.AsyncPipe,o.UpperCasePipe,o.LowerCasePipe,o.JsonPipe,o.SlicePipe,o.DecimalPipe,o.PercentPipe,o.TitleCasePipe,o.CurrencyPipe,o.DatePipe,o.I18nPluralPipe,o.I18nSelectPipe,o.KeyValuePipe]),e.ChartComponent=Ve,e.ChartEditorComponent=_e,e.ChartWidgetModule=at,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=chart.umd.min.js.map