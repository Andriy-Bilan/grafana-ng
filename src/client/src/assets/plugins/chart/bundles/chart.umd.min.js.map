{"version":3,"sources":["../../../../app/plugins/widgets/chart/src/edit/general/general.ts","../../../../app/plugins/widgets/chart/src/edit/general/general.html","../../../../app/plugins/widgets/chart/src/chart.m.ts","../../../../app/plugins/widgets/chart/src/edit/metrics/metrics.ts","../../../../app/plugins/widgets/chart/src/edit/metrics/metrics.html","../../../../../node_modules/tslib/tslib.es6.js","../../../../app/plugins/widgets/chart/src/base/chart-base-editor.ts","../../../../app/plugins/widgets/chart/src/view/axes/unit-helper.ts","../../../../app/plugins/widgets/chart/src/edit/axes/y-axis/units.ts","../../../../app/plugins/widgets/chart/src/edit/axes/y-axis/y-axis.ts","../../../../app/plugins/widgets/chart/src/edit/axes/y-axis/y-axis.html","../../../../app/plugins/widgets/chart/src/edit/axes/x-axis/x-axis.ts","../../../../app/plugins/widgets/chart/src/edit/axes/x-axis/x-axis.html","../../../../app/plugins/widgets/chart/src/edit/axes/axes.ts","../../../../app/plugins/widgets/chart/src/edit/legend/legend.ts","../../../../app/plugins/widgets/chart/src/edit/editor.html","../../../../app/plugins/widgets/chart/src/edit/legend/legend.html","../../../../app/plugins/widgets/chart/src/edit/editor.ts","../../../../app/plugins/widgets/chart/src/view/extensions/pixel-helper.ts","../../../../app/plugins/widgets/chart/src/view/extensions/trackball-drawer.ts","../../../../app/plugins/widgets/chart/src/view/render/color-helper.ts","../../../../app/plugins/widgets/chart/src/view/render/display-manager.ts","../../../../app/plugins/widgets/chart/src/view/data/data-converter.ts","../../../../app/plugins/widgets/chart/src/view/data/data-provider.ts","../../../../app/plugins/widgets/chart/src/view/extensions/tooltip-builder.ts","../../../../app/plugins/widgets/chart/src/view/options-provider.ts","../../../../app/plugins/widgets/chart/src/base/chart.store.ts","../../../../app/plugins/widgets/chart/src/base/chart-base.ts","../../../../app/plugins/widgets/chart/src/view/legend/legend.html","../../../../app/plugins/widgets/chart/src/view/legend/legend.ts","../../../../app/plugins/widgets/chart/src/chart.html","../../../../app/plugins/widgets/chart/src/chart.c.ts","../../../../app/plugins/widgets/chart/src/chart.mod.ts"],"names":["GeneralEditorComponent","prototype","ngOnInit","console","log","ngOnDestroy","selectors","decls","vars","template","rf","ctx","i0.ɵɵtext","ScaleType","PANEL_TOKEN","MetricsEditorComponent","panel","this","i0","ɵɵdirectiveInject","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","AxisUnitType","BaseChartEditorComponent","defineProperty","widget","_a","axes","legend","control","chart","options","refresh","AxisUnit","type","label","unit","command","AxisUnitHelper","getData","Common_Short","Common_Percent","Common_Percent01","Common_Humidity","Common_Decibel","Common_Hex0x","Common_Hex","Common_SciNotation","Common_LocaleString","Length_Millimetre","Length_Meter","Length_Feet","Length_Kilometer","Length_Mile","Area_SquareMeters","Area_SquareFeet","Area_SquareMiles","Mass_Milligram","Mass_Gram","Mass_Kilogram","Mass_MetricTon","None","getFormattedValue","decimals","toFixed","unitData","toString","toExponential","toLocaleString","getShortFormattedValue","dev","u","menuItems","items","AxisYEditorComponent","_super","_this","left","scales","DropDownComponent","wrapEnum","leftY","rightY","yAxes","axis","show","v","chartAxis","display","scale","Linear","sl","scaleLabel","labelString","undefined","min","ticks","max","inputs","features","ɵɵInheritDefinitionFeature","consts","i0.ɵɵelementStart","i0.ɵɵelementEnd","i0.ɵɵlistener","i0.ɵɵadvance","i0.ɵɵtextInterpolate","i0.ɵɵproperty","AxisXEditorComponent","x","xAxes","AxesEditorComponent","i0.ɵɵelement","LegendEditorComponent","ChartEditorComponent","router","activatedRoute","location","index","queryParamMap","subscribe","params","get","Number","isInteger","onTabSelected","url","createUrlTree","relativeTo","queryParams","tab","queryParamsHandling","go","i1$2","Router","ActivatedRoute","i2$1","Location","$event","i0.ɵɵtemplate","PixelHelper","alignPixel","pixel","width","devicePixelRatio","currentDevicePixelRatio","halfWidth","Math","round","TrackballDrawerPlugin","ID","afterDatasetsDraw","easing","getMousePos","canvas","evt","rect","getBoundingClientRect","clientX","y","clientY","top","ColorHelper","getColor","ds","color","palette","hexToRgb","getColorAsArgbFunc","opacity","g","hex","result","exec","parseInt","parse","input","arr","substr","collen","fact","split","map","rgbToHex","c","padStart","DisplayManager","setup","setupLines","setupPoints","setupNullValue","showLines","getShowLines","lineWidth","getLineWidth","fill","getFill","backgroundColor","getLineColor","borderColor","borderWidth","steppedLine","getStaircase","getDashes","len","getDashLength","space","getDashSpace","borderDash","order","getZIndex","getLegend","showPoints","getShowPoints","pointBorderColor","pointBackgroundColor","pointRadius","getPointRadius","nullValue","setupOverrides","getOverride","lines","overrideColor","defaultColor","useOverride","lineFill","staircase","dashes","dashLength","dashSpace","points","zIndex","getYAxis","yAxis","overrides","find","alias","RegExp","test","ɵɵinject","factory","ɵfac","DataConverter","dispay","toDataSets","data","dataSets","totalIndex","forEach","serie","columns","slice","el","toDataSet","filter","values","isNull","Moment","valueOf","filteredValues","parseFloat","avg","reduce","a","allNulls","every","allZeros","generateDataSetName","lineTension","apply","current","root","name","tags","keyIndex","keys","key","DataProvider","pluginActivator","dsService","converter","time","data$","EventEmitter","timeSubs","range$","pipe","tap","_","request","mergeMap","createDataSourceMetricsBuilder","mb","build","metrics","range","pull","_b","destroy","unsubscribe","loading","proxy","finalize","onData","onError","emit","datasets","err","i1$1","PluginActivator","DataSourceService","TimeRangeStore","TooltipBuilder","comp","Chart","Tooltip","positioners","custom","elements","eventPosition","mode","position","intersect","caretSize","xPadding","bodySpacing","titleAlign","enabled","model","tooltipModel","tooltipEl","getRootElement","classList","remove","yAlign","add","body","createBody","setPosition","style","elWidth","document","getElementsByClassName","TOOLTIP_SELECTOR","negMargin","caretX","window","pageXOffset","pageYOffset","caretY","fontFamily","_bodyFontFamily","padding","yPadding","pointerEvents","titleLines","title","innerHtml","date","Date","format","sort","seriesName","seriesNameEl","colorFunc","w","store","yAxisID","resValue","querySelector","innerHTML","bodyLines","bodyItem","parsedBodyLines","colors","labelColors","lastIndexOf","substring","dataPoints","getElementById","createElement","id","appendChild","OptionsProvider","getOptions","defaults","global","defaultFontColor","defaultFontFamily","defaultFontSize","maintainAspectRatio","animation","tooltips","spanGaps","getAxisX","getAxisY","gridLines","autoSkip","autoSkipPadding","maxRotation","minRotation","displayFormats","second","minute","hour","day","week","month","year","wAxis","AXIS_Y_LEFT","AXIS_Y_RIGHT","zeroLineWidth","userCallback","labels","AXIS_X","ChartStore","dataProvider","BehaviorSubject","widget$","asObservable","control_","control$","ctrl","BaseChartComponent","dataSubs","widgetSubs","onWidgetReady","ctrlSubs","onControlReady","_c","i0.ɵɵstyleProp","ChartLegendComponent","onSeriesClicked","ctrlKey","selected","toggleSeries","selected_1","reinit","hidden","_r1","FadeInOutAnimation","ChartComponent","plugins","ngAfterViewInit","ctrlChart","viewQuery","UIChart","ChartWidgetModule","imports","CommonModule","FormsModule","ReactiveFormsModule","ChartModule","EdCommonModule","EdUilibModule","PerfectScrollbarModule","declarations","exports"],"mappings":"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","sourcesContent":["import { Component } from '@angular/core';\n\n@Component({\n  selector: 'editor-general',\n  templateUrl: './general.html'\n})\nexport class GeneralEditorComponent {\n \n  ngOnInit(){\n    console.log( 'create GeneralEditorComponent' )\n  }\n\n  ngOnDestroy(){\n    console.log( 'detroy GeneralEditorComponent' )\n  }\n}\n","general will be here","import { UIChart } from 'primeng';\r\n\r\nexport const PANEL_TOKEN = \"panel\";\r\n\r\nexport interface ChartData{\r\n\tdatasets: DataSet[];\r\n}\r\n\r\nexport interface DataSet{\r\n\tlabel: string;\r\n\tdata: DataPoint[];\r\n\r\n\tmin?: number;\r\n\tmax?: number\r\n\tavg?: number;\r\n\tcurrent?: number;\r\n\r\n\tallNulls?: boolean;\r\n\tallZeros?: boolean;\r\n\r\n\tindex: number;\r\n\r\n\t//display\r\n\tfill?: boolean;\r\n\tbackgroundColor?:string; \r\n\tborderColor?: string;\r\n\tborderWidth?: number;\r\n\r\n\tpointBorderColor?: string; \r\n\tpointBackgroundColor?: string; \r\n\tpointRadius?: number; \r\n\r\n\tsteppedLine?: boolean;\r\n\r\n\tborderDash?: number[]\r\n\r\n\torder?: number;\r\n\r\n\tlegend?: boolean;\r\n\thidden?: boolean;\r\n\tselected?: boolean;\r\n}\r\n\r\nexport interface DataPoint{\r\n\tx?: number;\r\n\ty?: number;\r\n\tisNull: boolean;\r\n}\r\n\r\nexport interface RGB{\r\n\tr: number;\r\n\tg: number;\r\n\tb: number;\r\n}\r\n\r\nexport interface Chart{\r\n\tlegend: Legend;\r\n\taxes: Axes;\r\n\r\n\tcontrol: UIChart;\r\n}\r\n\r\nexport interface Legend{\r\n\tshow: boolean;\r\n\ttable: boolean;\r\n\tright: boolean;\r\n\r\n\tmin: number;\r\n\tmax: number;\r\n\tavg: number;\r\n\tcurrent: number;\r\n\ttotal: number;\r\n\tdecimals? : number;\r\n\r\n\thideOnlyNulls: boolean;\r\n\thideOnlyZeroes: boolean;\r\n}\r\n\r\nexport interface Axes{\r\n\tleftY: Axis;\r\n\trightY?: Axis;\r\n\tx: any;\r\n}\r\n\r\n\r\nexport enum ScaleType {\r\n\tLinear = \"linear\",\r\n\tLog2 = \"log2\",\r\n\tLog10 = \"log10\",\r\n\tLog32 = \"log32\",\r\n\tLog1024 = \"log1024\"\r\n}\r\n\r\nexport interface Axis{\r\n\tshow: boolean;\r\n\tunit:any;\r\n\tscale: ScaleType;\r\n\tmin?: number;\r\n\tmax?: number;\r\n\tdecimals?: number;\r\n\tlabel?: string;\r\n}","import { Component, Inject } from '@angular/core';\nimport { Panel } from 'common';\nimport { PANEL_TOKEN } from '../../chart.m';\n\n\n@Component({\n  selector: 'editor-metrics',\n  templateUrl: './metrics.html'\n})\nexport class MetricsEditorComponent {\n \n  constructor(@Inject( PANEL_TOKEN ) private panel: Panel){\n    \n  }\n  ngOnInit(){\n    console.log( 'create MetricsComponent' )\n    console.log( this.panel );\n  }\n\n  ngOnDestroy(){\n    console.log( 'detroy MetricsComponent' )\n  }\n}\n","metrics will be here","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Directive } from '@angular/core';\nimport { Panel } from 'common';\nimport { Chart } from '../chart.m';\n\n@Directive() \nexport class BaseChartEditorComponent {\n\n  get widget() : Chart{\n    return this.panel.widget;\n  }\n\n  get axes(){\n    return this.widget?.axes;\n  }\n\n  get legend(){\n    return this.widget?.legend;\n  }\n\n  get options(){\n    return this\n      .widget\n      .control\n      .chart\n      .options;\n  }\n\n  constructor( public panel: Panel){\n  }\n\n  refresh(){\n    this\n      .widget\n      .control\n      .refresh();\n  }\n}\n","export enum AxisUnitType {\r\n\tNone, \r\n\r\n\tCommon_Short,\r\n\tCommon_Percent,\r\n\tCommon_Percent01,\r\n\tCommon_Humidity,\r\n\tCommon_Decibel,\r\n\tCommon_Hex0x,\r\n\tCommon_Hex,\r\n\tCommon_SciNotation,\r\n\tCommon_LocaleString,\r\n\r\n\tLength_Millimetre,\r\n\tLength_Meter,\r\n\tLength_Feet,\r\n\tLength_Kilometer,\r\n\tLength_Mile,\r\n\r\n\tArea_SquareMeters,\r\n\tArea_SquareFeet,\r\n\tArea_SquareMiles,\r\n\r\n\tMass_Milligram,\r\n\tMass_Gram,\r\n\tMass_Kilogram,\r\n\tMass_MetricTon\r\n}\r\n\r\nexport class AxisUnit{\r\n\tconstructor( \r\n\t\tpublic type: AxisUnitType,\r\n\t\tpublic label: string,\r\n\t\tpublic unit: string,\r\n\t\tpublic command?: (event?: any) => void ){}\r\n}\r\n\r\nexport class AxisUnitHelper{\r\n\tstatic getData( unit: AxisUnitType ){\r\n\t\tswitch( +unit ){\r\n\r\n\t\t\tcase AxisUnitType.Common_Short:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Short, \"short\", \"\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_Percent:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Percent, \"percent (0-100)\", \"%\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_Percent01:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Percent01, \"percent (0.0-1.0)\", \"%\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_Humidity:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Humidity, \"humidity (%H)\", \"%H\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_Decibel:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Decibel, \"decibel\", \"dB\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_Hex0x:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Hex0x, \"hexadecimal (0x)\", \"\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_Hex:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_Hex, \"hexadecimal\", \"\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_SciNotation:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_SciNotation, \"scientific notation\", \"\" );\r\n\r\n\t\t\tcase AxisUnitType.Common_LocaleString:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Common_LocaleString, \"locale string\", \"\" );\r\n\r\n\r\n\r\n\t\t\tcase AxisUnitType.Length_Millimetre:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Length_Millimetre, \"millimetre (mm)\", \"mm\" );\r\n\r\n\t\t\tcase AxisUnitType.Length_Meter:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Length_Meter, \"meter (m)\", \"m\" );\r\n\r\n\t\t\tcase AxisUnitType.Length_Feet:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Length_Feet, \"feet (ft)\", \"ft\" );\r\n\r\n\t\t\tcase AxisUnitType.Length_Kilometer:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Length_Kilometer, \"kilometer (km)\", \"km\" );\r\n\r\n\t\t\tcase AxisUnitType.Length_Mile:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Length_Mile, \"mile (mi)\", \"mi\" );\r\n\r\n\r\n\r\n\r\n\r\n\t\t\tcase AxisUnitType.Area_SquareMeters:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Area_SquareMeters, \"Square Meters (m²)\", \"m²\" );\r\n\r\n\t\t\tcase AxisUnitType.Area_SquareFeet:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Area_SquareFeet, \"Square Feet (ft²)\", \"ft²\" );\r\n\r\n\t\t\tcase AxisUnitType.Area_SquareMiles:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Area_SquareMiles, \"Square Miles (mi²)\", \"mi²\" );\r\n\r\n\r\n\t\t\tcase AxisUnitType.Mass_Milligram:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Mass_Milligram, \"milligram (mg)\", \"mg\" );\r\n\r\n\t\t\tcase AxisUnitType.Mass_Gram:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Mass_Gram, \"gram (g)\", \"g\" );\r\n\r\n\t\t\tcase AxisUnitType.Mass_Kilogram:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Mass_Kilogram, \"kilogram (kg)\", \"kg\" );\r\n\r\n\t\t\tcase AxisUnitType.Mass_MetricTon:\r\n\t\t\t\treturn new AxisUnit( AxisUnitType.Mass_MetricTon, \"metric ton (t)\", \"t\" );\r\n\t\t}\r\n\r\n\t\treturn new AxisUnit( AxisUnitType.None, \"none\", \"\" );\r\n\t}\r\n\r\n\tstatic getFormattedValue( label, unit, decimals ){\r\n\t\tlet value = label.toFixed( decimals );\r\n\t\tconst unitData = AxisUnitHelper.getData( unit);\r\n\r\n\t\tswitch( unitData.type ){\r\n\t\t\tcase AxisUnitType.Common_Hex: \r\n\t\t\t\treturn label.toString( 16 );\r\n\r\n\t\t\tcase AxisUnitType.Common_Hex0x: \r\n\t\t\t\treturn `0x${label.toString( 16 )}`;\r\n\r\n\t\t\tcase AxisUnitType.Common_Percent01: \r\n\t\t\t\treturn `${( 100 * label ).toFixed( decimals )} %`;\r\n\r\n\t\t\tcase AxisUnitType.Common_SciNotation: \r\n\t\t\t\treturn label.toExponential(decimals);\r\n\r\n\t\t\tcase AxisUnitType.Common_LocaleString:\r\n\t\t\t\treturn label.toLocaleString();\r\n\r\n\t\t\tcase AxisUnitType.Common_Short:\r\n\t\t\t\treturn AxisUnitHelper.getShortFormattedValue( label, unit, decimals );\r\n\r\n\t\t\tcase AxisUnitType.None:\r\n\t\t\t\treturn value;\r\n\r\n\r\n\r\n\t\t\tdefault: \r\n\t\t\t\treturn `${value} ${unitData.unit}`;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getShortFormattedValue( label, unit, decimals ){\r\n\t\t// if( label < 1000 ){\r\n\t\t// \treturn label;\r\n\t\t// }\r\n\t\t\r\n\t\tlet dev = 1;\r\n\t\tlet u = '';\r\n\r\n\t\tif( label >= 1000 && label < 1000000 ){\r\n\t\t\tu = 'K';\r\n\t\t\tdev = 1000;\r\n\t\t} else if( label >= 1000000 && label < 1000000000 ){\r\n\t\t\tu = 'Mil';\r\n\t\t\tdev = 1000000;\r\n\t\t}\r\n\t\telse if( label >= 1000000000 && label < 1000000000000 ){\r\n\t\t\tu = 'Bil';\r\n\t\t\tdev = 1000000000;\r\n\t\t} else if( label >= 1000000000000 && label < 1000000000000000 ){\r\n\t\t\tu = 'Tri';\r\n\t\t\tdev = 1000000000000;\r\n\t\t}\r\n\t\telse if( label >= 1000000000000000 && label < 1000000000000000000 ){\r\n\t\t\tu = 'Qdr';\r\n\t\t\tdev = 1000000000000000;\r\n\t\t}\r\n\r\n\t\treturn  `${( label / dev ).toFixed( decimals)} ${u}`;\r\n\t}\r\n} ","\r\nimport { AxisUnitHelper, AxisUnitType } from '../../../view/axes/unit-helper';\r\n\r\nexport const menuItems: any = [\r\n\r\n\t{\r\n\t\tlabel: \"none\", items: [\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.None),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Short),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Percent),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Percent01),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Humidity),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Decibel),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Hex0x),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_Hex),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_SciNotation),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Common_LocaleString)\r\n\t\t\t\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tlabel: \"length\", items: [\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Length_Millimetre),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Length_Meter),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Length_Feet),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Length_Kilometer),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Length_Mile)\r\n\t\t]\r\n\t},\r\n\r\n\t{\r\n\t\tlabel: \"area\", items: [\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Area_SquareMeters),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Area_SquareFeet),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Area_SquareMiles)\r\n\t\t]\r\n\t},\r\n\r\n\t{\r\n\t\tlabel: \"mass\", items: [\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Mass_Milligram),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Mass_Gram),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Mass_Kilogram),\r\n\t\t\tAxisUnitHelper.getData(AxisUnitType.Mass_MetricTon)\r\n\t\t]\r\n\t},\r\n];","import { Component, Inject, Input } from '@angular/core';\nimport { Panel, PANEL_TOKEN } from 'common';\nimport { DropDownComponent } from 'uilib';\nimport { BaseChartEditorComponent } from '../../../base/chart-base-editor';\nimport { ScaleType } from '../../../chart.m';\nimport { menuItems } from './units';\n\n@Component({\n  selector: 'editor-axis-y',\n  templateUrl: './y-axis.html'\n})\nexport class AxisYEditorComponent extends BaseChartEditorComponent {\n \n  @Input() left: boolean = true;\n\n  items = menuItems;\n  scales = DropDownComponent.wrapEnum( ScaleType );\n\n  get axis(){\n    return this.left ? this.axes.leftY : this.axes.rightY;\n  }\n\n  get chartAxis(){\n    return this.options.scales.yAxes[ this.left ? 0 : 1 ];\n  }\n\n  get show(): boolean{\n    return this.axis.show;\n  }\n\n  set show( v: boolean ){\n    this.axis.show = this.chartAxis.display = v;\n    this.refresh();\n  }\n\n  get unit(): boolean{\n    return this.axis.unit;\n  }\n\n  set unit( v: boolean ){\n    this.axis.unit = v;\n\n    console.log( this.widget );\n    this.refresh();\n  }\n\n  get scale(): ScaleType{\n    return this.axis.scale;\n  }\n\n  set scale( v: ScaleType ){\n    this.axis.scale = v;\n    this.chartAxis.type = ( v == ScaleType.Linear ) ? \"linear\" : \"logarithmic\";\n\n    this.refresh();\n  }\n\n  get label(): string{\n    return this.axis.label;\n  }\n\n  set label( v: string ){\n    this.axis.label = v;\n    const sl = this.chartAxis.scaleLabel;\n\n    if( v ){\n      sl.display = true;\n      sl.labelString = v;\n    } else{\n      sl.display = false;\n      sl.labelString = undefined;\n    }\n\n    this.refresh();\n  }\n\n  get decimals(): number{\n    return this.axis.decimals;\n  }\n\n  set decimals( v: number ){\n    this.axis.decimals = v ? +v : undefined;\n\n    this.refresh();\n  }\n\n  get min(): number{\n    return this.axis.min;\n  }\n\n  set min( v: number ){\n    this.axis.min = this.chartAxis.ticks.min = v ? +v : undefined;\n\n    this.refresh();\n  }\n\n  get max(): number{\n    return this.axis.max;\n  }\n\n  set max( v: number ){\n    this.axis.max = this.chartAxis.ticks.max = v ? +v : undefined;\n\n    this.refresh();\n  }\n  \n  constructor(@Inject( PANEL_TOKEN ) panel: Panel){\n    super( panel );\n\n    console.log( this.axes );\n  }\n\n}\n","<div class=\"section gf-form-group\" >\r\n\t<h5 class=\"section-heading\">{{left ? 'Left Y' : 'Right Y'}}</h5>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"6\"\r\n\t\tlabel=\"Show\"\r\n\t\t[(ngModel)]=\"show\">\r\n\t</ed-checkbox>\r\n\r\n\t<ed-dropdown-menu\r\n\t\t[valueProperty]=\"'type'\"\r\n\t\t[(ngModel)]=\"unit\"\r\n\t\t[items]=\"items\"\r\n\t\tlabel=\"Unit\"\r\n\t\twidth=\"16\"\r\n\t\tlabelWidth=\"6\"  >\r\n\t</ed-dropdown-menu>\r\n\r\n\t<ed-dropdown\r\n\t\t[(ngModel)]=\"scale\"\r\n\t\tlabel=\"Scale\"\r\n\t\t[data]=\"scales\"\r\n\t\tlabelWidth=\"6\"\r\n\t\twidth=\"16\"  >\r\n\t</ed-dropdown>\r\n\r\n\t<div class=\"gf-form-inline\">\r\n\t\t<ed-textbox \r\n\t\t\ttype=\"number\"\r\n\t\t\tlabelWidth=\"6\"\r\n\t\t\tlabel=\"Y-Min\"\r\n\t\t\twidth=\"5\"\r\n\t\t\t[(ngModel)]=\"min\"\r\n\t\t\tplaceholder=\"auto\">\r\n\t\t</ed-textbox>\r\n\r\n\t\t<ed-textbox \r\n\t\t\ttype=\"number\"\r\n\t\t\tlabelWidth=\"6\"\r\n\t\t\tlabel=\"Y-Max\"\r\n\t\t\twidth=\"5\"\r\n\t\t\t[(ngModel)]=\"max\"\r\n\t\t\tplaceholder=\"auto\">\r\n\t\t</ed-textbox>\r\n\t</div>\r\n\r\n\t<ed-textbox \r\n\t\ttype=\"text\"\r\n\t\tlabelWidth=\"6\"\r\n\t\tlabel=\"Decimals\"\r\n\t\twidth=\"16\"\r\n\t\t[(ngModel)]=\"decimals\"\r\n\t\tplaceholder=\"auto\">\r\n\t</ed-textbox>\r\n\t<!-- <input type=\"text\" [(ngModel)]=\"decimals\" /> -->\r\n\r\n\t<ed-textbox \r\n\t\tlabelWidth=\"6\"\r\n\t\tlabel=\"Label\"\r\n\t\twidth=\"16\"\r\n\t\t[(ngModel)]=\"label\">\r\n\t</ed-textbox>\r\n</div>","import { Component, Inject } from '@angular/core';\nimport { Panel, PANEL_TOKEN } from 'common';\nimport { BaseChartEditorComponent } from '../../../base/chart-base-editor';\n\n@Component({\n  selector: 'editor-axis-x',\n  templateUrl: './x-axis.html'\n})\nexport class AxisXEditorComponent extends BaseChartEditorComponent {\n   \n  get axis(){\n    return this.axes.x;\n  }\n\n  get chartAxis(){\n    return this.options.scales.xAxes[ 0 ];\n  }\n\n  get show(): boolean{\n    return this.axis.show;\n  }\n\n  set show( v: boolean ){\n    this.axis.show = this.chartAxis.display = v;\n    this.refresh();\n  }\n\n  constructor(@Inject( PANEL_TOKEN ) panel: Panel){\n    super( panel );\n    \n  }\n}\n","<div class=\"section gf-form-group\" >\r\n\t<h5 class=\"section-heading\">X-Axis</h5>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"6\"\r\n\t\tlabel=\"Show\"\r\n\t\t[(ngModel)]=\"show\">\r\n\t</ed-checkbox>\r\n\r\n\r\n</div>","import { Component, Inject } from '@angular/core';\nimport { Panel, PANEL_TOKEN } from 'common';\nimport { BaseChartEditorComponent } from '../../base/chart-base-editor';\n\n@Component({\n  selector: 'editor-axes',\n  template: `\n    <editor-axis-y ></editor-axis-y>\n    <editor-axis-x></editor-axis-x>`\n})\nexport class AxesEditorComponent extends BaseChartEditorComponent {\n  \n  constructor(@Inject( PANEL_TOKEN ) panel: Panel){\n    super( panel );\n    \n  }\n} \n","import { Component, Inject } from '@angular/core';\nimport { Panel } from 'common';\nimport { BaseChartEditorComponent } from '../../base/chart-base-editor';\nimport { PANEL_TOKEN } from '../../chart.m';\n\n@Component({\n  selector: 'editor-legend',\n  templateUrl: './legend.html'\n})\nexport class LegendEditorComponent extends BaseChartEditorComponent  {\n \n  constructor(@Inject( PANEL_TOKEN ) panel: Panel){\n    super( panel );\n  }\n}\n","<ed-tabstrip header=\"Graph\"\r\n\t[(ngModel)]=\"index\"\r\n\t(selected)=\"onTabSelected($event)\">\r\n\r\n\t<ed-tab header=\"General\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\t<editor-general></editor-general>\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n\t<ed-tab header=\"Metrics\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\t<editor-metrics></editor-metrics>\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n\t<ed-tab header=\"Axes\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\t<editor-axes></editor-axes>\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n\t<ed-tab header=\"Legend\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\t<editor-legend></editor-legend>\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n\t<ed-tab header=\"Display\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\tdisplay will be here\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n\t<ed-tab header=\"Alert\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\talert will be here\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n\t<ed-tab header=\"Time range\">\r\n\t\t<ng-template edTabContent>\r\n\t\t\ttime range will be here\r\n\t\t</ng-template>\r\n\t</ed-tab>\r\n\r\n</ed-tabstrip>\r\n","<div class=\"section gf-form-group\">\r\n\t<h5 class=\"section-heading\">Options</h5>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"7\"\r\n\t\tlabel=\"Show\"\r\n\t\t[(ngModel)]=\"legend.show\">\r\n\t</ed-checkbox>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"7\"\r\n\t\tlabel=\"As Table\"\r\n\t\t[(ngModel)]=\"legend.table\">\r\n\t</ed-checkbox>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"7\"\r\n\t\tlabel=\"To the right\"\r\n\t\t[(ngModel)]=\"legend.right\">\r\n\t</ed-checkbox>\r\n</div>\r\n\r\n<div class=\"section gf-form-group\">\r\n\t<h5 class=\"section-heading\">Values</h5>\r\n\r\n\t<div class=\"gf-form-inline\">\r\n\t\t<ed-checkbox \r\n\t\t\tlabelWidth=\"4\"\r\n\t\t\tlabel=\"Min\"\r\n\t\t\t[(ngModel)]=\"legend.min\">\r\n\t\t</ed-checkbox>\r\n\r\n\t\t<ed-checkbox \r\n\t\t\tlabelWidth=\"6\"\r\n\t\t\tlabel=\"Min\"\r\n\t\t\t[(ngModel)]=\"legend.max\">\r\n\t\t</ed-checkbox>\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-inline\">\r\n\t\t<ed-checkbox \r\n\t\t\tlabelWidth=\"4\"\r\n\t\t\tlabel=\"Avg\"\r\n\t\t\t[(ngModel)]=\"legend.avg\">\r\n\t\t</ed-checkbox>\r\n\r\n\t\t<ed-checkbox \r\n\t\t\tlabelWidth=\"6\"\r\n\t\t\tlabel=\"Current\"\r\n\t\t\t[(ngModel)]=\"legend.current\">\r\n\t\t</ed-checkbox>\r\n\t</div>\r\n\r\n\t<div class=\"gf-form-inline\">\r\n\t\t<ed-checkbox \r\n\t\t\tlabelWidth=\"4\"\r\n\t\t\tlabel=\"Total\"\r\n\t\t\t[(ngModel)]=\"legend.total\">\r\n\t\t</ed-checkbox>\r\n\r\n\t\t<ed-textbox \r\n\t\t\ttype=\"number\"\r\n\t\t\tlabelWidth=\"6\"\r\n\t\t\tlabel=\"Decimals\"\r\n\t\t\twidth=\"4\"\r\n\t\t\tplaceholder=\"auto\"\r\n\t\t\t[(ngModel)]=\"legend.decimals\">\r\n\t\t</ed-textbox>\r\n\t</div>\r\n\r\n</div>\r\n\r\n<div class=\"section gf-form-group\">\r\n\t<h5 class=\"section-heading\">Hide series</h5>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"10\"\r\n\t\tlabel=\"With only nulls\"\r\n\t\t[(ngModel)]=\"legend.hideOnlyNulls\">\r\n\t</ed-checkbox>\r\n\r\n\t<ed-checkbox \r\n\t\tlabelWidth=\"10\"\r\n\t\tlabel=\"With only zeros\"\r\n\t\t[(ngModel)]=\"legend.hideOnlyZeroes\">\r\n\t</ed-checkbox>\r\n\r\n</div>","import { Location } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'widget-editor',\n  templateUrl: './editor.html'\n})\nexport class ChartEditorComponent {\n  index: number = 0;\n\n  constructor(\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private location: Location){\n      this\n        .activatedRoute\n        .queryParamMap\n        .subscribe((params) => {\n          const p = params.get( 'tab' );\n\n          if( Number.isInteger( +p )){\n            this.index = +p;\n          } \n        });\n  }\n\n  onTabSelected( index: number ){\n    const url = this\n      .router\n      .createUrlTree([], {\n        relativeTo: this.activatedRoute,\n        queryParams: {tab: index},\n        queryParamsHandling: 'merge',\n      })\n      .toString()\n\n    this.location.go(url);\n  }\n}\n","\r\nexport class PixelHelper {\r\n\tpublic static alignPixel( chart, pixel, width) {\r\n\t\tvar devicePixelRatio = chart.currentDevicePixelRatio;\r\n\t\tvar halfWidth = width / 2;\r\n\t\treturn Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\r\n\t};\r\n}\r\n","import { PixelHelper } from \"./pixel-helper\";\r\n\r\nexport class TrackballDrawerPlugin {\r\n\tstatic readonly ID = \"trackball\";\r\n\r\n\tget id(){\r\n\t\treturn TrackballDrawerPlugin.ID;\r\n\t}\r\n\r\n\tafterDatasetsDraw(chart, easing) {\r\n\t\t//console.log( \"trackball plugin\" )\r\n\t\treturn;\r\n\t\t\r\n\t\tconst context = chart.chart.ctx;\r\n\r\n\t\tconst scaleX = chart.scales['x-axis-0'];\r\n\t\t\r\n\t\t//const scaleYA = chart.scales[ \"A\" ];\r\n\t\tconst scaleYA = chart.scales[ \"y-axis-0\" ];\r\n\r\n\t\tvar pos = this.getMousePos( chart.canvas, chart.trackball );\r\n\r\n\t\tconsole.log( pos );\r\n\r\n\t\tconst shouldIgnore = \r\n\t\t\t( !chart.trackball ) ||\r\n\t\t\t( 0 == chart.data.datasets.length ) ||\r\n\t\t\t( pos.x < scaleX.left || pos.x > scaleX.right );\r\n\r\n\t\tif( shouldIgnore ){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst lw = 0.8;\r\n\t\tconst x = PixelHelper.alignPixel( chart, pos.x, lw )\r\n\t\tconst y1 = PixelHelper.alignPixel( chart, scaleYA.top, lw )\r\n\t\tconst y2 = PixelHelper.alignPixel( chart, scaleYA.bottom, lw )\r\n\r\n\t\tcontext.beginPath();\r\n\t\tcontext.strokeStyle = \"#880015\";\r\n\t\tcontext.lineWidth = lw;\r\n\t\tcontext.moveTo( x, y1 );\r\n\t\tcontext.lineTo( x, y2);\r\n\t\tcontext.stroke();\r\n\t}\r\n\r\n\tgetMousePos(canvas, evt) {\r\n\t\tif( !evt ){\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n    var rect = canvas.getBoundingClientRect();\r\n    return {\r\n      x: evt.clientX - rect.left,\r\n      y: evt.clientY - rect.top\r\n    };\r\n\t}\r\n\r\n}","import { DataSet, RGB } from '../../chart.m';\r\n\r\nexport class ColorHelper {\r\n\r\n\tprivate static palette = [\r\n\t\t\t\r\n\t\t\"7eb26d\",\r\n\t\t\"cca300\",\r\n\t\t\"6ed0e0\",\r\n\t\t\"EF843C\",\r\n\t\t\"E24D42\",\r\n\t\t\"1F78C1\",\r\n\t\t\"BA43A9\",\r\n\t\t\"705DA0\",\r\n\t\t\"508642\",\r\n\t\t\"CCA300\",\r\n\t\t\"447EBC\",\r\n\t\t\"C15C17\",\r\n\t\t\"890F02\",\r\n\t\t\"0A437C\",\r\n\t\t\"6D1F62\",\r\n\t\t\"584477\",\r\n\t\t\"B7DBAB\",\r\n\t\t\"F4D598\",\r\n\t\t\"70DBED\",\r\n\t\t\"F9BA8F\",\r\n\t\t\"F29191\",\r\n\t\t\"82B5D8\",\r\n\t\t\"E5A8E2\",\r\n\t\t\"AEA2E0\",\r\n\t\t\"629E51\",\r\n\t\t\"E5AC0E\",\r\n\t\t\"64B0C8\",\r\n\t\t\"E0752D\",\r\n\t\t\"BF1B00\",\r\n\t\t\"0A50A1\",\r\n\t\t\"962D82\",\r\n\t\t\"614D93\",\r\n\t\t\"9AC48A\",\r\n\t\t\"F2C96D\",\r\n\t\t\"65C5DB\",\r\n\t\t\"F9934E\",\r\n\t\t\"5195CE\",\r\n\t\t\"D683CE\",\r\n\t\t\"806EB7\",\r\n\t\t\"3F6833\",\r\n\t\t\"967302\",\r\n\t\t\"2F575E\",\r\n\t\t\"99440A\",\r\n\t\t\"58140C\",\r\n\t\t\"052B51\",\r\n\t\t\"511749\",\r\n\t\t\"3F2B5B\",\r\n\t\t\"E0F9D7\",\r\n\t\t\"FCEACA\",\r\n\t\t\"CFFAFF\",\r\n\t\t\"F9E2D2\",\r\n\t\t\"FCE2DE\",\r\n\t\t\"BADFF4\",\r\n\t\t\"F9D9F9\",\r\n\t\t\"DEDAF7\",\r\n\t\t\"EA6460\"\r\n\t]\r\n\r\n\tstatic getColor(ds: DataSet) {\r\n\t\tconst color = this.palette[ds.index % this.palette.length];\r\n\r\n\t\treturn this.hexToRgb(color);\r\n\t}\r\n\r\n\tstatic getColorAsArgbFunc(ds: DataSet, opacity: number = 1) {\r\n\t\tconst color = this.getColor(ds);\r\n\r\n\t\treturn `rgba(${color.r},${color.g},${color.b}, ${opacity})`\r\n\t}\r\n\r\n\tprivate static hexToRgb(hex: string) {\r\n\t\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\t\treturn result ? {\r\n\t\t\tr: parseInt(result[1], 16),\r\n\t\t\tg: parseInt(result[2], 16),\r\n\t\t\tb: parseInt(result[3], 16)\r\n\t\t} : null;\r\n\t}\r\n\r\n\tstatic parse(input: any): RGB {\r\n\t\tvar arr = [];\r\n\r\n\t\tif (input.substr(0,1)==\"#\") {\r\n\t\t\tvar collen=(input.length-1)/3;\r\n\t\t\tvar fact=[17,1,0.062272][collen-1];\r\n\t\t\tarr = [\r\n\t\t\t\t\tMath.round(parseInt(input.substr(1,collen),16)*fact),\r\n\t\t\t\t\tMath.round(parseInt(input.substr(1+collen,collen),16)*fact),\r\n\t\t\t\t\tMath.round(parseInt(input.substr(1+2*collen,collen),16)*fact)\r\n\t\t\t];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tarr =  input.split(\"(\")[1].split(\")\")[0].split(\",\").map(Math.round);\r\n\t\t} \r\n\r\n\t\treturn {\r\n\t\t\tr: arr[ 0 ],\r\n\t\t\tg: arr[ 1 ],\r\n\t\t\tb: arr[ 2 ]\r\n\t\t}\r\n\t\t\t\r\n\t}\r\n\r\n\tstatic rgbToHex( e:string ) : string{\r\n\t\tconst c = ColorHelper.parse( e )\r\n\t\tconst r = c.r.toString(16).padStart(2, \"0\");\r\n\t\tconst g = c.g.toString(16).padStart(2, \"0\");\r\n\t\tconst b = c.b.toString(16).padStart(2, \"0\");\r\n\r\n\t\treturn `#${r}${g}${b}`;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { Panel } from 'common';\r\nimport { DataSet, PANEL_TOKEN } from '../../chart.m';\r\nimport { ColorHelper } from './color-helper';\r\n\r\n@Injectable()\r\nexport class DisplayManager {\r\n\r\n\tprivate get display() {\r\n\t\treturn this.panel.widget.display;\r\n\t}\r\n\r\n\tconstructor ( @Inject( PANEL_TOKEN ) private panel: Panel ) {\r\n\r\n\t}\r\n\r\n\tsetup(ds: DataSet) {\r\n\t\t//this.setupSecondaryYAxis();\t\t\t\t\t\r\n\r\n\t\tthis.setupLines( ds );\r\n\t\tthis.setupPoints( ds );\r\n\t\tthis.setupNullValue( ds );\r\n\r\n\t\t//this.chart.options.scales.yAxes[ 0 ].stacked = this.chart.widget.display.stack;\r\n\t}\r\n\r\n\tprivate setupLines( ds: DataSet ) {\r\n\t\tconst showLines = this.getShowLines( ds );\r\n\t\tconst lineWidth = this.getLineWidth( ds );\r\n\t\tconst fill = this.getFill( ds );\r\n\r\n\t\tlet opacity = ( fill / 10);\r\n\t\tds.fill = (/*showLines &&*/ fill > 0);\r\n\t\tds.backgroundColor = this.getLineColor( ds, opacity );\r\n\r\n\t\topacity = (showLines && lineWidth) ? 1 : 0;\r\n\t\tds.borderColor = this.getLineColor( ds, opacity );\r\n\t\tds.borderWidth = lineWidth;\r\n\r\n\t\t ds.steppedLine = this.getStaircase( ds );\r\n\r\n\t\tif( this.getDashes( ds ) ){\r\n\t\t\tconst len = this.getDashLength( ds );\r\n\t\t\tconst space = this.getDashSpace( ds );\r\n\t\t\tds.borderDash = [ len, space ]\r\n\t\t}\r\n\t\telse{\r\n\t\t\tds.borderDash = undefined;\r\n\t\t}\r\n\r\n\t\tds.order = this.getZIndex( ds );\r\n\t\tds.legend = this.getLegend( ds );\r\n\r\n\t\t// ds.yAxisID = ( 1 == this.getYAxis( ds ) ) ? 'A': 'B';\r\n\t}\r\n\r\n\tprivate setupPoints( ds: DataSet ) {\r\n\t\tconst showPoints = this.getShowPoints( ds );\r\n\r\n\t\tconst opacity = showPoints ? 1 : 0\r\n\t\tconst color = this.getLineColor( ds, opacity );\r\n\r\n\t\tds.pointBorderColor = `${color}`;\r\n\t\tds.pointBackgroundColor = `${color}`;\r\n\r\n\t\tds.pointRadius = showPoints ? this.getPointRadius( ds ) : 0;\r\n\t}\r\n\r\n\tprivate setupNullValue( ds: DataSet ) {\r\n\t\tswitch (parseInt( this.display.nullValue )) {\r\n\t\t\t// case CartesianChart.NullValue.Connected:\r\n\t\t\t// \tthis.chart.options.spanGaps = true;\r\n\t\t\t// \tds.data.forEach( p => p.y = p.isNull ? null : p.y );\r\n\t\t\t// \tbreak;\r\n\r\n\t\t\t// case CartesianChart.NullValue.Null:\r\n\t\t\t// \tthis.chart.options.spanGaps = false;\r\n\t\t\t// \tds.data.forEach( p => p.y = p.isNull ? null : p.y );\r\n\t\t\t// \tbreak;\r\n\r\n\t\t\t// case CartesianChart.NullValue.NullAsZero:\r\n\t\t\t// \tthis.chart.options.spanGaps = false;\r\n\t\t\t// \tds.data.forEach( p => p.y = p.isNull ? 0 : p.y );\r\n\t\t\t// \tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate setupOverrides(){\r\n\t\t// const needSecondaryYAxis = AxesManager.needSecondaryYAxis( this.chart.widget );\r\n\r\n\t\t// const actualSecondaryYAxisUsers = this\r\n\t\t// \t.datasets\r\n\t\t// \t.filter( x => x.yAxisID == 'B' )\r\n\t\t// \t.length\r\n \r\n\t\t// const yAxesCount = this.chart.options.scales.yAxes.length;\r\n\t\t\r\n\t\t// if( 2 == yAxesCount && !needSecondaryYAxis ){\r\n\t\t// \tthis.chart.options.scales.yAxes.splice( 1, 1 );\r\n\t\t// } else if( /*1 == yAxesCount && needSecondaryYAxis*/ actualSecondaryYAxisUsers != needSecondaryYAxis ){\r\n\t\t// \tthis.chart.destroy();\r\n\t\t// \tthis.chart.needRebuild.emit();\r\n\t\t// \tthis.chart = undefined;\r\n\t\t// \treturn;\r\n\t\t// }\r\n\r\n\t\t// this.datasets.forEach(x => this.setup(x));\r\n\t}\r\n\r\n\tgetShowLines(ds: DataSet): boolean{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.lines ) ? o.lines : this.display.showLines;\r\n\t}\r\n\t\r\n\tgetLineWidth(ds: DataSet): number{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.lineWidth ) ? o.lineWidth : this.display.lineWidth;\r\n\t}\r\n\r\n\tgetLineColor(ds: DataSet, opacity: number) : string{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\tconst defaultColor = ColorHelper.getColorAsArgbFunc(ds, opacity)\r\n\r\n\t\tconst useOverride = ( o && undefined != o.color )\r\n\t\tlet overrideColor: string;\r\n\r\n\t\tif( useOverride ){\r\n\t\t\tvar color = ColorHelper.parse( o.color );\r\n\t\t\toverrideColor = `rgba(${color.r},${color.g},${color.b},${opacity})`\r\n\t\t}\r\n\r\n\t\treturn ( useOverride ) ? overrideColor : defaultColor;\r\n\t}\r\n\r\n\tgetFill( ds: DataSet ): number{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.lineFill ) ? o.lineFill : this.display.fill;\r\n\t}\r\n\r\n\tgetStaircase( ds: DataSet ): boolean{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.staircase ) ? o.staircase : this.display.staircase;\r\n\t}\r\n\r\n\tgetDashes( ds: DataSet ){\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.dashes ) ? o.dashes : false;\r\n\t}\r\n\r\n\tgetDashLength( ds: DataSet ): number{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.dashLength ) ? o.dashLength : 1;\r\n\t}\r\n\r\n\tgetDashSpace( ds: DataSet ): number{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.dashSpace ) ? o.dashSpace : 1;\r\n\t}\r\n\r\n\tgetShowPoints( ds: DataSet ) : boolean {\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.points ) ? o.points : this.display.showPoints;\r\n\t}\r\n\r\n\tgetPointRadius( ds: DataSet ) : number{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.pointRadius ) ? o.pointRadius : this.display.pointRadius;\r\n\t}\r\n\r\n\tgetLegend( ds: DataSet ) : boolean{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.legend ) ? o.legend : true;\r\n\t}\r\n\r\n\tgetZIndex( ds: DataSet ): number{\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.zIndex ) ? o.zIndex : 0;\r\n\t}\r\n\r\n\tgetYAxis( ds: DataSet ){\r\n\t\tconst o = this.getOverride( ds );\r\n\r\n\t\treturn ( o && undefined != o.yAxis ) ? o.yAxis : 1;\r\n\t}\r\n\r\n\tgetOverride( ds: DataSet ){\r\n\t\treturn this\r\n\t\t\t.display\r\n\t\t\t.overrides\r\n\t\t\t.find( x => x.alias && new RegExp( x.alias ).test( ds.label )  )\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Injectable } from '@angular/core';\r\nimport { Moment, Series } from 'common';\r\nimport { DataSet } from '../../chart.m';\r\nimport { DisplayManager } from '../render/display-manager';\r\n\r\n@Injectable()\r\nexport class DataConverter {\r\n\r\n\tconstructor( private dispay: DisplayManager ){\r\n\t\t\r\n\t}\r\n\t\r\n\ttoDataSets(data: Series[]) : DataSet[] {\r\n\t\tif (!data || 0 === data.length) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\tlet dataSets = [];\r\n\t\tlet totalIndex = 0;\r\n\r\n\t\tdata.forEach(serie => {\r\n\t\t\tconst columns = serie.columns.slice(1);\r\n\r\n\t\t\tconst arr = [...columns.map((el, index) =>\r\n\t\t\t\tthis.toDataSet(serie, index + 1, totalIndex++))]\r\n\t\t\t\t.filter(x => x);\r\n\r\n\t\t\tdataSets = [...dataSets, ...arr];\r\n\r\n\t\t\tdataSets.forEach( x => this.dispay.setup( x ) )\r\n\t\t});\r\n\r\n\t\t\r\n\t\t//this.chart.widget.error = undefined;\r\n\t\treturn dataSets;\r\n\t}\r\n\r\n\tprivate toDataSet(serie: Series, index: number, totalIndex:number) : DataSet {\r\n\t\tconst values = serie\r\n\t\t\t.values\r\n\t\t\t.map(x => {\r\n\t\t\t\tconst isNull = (null == x[index]);\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: Moment.valueOf( x[0] ),\r\n\t\t\t\t\ty: (isNull) ? x[index] : x[index],\r\n\t\t\t\t\tisNull: isNull\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\tconst filteredValues = values\r\n\t\t\t.map(p => p.y)\r\n\t\t\t.filter(p => null != p)\r\n\t\t\t.map(p => parseFloat(p));\r\n\r\n\t\tif (0 == filteredValues.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst avg = (filteredValues.reduce((a, b) => a + b) / filteredValues.length)\r\n\r\n\t\tconst allNulls = filteredValues.every(x => x == null);\r\n\t\tconst allZeros = filteredValues.every(x => x == 0);\r\n\r\n\t\tconst ds = {\r\n\t\t\tlabel: this.generateDataSetName(serie, index),\r\n\t\t\tdata: values,\r\n\t\t\tlineTension: 0,\r\n\t\t\tmin: Math.min(...filteredValues),\r\n\t\t\tmax: Math.max(...filteredValues),\r\n\t\t\tavg: avg,\r\n\t\t\tcurrent: filteredValues.slice(-1)[0],\r\n\t\t\tallNulls: allNulls,\r\n\t\t\tallZeros: allZeros,\r\n\t\t\tindex: totalIndex,\r\n\t\t\tpointRadius:0,\r\n\t\t\tborderColor: \"#ff0000\"\r\n\t\t\t//widget: this.chart.widget,\r\n\t\t}\r\n\r\n\t\t//ds.borderColor = new ColorHelper().getColorAsArgbFunc( ds, 1 );\r\n\t\t//console.log( ds.borderColor );\r\n\r\n\t\t//this.display.setup(ds);\r\n\r\n\t\treturn ds;\r\n\t}\r\n\r\n\tprivate generateDataSetName( serie: Series, index: number ): string{\r\n\t\tlet root = `${serie.name}.${serie.columns[ index ]}`;\r\n\r\n\t\tlet tags = '';\r\n\t\tvar keys = Object.keys(serie.tags);\r\n\t\tvar keyIndex = 0;\r\n\r\n\t\tfor(var key in serie.tags){\r\n\t\t\ttags += `${keyIndex > 0 ? ', ': ''}${key}: ${serie.tags[ key ]}` ;\r\n\t\t\tkeyIndex++\r\n\t\t}\r\n\r\n\t\t// serie.tags.forEach( ( t, index ) => tags = `${tags}${index > 0 ? ',': ''} tag` )\r\n\r\n\t\tif( tags ){\r\n\t\t\troot = `${root} {${tags}}`;\r\n\t\t}\r\n\r\n\t\treturn root;\r\n\t}\r\n}","import { EventEmitter, Inject, Injectable, Injector } from \"@angular/core\";\r\nimport { Subscription } from \"rxjs\";\r\nimport { finalize, mergeMap, tap } from 'rxjs/operators';\r\nimport { Panel, TimeRangeStore, PluginLoader, PluginStore,\r\n\tDataSourceService, Plugin, PluginActivator, MetricsBuilder } from 'common';\r\nimport { DataConverter } from './data-converter';\r\nimport { ChartData, PANEL_TOKEN } from '../../chart.m';\r\n\r\n@Injectable()\r\nexport class DataProvider {\r\n\trequest: string;\r\n\ttimeSubs: Subscription;\r\n\r\n\tdata$ = new EventEmitter<ChartData>();\r\n\r\n\tget metrics(){\r\n\t\treturn this.panel?.widget?.metrics;\r\n\t}\r\n\r\n\tconstructor (\r\n\t\tprivate pluginActivator: PluginActivator,\r\n\t\tprivate dsService: DataSourceService,\r\n\t\tprivate converter: DataConverter,\r\n\t\tprivate time: TimeRangeStore,\r\n\t\t@Inject( PANEL_TOKEN ) private panel: Panel ) {\r\n\r\n\t\t\tthis.timeSubs = this\r\n\t\t\t\t.time\r\n\t\t\t\t.range$\r\n\t\t\t\t.pipe(\r\n\t\t\t\t\ttap( _ => this.request = '' ),\r\n\t\t\t\t\tmergeMap( _ => this.pluginActivator.createDataSourceMetricsBuilder( panel ) ),\r\n\t\t\t\t\tmergeMap( mb=> mb.build( this.metrics, time.range )))\r\n\t\t\t\t.subscribe( x => this.pull( <string>x ));\r\n\t}\r\n\r\n\tdestroy(){\r\n\t\tthis.timeSubs?.unsubscribe();\r\n\t}\r\n\r\n\tprivate pull( request: string){\r\n\t\tif (this.request === request) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.request = request;\r\n\r\n\t\tconsole.log( `pull: ${request}` );\r\n\t\t\r\n\t\tif (!request) {\r\n\t\t\tthis.onData([])\r\n\t\t} else {\r\n\t\t\tthis.panel.loading = true;\r\n\r\n\t\t\tthis\r\n\t\t\t\t.dsService\r\n\t\t\t\t.proxy( 6, request)\r\n\t\t\t\t.pipe(\r\n\t\t\t\t\tfinalize(() => this.panel.loading = false ))\r\n\t\t\t\t.subscribe(\r\n\t\t\t\t\tx => this.onData( x ),\r\n\t\t\t\t\te => this.onError( e.error ));\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onData( x ){\r\n\t\tthis.data$.emit( {\r\n\t\t\tdatasets: this.converter.toDataSets( x )\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate onError(err) {\r\n\t\t// \tthis.chart.data.datasets = []\r\n\t\t//  this.chart.update();\r\n\t\t//  this.chart.widget.error = err.details;\r\n\t}\r\n}","import { Moment } from 'common';\r\nimport { ChartComponent } from '../../chart.c';\r\nimport { AxisUnitHelper } from '../axes/unit-helper';\r\nimport { ColorHelper } from '../render/color-helper';\r\n\r\ndeclare var Chart: any;\r\ndeclare var $: any;\r\n\r\nexport class TooltipBuilder {\r\n\r\n\tstatic readonly ID = \"chartjs-tooltip\";\r\n\tstatic readonly TOOLTIP_SELECTOR = \"ed-tooltip\";\r\n\t\r\n\r\n\tstatic build( comp: ChartComponent ){\r\n\t\tChart.Tooltip.positioners.custom = function (elements, eventPosition) {\r\n\t\t\t/** @type {Chart.Tooltip} */\r\n\t\t\tvar tooltip = this;\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: eventPosition.x,\r\n\t\t\t\ty: eventPosition.y\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\tmode: 'index',\r\n\t\t\tposition: \"custom\",\r\n\t\t\taxis: 'x',\r\n\t\t\tintersect: false,\r\n\t\t\tcaretSize: 0,\r\n\t\t\txPadding: 10,\r\n\t\t\tbodySpacing: 5,\r\n\t\t\ttitleAlign: 'right',\r\n\t\t\tenabled: false,\r\n\t\t\tcustom: ( model ) => TooltipBuilder.create(model, comp)\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static create( tooltipModel, comp: ChartComponent ){\r\n\t\t\r\n\t\tvar tooltipEl = TooltipBuilder.getRootElement();\r\n\t\t\r\n\t\t// Hide if no tooltip\r\n\t\tif( tooltipModel.opacity === 0 /*|| chart.showAnnotView*/ ) {\r\n\t\t\ttooltipEl.style.opacity = '0';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttooltipEl.classList.remove('above', 'below', 'no-transform');\r\n\t\t\r\n\t\tif (tooltipModel.yAlign) {\r\n\t\t\t\ttooltipEl.classList.add(tooltipModel.yAlign);\r\n\t\t} else {\r\n\t\t\t\ttooltipEl.classList.add('no-transform');\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tif (tooltipModel.body) {\r\n\t\t\tTooltipBuilder.createBody( tooltipModel, comp, tooltipEl );\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t\tTooltipBuilder.setPosition(tooltipModel, comp, tooltipEl );\r\n\r\n\t\t\r\n\t}\r\n\r\n\tprivate static setPosition(tooltipModel, comp: ChartComponent, tooltipEl){\r\n\t\t\r\n\t\tconst chart = comp.control.chart;\r\n\r\n\t\tvar position = chart\r\n\t\t\t.canvas\r\n\t\t\t.getBoundingClientRect();\r\n\r\n\t\tconst elWidth = document\r\n\t\t\t.getElementsByClassName(TooltipBuilder.TOOLTIP_SELECTOR)[ 0 ]\r\n\t\t\t.getBoundingClientRect()\r\n\t\t\t.width;\r\n\r\n\t\tconst negMargin = ( tooltipModel.caretX + elWidth > position.width ) ?\r\n\t\t\telWidth +  2 * tooltipModel.xPadding : 0;\r\n\t\t\r\n\t\ttooltipEl.style.opacity = '1';\r\n\t\ttooltipEl.style.position = 'absolute';\r\n\t\ttooltipEl.style.left = position.left + window.pageXOffset + tooltipModel.caretX - negMargin + 'px';\r\n\t\ttooltipEl.style.top = position.top + window.pageYOffset + tooltipModel.caretY + 'px';\r\n\t\ttooltipEl.style.fontFamily = tooltipModel._bodyFontFamily;\r\n\t\ttooltipEl.style.padding = tooltipModel.yPadding + 'px ' + tooltipModel.xPadding + 'px';\r\n\t\ttooltipEl.style.pointerEvents = 'none';\r\n\t}\r\n\r\n\tprivate static createBody( tooltipModel, comp: ChartComponent, tooltipEl ){\r\n\t\tconst chart = comp.control.chart;\r\n\r\n\t\tvar titleLines = tooltipModel.title || [];\r\n\t\tvar innerHtml = '';\r\n\r\n\t\ttitleLines.forEach(function(title) {\r\n\t\t\tconst date = Date.parse( title );\r\n\t\t\tconst time = Moment.format ( date );\r\n\t\t\tinnerHtml += `<div class=\"graph-tooltip-time\">${time}</div>`\r\n\t\t});\r\n\r\n\t\tconst parsedBodyLines = TooltipBuilder.sort( tooltipModel, chart );\r\n\r\n\t\tparsedBodyLines.forEach(function(body, i) {\r\n\t\t\tconst { seriesName, value, colorFunc } = body;\r\n\r\n\t\t\tlet seriesNameEl = `\r\n\t\t\t\t<div class=\"graph-tooltip-series-name\">\r\n\t\t\t\t\t<i class=\"fa fa-minus\" style=\"color:${colorFunc};\"></i> ${seriesName}:\r\n\t\t\t\t</div>`\r\n\r\n\t\t\tconst w = comp.store.panel.widget;\r\n\r\n\t\t\tconst ds = chart\r\n\t\t\t\t.data\r\n\t\t\t\t.datasets\r\n\t\t\t\t.find( x => x.label == seriesName );\r\n\r\n\t\t\tconst axis =  ( ds.yAxisID == 'A' ) ?\tw.axes.leftY : w.axes.rightY;\r\n\r\n\t\t\tconst decimals = w.legend.decimals ? w.legend.decimals : 1;\r\n\r\n\t\t\tconst resValue = AxisUnitHelper.getFormattedValue( value, axis.unit, decimals )\r\n\r\n\t\t\tlet valueEl = `<div class=\"graph-tooltip-value \">${resValue}</div>`;\r\n\r\n\t\t\tlet item = `\r\n\t\t\t\t<div class=\"graph-tooltip-list-item\">\r\n\t\t\t\t\t${seriesNameEl}\r\n\t\t\t\t\t${valueEl}\r\n\t\t\t\t</div>`\r\n\r\n\t\t\tinnerHtml += item;\r\n\t\t});\r\n\r\n\t\tvar tableRoot = tooltipEl.querySelector(`.${TooltipBuilder.TOOLTIP_SELECTOR}`);\r\n\t\ttableRoot.innerHTML = innerHtml;\r\n\t}\r\n\r\n\tprivate static sort( tooltipModel, chart ) : Array<any>{\r\n\t\tfunction getBody(bodyItem) {\r\n\t\t\treturn bodyItem.lines;\r\n\t\t}\r\n\r\n\t\tvar bodyLines = tooltipModel.body.map(getBody);\r\n\r\n\t\t// const sortOrder = +chart\r\n\t\t// \t.widget\r\n\t\t// \t.display\r\n\t\t// \t.tooltipSortOrder;\r\n\r\n\t\tconst parsedBodyLines = [];\r\n\t\t\r\n\t\tbodyLines.forEach(function(body, i) {\r\n\t\t\tvar colors = tooltipModel.labelColors[ i ];\r\n\t\t\tvar color = ColorHelper.parse( colors.backgroundColor);\r\n\t\t\tvar colorFunc = `rgba(${color.r},${color.g},${color.b},1)`\r\n\r\n\t\t\tlet index = body[ 0 ].lastIndexOf( ':' );\r\n\t\t\tconst seriesName = body[ 0 ].substring( 0, index );\r\n\t\t\tconst value = parseFloat(tooltipModel.dataPoints[ i ].value);\r\n\t\t\tparsedBodyLines.push( {seriesName, value, colorFunc} );\r\n\t\t});\r\n\r\n\t\t// switch( sortOrder ){\r\n\t\t// \t// case CartesianChart.TooltipSortOrder.Increasing:\r\n\t\t// \t// \tparsedBodyLines.sort( (a, b) => a.value - b.value);\r\n\t\t// \t// \tbreak;\r\n\r\n\t\t// \t// case CartesianChart.TooltipSortOrder.Decreasing:\r\n\t\t// \t// \tparsedBodyLines.sort( (a, b) => b.value - a.value);\r\n\t\t// \t// \tbreak;\r\n\t\t// }\r\n\r\n\t\treturn parsedBodyLines;\r\n\t}\r\n\r\n\tprivate static getRootElement(){\r\n\t\tvar tooltipEl = document.getElementById(TooltipBuilder.ID);\r\n\r\n\t\t\t// Create element on first render\r\n\t\tif(!tooltipEl) {\r\n\t\t\ttooltipEl = document.createElement('div');\r\n\t\t\ttooltipEl.id = TooltipBuilder.ID;\r\n\r\n\t\t\ttooltipEl.innerHTML = `<div class='graph-tooltip grafana-tooltip ${TooltipBuilder.TOOLTIP_SELECTOR}'></div>`;\r\n\r\n\t\t\tdocument.body.appendChild(tooltipEl);\r\n\t\t}\r\n\r\n\t\treturn tooltipEl;\r\n\t}\r\n}\r\n\r\n\r\n","import { ChartComponent } from '../chart.c';\r\nimport { Chart, ScaleType } from '../chart.m';\r\nimport { AxisUnitHelper } from './axes/unit-helper';\r\nimport { TooltipBuilder } from './extensions/tooltip-builder';\r\n\r\ndeclare var Chart: any;\r\n\r\nexport class OptionsProvider{\r\n\t\r\n\tstatic readonly AXIS_X = \"xAxis\";\r\n\tstatic readonly AXIS_Y_LEFT = \"yAxisL\";\r\n\tstatic readonly AXIS_Y_RIGHT = \"yAxisR\";\r\n\r\n\tstatic getOptions( comp: ChartComponent ){\r\n\t\tChart.defaults.global.defaultFontColor = '#e3e3e3';\r\n\t\tChart.defaults.global.defaultFontFamily = 'Roboto';\r\n\t\tChart.defaults.global.defaultFontSize = 11;\r\n\r\n\t\tconst w = comp.widget;\r\n\r\n\t\treturn {\r\n\t\t\tmaintainAspectRatio: false,\r\n\t\t\tanimation: false,\r\n\r\n\t\t\ttooltips: TooltipBuilder.build( comp ),\r\n\r\n\t\t\tlegend: {\r\n\t\t\t\tdisplay: false\r\n\t\t\t},\r\n\t\r\n\t\t\tspanGaps: true,\r\n\r\n\t\t\tscales: {\r\n\t\t\t\txAxes: [this.getAxisX( w )],\r\n\t\t\t\tyAxes: [ this.getAxisY( w, true ), this.getAxisY( w, false )] \r\n\t\t\t\t/*!AxesManager.needSecondaryYAxis(widget) true ? [axisYa] : [axisYa, axisYb]\t\t\t\t*/\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tprivate static getAxisX( w: Chart ){\r\n\t\treturn {\r\n\t\t\ttype: 'time',\r\n\t\t\tgridLines: {\r\n\t\t\t\tcolor: 'rgba( 255,255,255, 0.1)',\r\n\t\t\t},\r\n\t\t\tticks: {\r\n\t\t\t\tautoSkip: true,\r\n\t\t\t\tautoSkipPadding: 50,\r\n\t\t\t\tmaxRotation: 0,\r\n\t\t\t\tminRotation: 0,\r\n\t\t\t},\r\n\t\t\ttime: {\r\n\t\t\t\tdisplayFormats: {\r\n\t\t\t\t\tsecond: 'HH:mm:ss',\r\n\t\t\t\t\tminute: 'HH:mm',\r\n\t\t\t\t\thour: 'HH:mm',\r\n\t\t\t\t\tday: 'M/D HH:mm',\r\n\t\t\t\t\tweek: 'M/D',\r\n\t\t\t\t\tmonth: 'M/D',\r\n\t\t\t\t\tyear: 'YYYY-M',\r\n\t\t\t\t },\r\n\t\t\t},\r\n\t\t\tdisplay: w.axes.x.show\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static getAxisY(w: Chart, left: boolean){\r\n\t\tconst wAxis = left ? w.axes.leftY : w.axes.rightY;\r\n\t\tconst id = left ? this.AXIS_Y_LEFT : this.AXIS_Y_RIGHT;\r\n\t\tconsole.log(  )\r\n\r\n\t\tconst axis = {\r\n\t\t\tid: id,\r\n\t\t\tdisplay: wAxis.show,\r\n\t\t\ttype: ( !wAxis.scale || wAxis.scale == ScaleType.Linear ) ? \"linear\" : \"logarithmic\",\r\n\t\t\tgridLines: {\r\n\t\t\t\tcolor: 'rgba( 255,255,255, 0.1)',\r\n\t\t\t\tzeroLineWidth: 3,\r\n\t\t\t},\r\n\t\t\tposition: left ? \"left\" : \"right\",\r\n\t\t\tscaleLabel:{\r\n\t\t\t\tdisplay: wAxis.label,\r\n\t\t\t\tlabelString: wAxis.label,\r\n\t\t\t},\r\n\t\t\tticks:{\r\n\t\t\t\tmin: wAxis.min,\r\n\t\t\t\tmax: wAxis.max,\r\n\t\t\t\tuserCallback: (label, index, labels) => {\r\n\t\t\t\t\tif( labels.length > 8 && !( index % 2 ) ){\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn AxisUnitHelper.getFormattedValue( label, wAxis.unit, wAxis.decimals );\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t\treturn axis;\r\n\t}\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\nimport { Panel, PANEL_TOKEN } from 'common';\nimport { UIChart } from 'primeng';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { Chart, DataSet } from '../chart.m';\nimport { DataProvider } from '../view/data/data-provider';\nimport { DisplayManager } from '../view/render/display-manager';\n\n@Injectable()\nexport class ChartStore {\n\n\tprivate widget: BehaviorSubject<Chart> = new BehaviorSubject(null);\n\treadonly widget$: Observable<Chart> = this.widget.asObservable();\n\t\n\tprivate data: BehaviorSubject<DataSet[]> = new BehaviorSubject(null);\n\treadonly data$: Observable<DataSet[]> = this.data.asObservable();\n\t\n\tprivate control_: BehaviorSubject<UIChart> = new BehaviorSubject(null);\n\treadonly control$: Observable<UIChart> = this.control_.asObservable();\n\n\tget control() : UIChart{\n\t\treturn this.control_.value; \n\t}\n\n\tset control( ctrl: UIChart ){\n\t\tthis.widget.value.control = ctrl;\n\t\tthis.control_.next( ctrl );\n\t}\n\n\tconstructor( \n\t\tpublic dataProvider: DataProvider,\n\t\tpublic display: DisplayManager,\n\t\t@Inject( PANEL_TOKEN ) public panel: Panel ){\n\n\t\t\tdataProvider\n\t\t\t\t.data$\n\t\t\t\t.subscribe( x => this.data.next( x?.datasets ?? [] ) );\n\n\t\t\tthis.widget.next( panel.widget );\n\t}\n\n\tdestroy(){\n\t\tthis.dataProvider.destroy();\n\t\tthis.widget.value.control = undefined;\n\t}\n}\n","import { Directive } from '@angular/core';\nimport { UIChart } from 'primeng';\nimport { Subscription } from 'rxjs';\nimport { Chart, ChartData, DataSet } from '../chart.m';\nimport { ChartStore } from './chart.store';\n\n@Directive() \nexport class BaseChartComponent {\n  data: ChartData;\n  widget: Chart;\n  control: UIChart;\n\n  get datasets():DataSet[]{\n    return this.data?.datasets;\n  }\n\n  dataSubs: Subscription;\n  widgetSubs: Subscription;\n  ctrlSubs: Subscription;\n\n  get display(){\n    return this.store.display;\n  }\n\n\tconstructor( public store: ChartStore ){\n\n    this.dataSubs = store\n      .data$\n      .subscribe( x => this.data = { \n        datasets: x\n      } );\n\n    this.widgetSubs = store\n      .widget$\n      .subscribe( x => {\n        this.widget = x;\n\n        if( x ){\n          this.onWidgetReady();\n        }\n       } );\n\n    this.ctrlSubs = store\n      .control$\n      .subscribe( x => {\n        this.control = x;\n\n        if( x ){\n          this.onControlReady();\n        }\n      } );\n  }\n\n  onWidgetReady(){\n\n  }\n\n  onControlReady(){\n\n  }\n  \n  ngOnDestroy(){\n    this.dataSubs?.unsubscribe();\n    this.widgetSubs?.unsubscribe();\n    this.ctrlSubs?.unsubscribe();\n  }\n}\n","<div class=\"legend__top-wrapper\">\n\n\t<div *ngIf=\"!legend.table; else legendAsTable\" class=\"legend__bottom\"    >\n\t\t<perfect-scrollbar>\n\t\t\t\t\n\t\t\t<div class=\"legend__scroller-cont\"  >\n\n\t\t\t\t<div class=\"legend__series-wrapper\" [@fadeInOut] *ngIf=\"datasets?.length\"  >\n\t\t\t\t\t<div *ngFor=\"let ds of datasets\" class=\"legend__series\"\n\t\t\t\t\t (click)=\"onSeriesClicked(ds, $event)\" [ngClass]=\"{'hidden': ds.hidden }\">\n\n            <div class=\"legend__icon\" [style.color]=\"color( ds )\">\n              <i class=\"fa fa-minus pointer\" ></i>\n            </div>\n              \n            <a class=\"legend__alias pointer\" [title]=\"ds.label\">{{ds.label}}</a>\n\n            <div class=\"legend__value min\" *ngIf=\"legend.min\">{{min(ds)}}</div>\n\n            <div class=\"legend__value max\" *ngIf=\"legend.max\">{{max(ds)}}</div>\n\n            <div class=\"legend__value avg\" *ngIf=\"legend.avg\">{{avg(ds)}}</div>\n\n\t\t\t\t\t\t<div class=\"legend__value current\" *ngIf=\"legend.current\">{{current(ds)}}</div>\n\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"legend__scroller-padding\"></div>\n\t\t\t</div>\n\n\t\t</perfect-scrollbar>\n  </div>\n  \n  <ng-template #legendAsTable>\n\t\t\n    <div class=\"legend__bottom-table\" > \n\t\t\t<perfect-scrollbar>\n\n\t\t\t\t<div class=\"legend__scroller-cont\" [@fadeInOut] *ngIf=\"datasets?.length\">\n\n\t\t\t\t\t<div class=\"legend__series-wrapper legend__full-width\">\n\t\t\t\t\t\t<table class=\"legend__full-width\">\n\t\t\t\t\t\t\t<colgroup>\n\t\t\t\t\t\t\t\t<col class=\"legend__full-width\">\n\t\t\t\t\t\t\t</colgroup>\n\n\t\t\t\t\t\t\t<thead *ngIf=\"datasets && datasets.length > 0\">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th style=\"text-align: left;\"></th>\n\t\t\t\t\t\t\t\t\t<th class=\"pointer\" *ngIf=\"legend.min\">min</th>\n\t\t\t\t\t\t\t\t\t<th class=\"pointer\" *ngIf=\"legend.max\">max</th>\n\t\t\t\t\t\t\t\t\t<th class=\"pointer\" *ngIf=\"legend.avg\">avg</th>\n\t\t\t\t\t\t\t\t\t<th class=\"pointer\" *ngIf=\"legend.current\">current</th>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr *ngFor=\"let ds of datasets\" class=\"legend__series\" [ngClass]=\"{'hidden': ds.hidden }\">\n\n\t\t\t\t\t\t\t\t\t<td (click)=\"onSeriesClicked(ds, $event)\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"legend__icon\" [style.color]=\"color(ds)\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-minus pointer\" ></i>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<div class=\"legend__alias pointer\" [title]=\"ds.label\">{{ds.label}}</div>\n\t\t\t\t\t\t\t\t\t</td>\n\n\t\t\t\t\t\t\t\t\t<td class=\"legend__value\" *ngIf=\"legend.min\">{{min(ds)}}</td>\n\n\t\t\t\t\t\t\t\t\t<td class=\"legend__value\" *ngIf=\"legend.max\">{{max(ds)}}</td>\n\n\t\t\t\t\t\t\t\t\t<td class=\"legend__value\" *ngIf=\"legend.avg\">{{avg(ds)}}</td>\n\n\t\t\t\t\t\t\t\t\t<td class=\"legend__value\" *ngIf=\"legend.current\">{{current(ds)}}</td>\n\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"legend__scroller-padding\"></div>\n\n\t\t\t\t</div>\n\t\t\t</perfect-scrollbar>\n\t\t</div>\n  </ng-template>\n\n</div>","import { Component, ViewEncapsulation } from '@angular/core';\nimport { FadeInOutAnimation } from 'uilib';\nimport { BaseChartComponent } from '../../base/chart-base';\nimport { ChartStore } from '../../base/chart.store';\nimport { DataSet } from '../../chart.m';\nimport { AxisUnitHelper } from '../axes/unit-helper';\n\n@Component({\n  selector: 'chart-legend',\n  templateUrl: './legend.html',\n  styleUrls:[ './legend.scss' ],\n\tanimations: [FadeInOutAnimation],\n\tencapsulation: ViewEncapsulation.None,\n})\nexport class ChartLegendComponent extends BaseChartComponent {\n\n  get legend(){\n    return this.widget.legend;\n  }\n\n  constructor( store: ChartStore ) {\n    super( store );\n  }\n\n  axis( ds: DataSet ){\n    const x = (<any>this.widget).axes\n    //return ( ds.yAxisID == 'A' ) ?x.leftY :x.rightY\n    return x.leftY;\n  }\n  \n  decimals( ds: DataSet ){\n\t\treturn this.legend.decimals ? this.legend.decimals : 0;\n\t}\n\n  unit( ds: DataSet ){\n\t\treturn this.axis( ds ).unit;\n  }\n  \n  color( ds: DataSet ){\n    return this\n\t\t  .display\n\t\t\t.getLineColor( ds, 1 );\n\t}\n\n  min( ds: DataSet ){\n\t\treturn AxisUnitHelper.getFormattedValue( ds.min, this.unit( ds ), this.decimals( ds ) )\n\t}\n\n\tmax( ds: DataSet ){\n\t\treturn AxisUnitHelper.getFormattedValue( ds.max,\tthis.unit( ds ), this.decimals( ds ) )\n\t}\n\n\tavg( ds: DataSet ){\n\t\treturn AxisUnitHelper.getFormattedValue( ds.avg, this.unit( ds ), this.decimals( ds ) )\n\t}\n\n\tcurrent( ds: DataSet ){\n\t\treturn AxisUnitHelper.getFormattedValue( ds.current, this.unit( ds ), this.decimals( ds ) )\n\t}\n\n\n  onSeriesClicked( ds: DataSet, e: any ){\n    if( e.ctrlKey ){\n\t\t\tconst selected = ( false == ds.selected );\n\n\t\t\tthis.toggleSeries( ds, selected );\n\t\t} else{\n\t\t\tconst selected = ( ( undefined === ds.selected ) || false == ds.selected ) ?\n\t\t\t\ttrue : undefined;\n\n\t\t\tthis.toggleSeries( ds, selected );\n\t\n\t\t\tthis\n\t\t\t\t.datasets\n\t\t\t\t.filter( x => x != ds )\n\t\t\t\t.forEach( x => this.toggleSeries( x,  true == selected ? false : undefined ) );\n\t\t}\n\t\n\t\tthis.control.refresh();\n\t\tthis.control.reinit();\n  }\n\n  toggleSeries( ds: DataSet, selected: boolean ){\n\t\tds.selected = selected;\n\n\t\tif( undefined === selected ){\n\t\t\tdelete ds.hidden;\n\t\t\tdelete ds.selected;\n\t\t} else {\n\t\t\tds.hidden = !selected;\n\t\t}\n\t}\n  \n}\n","<div class=\"chart__wrapper\">\n\n  <div class=\"chart__right-legend-cont\">\n\n    <div class=\"chart__canvas-cont\">\n      <p-chart \n        type=\"line\"\n        [data]=\"data\"\n        [options]=\"options\"\n        [plugins]=\"plugins\"\n        height=\"100%\" #chart>\n      </p-chart>\n    </div>\n\n    <chart-legend *ngIf=\"legend.show && legend?.right\" class=\"chart__legend-right\"></chart-legend>\n    \n  </div>\n\n  <chart-legend *ngIf=\"legend.show && !legend?.right\" class=\"chart__legend-bottom\"></chart-legend>\n\n</div>\n\n","import { Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { TrackballDrawerPlugin } from './view/extensions/trackball-drawer';\nimport { DataProvider } from './view/data/data-provider';\nimport { OptionsProvider } from './view/options-provider';\nimport { DataConverter } from './view/data/data-converter';\nimport { DisplayManager } from './view/render/display-manager';\nimport { ChartStore } from './base/chart.store';\nimport { UIChart } from 'primeng';\nimport { BaseChartComponent } from './base/chart-base';\n\n@Component({\n  selector: 'widget',\n  templateUrl:'./chart.html',\n  styleUrls: ['./chart.scss'],\n  encapsulation: ViewEncapsulation.None,\n  providers:[\n    DataProvider,\n    DataConverter,\n    DisplayManager,\n    ChartStore\n  ]\n})\nexport class ChartComponent extends BaseChartComponent {\n  \n  options: any;\n  plugins = [ new TrackballDrawerPlugin() ]\n  @ViewChild( UIChart ) private ctrlChart;\n\n  get legend(){\n    return this.widget?.legend;\n  }\n\n  constructor( store: ChartStore ) {\n    super( store )\n\n    this.options = OptionsProvider.getOptions( this );\n  }\n\n  ngAfterViewInit(){\n    this.store.control = this.ctrlChart;\n  }\n\n  ngOnDestroy(){\n    this.store.destroy();\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { EdCommonModule } from 'common';\nimport { PerfectScrollbarModule } from 'ngx-perfect-scrollbar';\nimport { ChartModule } from 'primeng';\nimport { EdUilibModule } from 'uilib';\nimport { ChartComponent } from './chart.c';\nimport { AxesEditorComponent } from './edit/axes/axes';\nimport { AxisXEditorComponent } from './edit/axes/x-axis/x-axis';\nimport { AxisYEditorComponent } from './edit/axes/y-axis/y-axis';\nimport { ChartEditorComponent } from './edit/editor';\nimport { GeneralEditorComponent } from './edit/general/general';\nimport { LegendEditorComponent } from './edit/legend/legend';\nimport { MetricsEditorComponent } from './edit/metrics/metrics';\nimport { ChartLegendComponent } from './view/legend/legend';\n\n@NgModule({\n  declarations: [\n    ChartComponent,\n    ChartEditorComponent,\n\n    ChartLegendComponent,\n\n    AxesEditorComponent,\n    AxisXEditorComponent,\n    AxisYEditorComponent,\n\n    GeneralEditorComponent,\n    MetricsEditorComponent,\n    \n    LegendEditorComponent,\n\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    ChartModule,\n\n    EdCommonModule,\n    EdUilibModule,\n    PerfectScrollbarModule\n  ],\n  exports: [\n    ChartComponent,\n    ChartEditorComponent\n  ],\n \n})\nexport class ChartWidgetModule { }\n"]}