import { AXIS_X, AXIS_Y_LEFT, AXIS_Y_RIGHT, ScaleType } from '../chart.m';
import { TooltipBuilder } from './drawers/tooltip';
import { AxisUnitHelper } from '../edit/axes/y-axis/unit-helper';
export class OptionsProvider {
    static getOptions(comp) {
        Chart.defaults.global.defaultFontColor = '#e3e3e3';
        Chart.defaults.global.defaultFontFamily = 'Roboto';
        Chart.defaults.global.defaultFontSize = 11;
        const w = comp.widget;
        return {
            maintainAspectRatio: false,
            animation: false,
            tooltips: TooltipBuilder.build(comp),
            legend: {
                display: false
            },
            spanGaps: true,
            scales: {
                xAxes: [this.getAxisX(w)],
                yAxes: [this.getAxisY(w, true), this.getAxisY(w, false)]
            },
            onHover: (e) => comp.store.mouse.move(e)
        };
    }
    static getAxisX(w) {
        return {
            id: AXIS_X,
            type: 'time',
            gridLines: {
                color: 'rgba( 255,255,255, 0.1)',
            },
            ticks: {
                autoSkip: true,
                autoSkipPadding: 50,
                maxRotation: 0,
                minRotation: 0,
            },
            time: {
                displayFormats: {
                    second: 'HH:mm:ss',
                    minute: 'HH:mm',
                    hour: 'HH:mm',
                    day: 'M/D HH:mm',
                    week: 'M/D',
                    month: 'M/D',
                    year: 'YYYY-M',
                },
            },
            display: w.axes.x.show
        };
    }
    static getAxisY(w, left) {
        const wAxis = left ? w.axes.leftY : w.axes.rightY;
        const id = left ? AXIS_Y_LEFT : AXIS_Y_RIGHT;
        const axis = {
            id: id,
            display: wAxis.show,
            type: (!wAxis.scale || wAxis.scale == ScaleType.Linear) ? "linear" : "logarithmic",
            gridLines: {
                color: 'rgba( 255,255,255, 0.1)',
                zeroLineWidth: 3,
            },
            position: left ? "left" : "right",
            scaleLabel: {
                display: wAxis.label,
                labelString: wAxis.label,
            },
            ticks: {
                min: wAxis.min,
                max: wAxis.max,
                userCallback: (label, index, labels) => {
                    if (labels.length > 8 && !(index % 2)) {
                        return;
                    }
                    return AxisUnitHelper.getFormattedValue(label, wAxis.unit, wAxis.decimals);
                }
            },
            stacked: w.display.stack,
        };
        return axis;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3B0aW9ucy1wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2FwcC9wbHVnaW5zL3dpZGdldHMvY2hhcnQvc3JjL3ZpZXcvb3B0aW9ucy1wcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQVMsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ2pGLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFJakUsTUFBTSxPQUFPLGVBQWU7SUFFM0IsTUFBTSxDQUFDLFVBQVUsQ0FBRSxJQUFvQjtRQUN0QyxLQUFLLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUM7UUFDbkQsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEdBQUcsUUFBUSxDQUFDO1FBQ25ELEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7UUFFM0MsTUFBTSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUV0QixPQUFPO1lBQ04sbUJBQW1CLEVBQUUsS0FBSztZQUMxQixTQUFTLEVBQUUsS0FBSztZQUVoQixRQUFRLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBRSxJQUFJLENBQUU7WUFFdEMsTUFBTSxFQUFFO2dCQUNQLE9BQU8sRUFBRSxLQUFLO2FBQ2Q7WUFFRCxRQUFRLEVBQUUsSUFBSTtZQUVkLE1BQU0sRUFBRTtnQkFDUCxLQUFLLEVBQUUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFFLENBQUMsQ0FBRSxDQUFDO2dCQUMzQixLQUFLLEVBQUUsQ0FBRSxJQUFJLENBQUMsUUFBUSxDQUFFLENBQUMsRUFBRSxJQUFJLENBQUUsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFFLENBQUMsRUFBRSxLQUFLLENBQUUsQ0FBQzthQUM3RDtZQUVELE9BQU8sRUFBRSxDQUFFLENBQUMsRUFBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFFLENBQUMsQ0FBRTtTQUM1QyxDQUFDO0lBQ0gsQ0FBQztJQUVPLE1BQU0sQ0FBQyxRQUFRLENBQUUsQ0FBUTtRQUNoQyxPQUFPO1lBQ04sRUFBRSxFQUFFLE1BQU07WUFDVixJQUFJLEVBQUUsTUFBTTtZQUNaLFNBQVMsRUFBRTtnQkFDVixLQUFLLEVBQUUseUJBQXlCO2FBQ2hDO1lBQ0QsS0FBSyxFQUFFO2dCQUNOLFFBQVEsRUFBRSxJQUFJO2dCQUNkLGVBQWUsRUFBRSxFQUFFO2dCQUNuQixXQUFXLEVBQUUsQ0FBQztnQkFDZCxXQUFXLEVBQUUsQ0FBQzthQUVkO1lBQ0QsSUFBSSxFQUFFO2dCQUNMLGNBQWMsRUFBRTtvQkFDZixNQUFNLEVBQUUsVUFBVTtvQkFDbEIsTUFBTSxFQUFFLE9BQU87b0JBQ2YsSUFBSSxFQUFFLE9BQU87b0JBQ2IsR0FBRyxFQUFFLFdBQVc7b0JBQ2hCLElBQUksRUFBRSxLQUFLO29CQUNYLEtBQUssRUFBRSxLQUFLO29CQUNaLElBQUksRUFBRSxRQUFRO2lCQUNiO2FBQ0Y7WUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSTtTQUN0QixDQUFBO0lBQ0YsQ0FBQztJQUVPLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBUSxFQUFFLElBQWE7UUFDOUMsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7UUFDbEQsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUU3QyxNQUFNLElBQUksR0FBRztZQUNaLEVBQUUsRUFBRSxFQUFFO1lBQ04sT0FBTyxFQUFFLEtBQUssQ0FBQyxJQUFJO1lBQ25CLElBQUksRUFBRSxDQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxLQUFLLENBQUMsS0FBSyxJQUFJLFNBQVMsQ0FBQyxNQUFNLENBQUUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhO1lBQ3BGLFNBQVMsRUFBRTtnQkFDVixLQUFLLEVBQUUseUJBQXlCO2dCQUNoQyxhQUFhLEVBQUUsQ0FBQzthQUNoQjtZQUNELFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTztZQUNqQyxVQUFVLEVBQUM7Z0JBQ1YsT0FBTyxFQUFFLEtBQUssQ0FBQyxLQUFLO2dCQUNwQixXQUFXLEVBQUUsS0FBSyxDQUFDLEtBQUs7YUFDeEI7WUFDRCxLQUFLLEVBQUM7Z0JBQ0wsR0FBRyxFQUFFLEtBQUssQ0FBQyxHQUFHO2dCQUNkLEdBQUcsRUFBRSxLQUFLLENBQUMsR0FBRztnQkFDZCxZQUFZLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFO29CQUN0QyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBRSxLQUFLLEdBQUcsQ0FBQyxDQUFFLEVBQUU7d0JBQ3hDLE9BQU87cUJBQ1A7b0JBRUQsT0FBTyxjQUFjLENBQUMsaUJBQWlCLENBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLFFBQVEsQ0FBRSxDQUFDO2dCQUM5RSxDQUFDO2FBQ0Q7WUFDRCxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxLQUFLO1NBQ3hCLENBQUE7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNiLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vY2hhcnQuYyc7XHJcbmltcG9ydCB7IEFYSVNfWCwgQVhJU19ZX0xFRlQsIEFYSVNfWV9SSUdIVCwgQ2hhcnQsIFNjYWxlVHlwZSB9IGZyb20gJy4uL2NoYXJ0Lm0nO1xyXG5pbXBvcnQgeyBUb29sdGlwQnVpbGRlciB9IGZyb20gJy4vZHJhd2Vycy90b29sdGlwJztcclxuaW1wb3J0IHsgQXhpc1VuaXRIZWxwZXIgfSBmcm9tICcuLi9lZGl0L2F4ZXMveS1heGlzL3VuaXQtaGVscGVyJztcclxuXHJcbmRlY2xhcmUgdmFyIENoYXJ0OiBhbnk7XHJcblxyXG5leHBvcnQgY2xhc3MgT3B0aW9uc1Byb3ZpZGVye1xyXG5cclxuXHRzdGF0aWMgZ2V0T3B0aW9ucyggY29tcDogQ2hhcnRDb21wb25lbnQgKXtcclxuXHRcdENoYXJ0LmRlZmF1bHRzLmdsb2JhbC5kZWZhdWx0Rm9udENvbG9yID0gJyNlM2UzZTMnO1xyXG5cdFx0Q2hhcnQuZGVmYXVsdHMuZ2xvYmFsLmRlZmF1bHRGb250RmFtaWx5ID0gJ1JvYm90byc7XHJcblx0XHRDaGFydC5kZWZhdWx0cy5nbG9iYWwuZGVmYXVsdEZvbnRTaXplID0gMTE7XHJcblxyXG5cdFx0Y29uc3QgdyA9IGNvbXAud2lkZ2V0O1xyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdG1haW50YWluQXNwZWN0UmF0aW86IGZhbHNlLFxyXG5cdFx0XHRhbmltYXRpb246IGZhbHNlLFxyXG5cclxuXHRcdFx0dG9vbHRpcHM6IFRvb2x0aXBCdWlsZGVyLmJ1aWxkKCBjb21wICksXHJcblxyXG5cdFx0XHRsZWdlbmQ6IHtcclxuXHRcdFx0XHRkaXNwbGF5OiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFxyXG5cdFx0XHRzcGFuR2FwczogdHJ1ZSxcclxuXHJcblx0XHRcdHNjYWxlczoge1xyXG5cdFx0XHRcdHhBeGVzOiBbdGhpcy5nZXRBeGlzWCggdyApXSxcclxuXHRcdFx0XHR5QXhlczogWyB0aGlzLmdldEF4aXNZKCB3LCB0cnVlICksIHRoaXMuZ2V0QXhpc1koIHcsIGZhbHNlICldIFxyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0b25Ib3ZlcjogKCBlICkgPT4gY29tcC5zdG9yZS5tb3VzZS5tb3ZlKCBlIClcclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwcml2YXRlIHN0YXRpYyBnZXRBeGlzWCggdzogQ2hhcnQgKXtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGlkOiBBWElTX1gsXHJcblx0XHRcdHR5cGU6ICd0aW1lJyxcclxuXHRcdFx0Z3JpZExpbmVzOiB7XHJcblx0XHRcdFx0Y29sb3I6ICdyZ2JhKCAyNTUsMjU1LDI1NSwgMC4xKScsXHJcblx0XHRcdH0sXHJcblx0XHRcdHRpY2tzOiB7XHJcblx0XHRcdFx0YXV0b1NraXA6IHRydWUsXHJcblx0XHRcdFx0YXV0b1NraXBQYWRkaW5nOiA1MCxcclxuXHRcdFx0XHRtYXhSb3RhdGlvbjogMCxcclxuXHRcdFx0XHRtaW5Sb3RhdGlvbjogMCxcclxuXHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0dGltZToge1xyXG5cdFx0XHRcdGRpc3BsYXlGb3JtYXRzOiB7XHJcblx0XHRcdFx0XHRzZWNvbmQ6ICdISDptbTpzcycsXHJcblx0XHRcdFx0XHRtaW51dGU6ICdISDptbScsXHJcblx0XHRcdFx0XHRob3VyOiAnSEg6bW0nLFxyXG5cdFx0XHRcdFx0ZGF5OiAnTS9EIEhIOm1tJyxcclxuXHRcdFx0XHRcdHdlZWs6ICdNL0QnLFxyXG5cdFx0XHRcdFx0bW9udGg6ICdNL0QnLFxyXG5cdFx0XHRcdFx0eWVhcjogJ1lZWVktTScsXHJcblx0XHRcdFx0IH0sXHJcblx0XHRcdH0sXHJcblx0XHRcdGRpc3BsYXk6IHcuYXhlcy54LnNob3dcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHByaXZhdGUgc3RhdGljIGdldEF4aXNZKHc6IENoYXJ0LCBsZWZ0OiBib29sZWFuKXtcclxuXHRcdGNvbnN0IHdBeGlzID0gbGVmdCA/IHcuYXhlcy5sZWZ0WSA6IHcuYXhlcy5yaWdodFk7XHJcblx0XHRjb25zdCBpZCA9IGxlZnQgPyBBWElTX1lfTEVGVCA6IEFYSVNfWV9SSUdIVDtcclxuXHJcblx0XHRjb25zdCBheGlzID0ge1xyXG5cdFx0XHRpZDogaWQsXHJcblx0XHRcdGRpc3BsYXk6IHdBeGlzLnNob3csXHJcblx0XHRcdHR5cGU6ICggIXdBeGlzLnNjYWxlIHx8IHdBeGlzLnNjYWxlID09IFNjYWxlVHlwZS5MaW5lYXIgKSA/IFwibGluZWFyXCIgOiBcImxvZ2FyaXRobWljXCIsXHJcblx0XHRcdGdyaWRMaW5lczoge1xyXG5cdFx0XHRcdGNvbG9yOiAncmdiYSggMjU1LDI1NSwyNTUsIDAuMSknLFxyXG5cdFx0XHRcdHplcm9MaW5lV2lkdGg6IDMsXHJcblx0XHRcdH0sXHJcblx0XHRcdHBvc2l0aW9uOiBsZWZ0ID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIsXHJcblx0XHRcdHNjYWxlTGFiZWw6e1xyXG5cdFx0XHRcdGRpc3BsYXk6IHdBeGlzLmxhYmVsLFxyXG5cdFx0XHRcdGxhYmVsU3RyaW5nOiB3QXhpcy5sYWJlbCxcclxuXHRcdFx0fSxcclxuXHRcdFx0dGlja3M6e1xyXG5cdFx0XHRcdG1pbjogd0F4aXMubWluLFxyXG5cdFx0XHRcdG1heDogd0F4aXMubWF4LFxyXG5cdFx0XHRcdHVzZXJDYWxsYmFjazogKGxhYmVsLCBpbmRleCwgbGFiZWxzKSA9PiB7XHJcblx0XHRcdFx0XHRpZiggbGFiZWxzLmxlbmd0aCA+IDggJiYgISggaW5kZXggJSAyICkgKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRyZXR1cm4gQXhpc1VuaXRIZWxwZXIuZ2V0Rm9ybWF0dGVkVmFsdWUoIGxhYmVsLCB3QXhpcy51bml0LCB3QXhpcy5kZWNpbWFscyApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0c3RhY2tlZDogdy5kaXNwbGF5LnN0YWNrLFxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBheGlzO1xyXG5cdH1cclxufVxyXG4iXX0=