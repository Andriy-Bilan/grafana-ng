<ed-page [navigation]="'admin-users'">
	<form (ngSubmit)="onSubmit()" [formGroup]="form" class="gf-form-group">

		<h1>Add new user</h1>

		<ed-textbox
			[label]="'Name'"
			[labelWidth]="10"
			formControlName="name">
			<ng-template edValidationTemplate *ngIf="name.hasError( 'required' ) && name.touched">
				please enter name
			</ng-template>
		</ed-textbox>

		<ed-textbox
			[label]="'Email'"
			[labelWidth]="10"
			formControlName="email">
			<ng-template edValidationTemplate *ngIf="(email.hasError( 'email' ) || email.hasError( 'required' ) ) && email.touched">
				email must be a valid email address
			</ng-template>
		</ed-textbox>

		<ed-textbox
			[label]="'Username'"
			[labelWidth]="10"
			formControlName="login">
			<ng-template edValidationTemplate *ngIf="(login.hasError( 'required' ) ) && login.touched">
				please enter user name
			</ng-template>
		</ed-textbox>

		<ed-textbox
			[label]="'Password'"
			[labelWidth]="10"
			[type]="'password'"
			formControlName="password">
			<ng-template edValidationTemplate *ngIf="(password.hasError( 'required' ) ) && password.touched">
				please enter password
			</ng-template>
		</ed-textbox>

		<div class="gf-form-button-row ed-flex" >
			<button type="submit" class="btn btn-success" [disabled]="!form.valid || waiting">Create</button>
			<ed-progress message="creating new user..." *ngIf="waiting" ></ed-progress>
		</div>

	</form>
</ed-page>